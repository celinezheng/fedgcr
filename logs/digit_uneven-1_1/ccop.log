===2023-04-29 22:25:27===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 16
    iters: 50
    wk_iters: 1
    si: False
    lambda for constrastive: 0.5
data_number=[35,71,106,142,29,59,89,44,55,22,]
domain number = 5
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
gmm
client-0 is in G-1
client-1 is in G-1
client-2 is in G-1
client-3 is in G-1
client-4 is in G-0
client-5 is in G-0
client-6 is in G-0
client-7 is in G-4
client-8 is in G-3
client-9 is in G-2
cnt=[3, 4, 1, 1, 1, ]
power_decay: 0.9, powerI: 0.9400, powerC: 0.0600
sum of wi : 1.0000
 Site-MNIST     | Train Loss: 2.0910 | Train Acc: 0.3714
 Site-MNIST     | Train Loss: 1.9539 | Train Acc: 0.4225
 Site-MNIST     | Train Loss: 1.9764 | Train Acc: 0.4528
 Site-MNIST     | Train Loss: 1.8979 | Train Acc: 0.4648
 Site-SVHN      | Train Loss: 2.3130 | Train Acc: 0.0345
 Site-SVHN      | Train Loss: 2.2377 | Train Acc: 0.1864
 Site-SVHN      | Train Loss: 2.2224 | Train Acc: 0.2022
 Site-USPS      | Train Loss: 1.9328 | Train Acc: 0.3636
 Site-SynthDigits| Train Loss: 2.2803 | Train Acc: 0.0727
 Site-MNIST-M   | Train Loss: 2.2458 | Train Acc: 0.2273
 Site-MNIST     | Val  Loss: 1.8888 | Val  Acc: 0.3913
 Site-MNIST     | Val  Loss: 1.9229 | Val  Acc: 0.4468
 Site-MNIST     | Val  Loss: 1.9776 | Val  Acc: 0.4366
 Site-MNIST     | Val  Loss: 1.9417 | Val  Acc: 0.4362
 Site-SVHN      | Val  Loss: 2.1557 | Val  Acc: 0.3684
 Site-SVHN      | Val  Loss: 2.1910 | Val  Acc: 0.2308
 Site-SVHN      | Val  Loss: 2.2680 | Val  Acc: 0.1356
 Site-USPS      | Val  Loss: 2.0658 | Val  Acc: 0.2759
 Site-SynthDigits| Val  Loss: 2.2851 | Val  Acc: 0.1351
 Site-MNIST-M   | Val  Loss: 2.3830 | Val  Acc: 0.0714
Average Valid Accuracy: 0.2928
Aggregated Acc | Val Acc: 0.2310
 Best site-MNIST      | Epoch:0 | Val Acc: 0.3913
 Best site-MNIST      | Epoch:0 | Val Acc: 0.4468
 Best site-MNIST      | Epoch:0 | Val Acc: 0.4366
 Best site-MNIST      | Epoch:0 | Val Acc: 0.4362
 Best site-SVHN       | Epoch:0 | Val Acc: 0.3684
 Best site-SVHN       | Epoch:0 | Val Acc: 0.2308
 Best site-SVHN       | Epoch:0 | Val Acc: 0.1356
 Best site-USPS       | Epoch:0 | Val Acc: 0.2759
 Best site-SynthDigits | Epoch:0 | Val Acc: 0.1351
 Best site-MNIST-M    | Epoch:0 | Val Acc: 0.0714
 Saving the local and server checkpoint to ../checkpoint/fed_digit_uneven-1_1/ccop_q=1...
============ Train epoch 1 ============
gmm
client-0 is in G-0
client-1 is in G-0
client-2 is in G-0
client-3 is in G-0
client-4 is in G-1
client-5 is in G-1
client-6 is in G-1
client-7 is in G-4
client-8 is in G-2
client-9 is in G-3
cnt=[4, 3, 1, 1, 1, ]
power_decay: 0.9, powerI: 0.8860, powerC: 0.1140
sum of wi : 1.0000
 Site-MNIST     | Train Loss: 1.9509 | Train Acc: 0.4000
 Site-MNIST     | Train Loss: 1.6964 | Train Acc: 0.5775
 Site-MNIST     | Train Loss: 1.7457 | Train Acc: 0.5377
 Site-MNIST     | Train Loss: 1.6260 | Train Acc: 0.5282
 Site-SVHN      | Train Loss: 2.2389 | Train Acc: 0.1379
 Site-SVHN      | Train Loss: 2.1603 | Train Acc: 0.2203
 Site-SVHN      | Train Loss: 2.1294 | Train Acc: 0.2247
 Site-USPS      | Train Loss: 1.7852 | Train Acc: 0.5682
 Site-SynthDigits| Train Loss: 2.2022 | Train Acc: 0.2000
 Site-MNIST-M   | Train Loss: 2.2834 | Train Acc: 0.1818
 Site-MNIST     | Val  Loss: 1.5572 | Val  Acc: 0.5217
 Site-MNIST     | Val  Loss: 1.6438 | Val  Acc: 0.5106
 Site-MNIST     | Val  Loss: 1.7417 | Val  Acc: 0.4930
 Site-MNIST     | Val  Loss: 1.7020 | Val  Acc: 0.5532
 Site-SVHN      | Val  Loss: 1.9103 | Val  Acc: 0.3684
 Site-SVHN      | Val  Loss: 2.0593 | Val  Acc: 0.2564
 Site-SVHN      | Val  Loss: 2.2056 | Val  Acc: 0.2034
 Site-USPS      | Val  Loss: 1.9151 | Val  Acc: 0.5172
 Site-SynthDigits| Val  Loss: 2.2488 | Val  Acc: 0.1892
 Site-MNIST-M   | Val  Loss: 2.3663 | Val  Acc: 0.0000
Average Valid Accuracy: 0.3613
Aggregated Acc | Val Acc: 0.3004
 Best site-MNIST      | Epoch:1 | Val Acc: 0.5217
 Best site-MNIST      | Epoch:1 | Val Acc: 0.5106
 Best site-MNIST      | Epoch:1 | Val Acc: 0.4930
 Best site-MNIST      | Epoch:1 | Val Acc: 0.5532
 Best site-SVHN       | Epoch:1 | Val Acc: 0.3684
 Best site-SVHN       | Epoch:1 | Val Acc: 0.2564
 Best site-SVHN       | Epoch:1 | Val Acc: 0.2034
 Best site-USPS       | Epoch:1 | Val Acc: 0.5172
 Best site-SynthDigits | Epoch:1 | Val Acc: 0.1892
 Best site-MNIST-M    | Epoch:1 | Val Acc: 0.0000
 Saving the local and server checkpoint to ../checkpoint/fed_digit_uneven-1_1/ccop_q=1...
============ Train epoch 2 ============
gmm
client-0 is in G-0
client-1 is in G-0
client-2 is in G-0
client-3 is in G-0
client-4 is in G-1
client-5 is in G-1
client-6 is in G-1
client-7 is in G-4
client-8 is in G-2
client-9 is in G-3
cnt=[4, 3, 1, 1, 1, ]
power_decay: 0.9, powerI: 0.8374, powerC: 0.1626
sum of wi : 1.0000
 Site-MNIST     | Train Loss: 1.6625 | Train Acc: 0.5714
 Site-MNIST     | Train Loss: 1.4374 | Train Acc: 0.6620
 Site-MNIST     | Train Loss: 1.4706 | Train Acc: 0.6226
 Site-MNIST     | Train Loss: 1.3805 | Train Acc: 0.6549
 Site-SVHN      | Train Loss: 2.1974 | Train Acc: 0.2069
 Site-SVHN      | Train Loss: 2.1260 | Train Acc: 0.2034
 Site-SVHN      | Train Loss: 2.0713 | Train Acc: 0.2472
 Site-USPS      | Train Loss: 1.5752 | Train Acc: 0.5227
 Site-SynthDigits| Train Loss: 2.1113 | Train Acc: 0.2727
 Site-MNIST-M   | Train Loss: 2.3706 | Train Acc: 0.1364
 Site-MNIST     | Val  Loss: 1.3331 | Val  Acc: 0.6957
 Site-MNIST     | Val  Loss: 1.4103 | Val  Acc: 0.6809
 Site-MNIST     | Val  Loss: 1.5096 | Val  Acc: 0.6197
 Site-MNIST     | Val  Loss: 1.4575 | Val  Acc: 0.6383
 Site-SVHN      | Val  Loss: 1.8271 | Val  Acc: 0.3684
 Site-SVHN      | Val  Loss: 1.9734 | Val  Acc: 0.2821
 Site-SVHN      | Val  Loss: 2.1737 | Val  Acc: 0.2203
 Site-USPS      | Val  Loss: 1.7183 | Val  Acc: 0.4828
 Site-SynthDigits| Val  Loss: 2.1494 | Val  Acc: 0.1892
 Site-MNIST-M   | Val  Loss: 2.2860 | Val  Acc: 0.1429
Average Valid Accuracy: 0.4320
Aggregated Acc | Val Acc: 0.3527
 Best site-MNIST      | Epoch:2 | Val Acc: 0.6957
 Best site-MNIST      | Epoch:2 | Val Acc: 0.6809
 Best site-MNIST      | Epoch:2 | Val Acc: 0.6197
 Best site-MNIST      | Epoch:2 | Val Acc: 0.6383
 Best site-SVHN       | Epoch:2 | Val Acc: 0.3684
 Best site-SVHN       | Epoch:2 | Val Acc: 0.2821
 Best site-SVHN       | Epoch:2 | Val Acc: 0.2203
 Best site-USPS       | Epoch:2 | Val Acc: 0.4828
 Best site-SynthDigits | Epoch:2 | Val Acc: 0.1892
 Best site-MNIST-M    | Epoch:2 | Val Acc: 0.1429
 Saving the local and server checkpoint to ../checkpoint/fed_digit_uneven-1_1/ccop_q=1...
============ Train epoch 3 ============
