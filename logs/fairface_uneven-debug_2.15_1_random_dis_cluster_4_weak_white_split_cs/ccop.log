===2023-06-16 20:43:48===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 6
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[27,39,58,86,128,188,277,407,599,881,60,89,132,194,285,235,347,270,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[7, 1, 5, 5, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White-0                   (2) | Train Loss: 1.8496 | Train Acc: 0.4444
 Site-White-1                   (0) | Train Loss: 1.8125 | Train Acc: 0.4359
 Site-White-2                   (2) | Train Loss: 1.8564 | Train Acc: 0.3621
 Site-White-3                   (0) | Train Loss: 1.8336 | Train Acc: 0.3140
 Site-White-4                   (0) | Train Loss: 1.8288 | Train Acc: 0.3359
 Site-White-5                   (0) | Train Loss: 1.8274 | Train Acc: 0.3138
 Site-White-6                   (2) | Train Loss: 1.8515 | Train Acc: 0.3502
 Site-White-7                   (0) | Train Loss: 1.8045 | Train Acc: 0.3612
 Site-White-8                   (2) | Train Loss: 1.8010 | Train Acc: 0.3556
 Site-White-9                   (2) | Train Loss: 1.7923 | Train Acc: 0.3326
 Site-Indian-0                  (3) | Train Loss: 2.0781 | Train Acc: 0.1833
 Site-Indian-1                  (3) | Train Loss: 2.1822 | Train Acc: 0.2584
 Site-Indian-2                  (3) | Train Loss: 1.9441 | Train Acc: 0.2424
 Site-Indian-3                  (3) | Train Loss: 2.0950 | Train Acc: 0.2577
 Site-Indian-4                  (3) | Train Loss: 2.0706 | Train Acc: 0.2561
 Site-Middle_Eastern-0          (0) | Train Loss: 1.9455 | Train Acc: 0.2979
 Site-Middle_Eastern-1          (0) | Train Loss: 2.0054 | Train Acc: 0.2738
 Site-Black_utk-0               (1) | Train Loss: 2.0312 | Train Acc: 0.2667
Average Train Accuracy: 0.3134
 Site-White-0                   (2) | Val  Loss: 2.3296 | Val  Acc: 0.0000
 Site-White-1                   (0) | Val  Loss: 1.7107 | Val  Acc: 0.2000
 Site-White-2                   (2) | Val  Loss: 1.8568 | Val  Acc: 0.1250
 Site-White-3                   (0) | Val  Loss: 1.9587 | Val  Acc: 0.2500
 Site-White-4                   (0) | Val  Loss: 1.6877 | Val  Acc: 0.3333
 Site-White-5                   (0) | Val  Loss: 1.8933 | Val  Acc: 0.3077
 Site-White-6                   (2) | Val  Loss: 1.9412 | Val  Acc: 0.3590
 Site-White-7                   (0) | Val  Loss: 1.8923 | Val  Acc: 0.2931
 Site-White-8                   (2) | Val  Loss: 1.9162 | Val  Acc: 0.3059
 Site-White-9                   (2) | Val  Loss: 1.7430 | Val  Acc: 0.3360
 Site-Indian-0                  (3) | Val  Loss: 2.9127 | Val  Acc: 0.1250
 Site-Indian-1                  (3) | Val  Loss: 2.6609 | Val  Acc: 0.0000
 Site-Indian-2                  (3) | Val  Loss: 2.1678 | Val  Acc: 0.1667
 Site-Indian-3                  (3) | Val  Loss: 2.1698 | Val  Acc: 0.3704
 Site-Indian-4                  (3) | Val  Loss: 2.2242 | Val  Acc: 0.2000
 Site-Middle_Eastern-0          (0) | Val  Loss: 2.0246 | Val  Acc: 0.2121
 Site-Middle_Eastern-1          (0) | Val  Loss: 2.1523 | Val  Acc: 0.2041
 Site-Black_utk-0               (1) | Val  Loss: 1.8289 | Val  Acc: 0.3947
Average Valid Accuracy: 0.2324
 Best site-White-0                  (2)  | Epoch:0 | Val Acc: 0.0000
 Best site-White-1                  (0)  | Epoch:0 | Val Acc: 0.2000
 Best site-White-2                  (2)  | Epoch:0 | Val Acc: 0.1250
 Best site-White-3                  (0)  | Epoch:0 | Val Acc: 0.2500
 Best site-White-4                  (0)  | Epoch:0 | Val Acc: 0.3333
 Best site-White-5                  (0)  | Epoch:0 | Val Acc: 0.3077
 Best site-White-6                  (2)  | Epoch:0 | Val Acc: 0.3590
 Best site-White-7                  (0)  | Epoch:0 | Val Acc: 0.2931
 Best site-White-8                  (2)  | Epoch:0 | Val Acc: 0.3059
 Best site-White-9                  (2)  | Epoch:0 | Val Acc: 0.3360
 Best site-Indian-0                 (3)  | Epoch:0 | Val Acc: 0.1250
 Best site-Indian-1                 (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-Indian-2                 (3)  | Epoch:0 | Val Acc: 0.1667
 Best site-Indian-3                 (3)  | Epoch:0 | Val Acc: 0.3704
 Best site-Indian-4                 (3)  | Epoch:0 | Val Acc: 0.2000
 Best site-Middle_Eastern-0         (0)  | Epoch:0 | Val Acc: 0.2121
 Best site-Middle_Eastern-1         (0)  | Epoch:0 | Val Acc: 0.2041
 Best site-Black_utk-0              (1)  | Epoch:0 | Val Acc: 0.3947
 Test site-White-0                   (2)| Epoch:0 | Test Acc: 0.3333
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.3077
 Test site-White-2                   (2)| Epoch:0 | Test Acc: 0.3333
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3077
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.3514
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.3636
 Test site-White-6                   (2)| Epoch:0 | Test Acc: 0.3375
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.3419
 Test site-White-8                   (2)| Epoch:0 | Test Acc: 0.3372
 Test site-White-9                   (2)| Epoch:0 | Test Acc: 0.3518
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.5263
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.3704
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.1538
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.2281
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.2530
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2464
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.3100
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.3924
White: 0.3365, Indian: 0.3063, Middle_Eastern: 0.2782, Black_utk: 0.3924, 
Average Test Accuracy(group): 0.3284, Average Test Accuracy(individual): 0.3248,
domain std=0.0423, cluster std=0.0330, individual std=0.0751, 
Average Test Accuracy: 0.3284
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1_gmap...
 Test site-White-0                   (2)| Epoch:0 | Test Acc: 0.5556
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.2308
 Test site-White-2                   (2)| Epoch:0 | Test Acc: 0.4444
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3462
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.2703
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.4182
 Test site-White-6                   (2)| Epoch:0 | Test Acc: 0.3750
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.3419
 Test site-White-8                   (2)| Epoch:0 | Test Acc: 0.3198
 Test site-White-9                   (2)| Epoch:0 | Test Acc: 0.3715
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.5263
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.3333
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.1538
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.1754
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.2530
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2029
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.2700
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.4304
White: 0.3674, Indian: 0.2884, Middle_Eastern: 0.2364, Black_utk: 0.4304, 
Average Test Accuracy(group): 0.3306, Average Test Accuracy(individual): 0.3344,
domain std=0.0741, cluster std=0.0649, individual std=0.1101, 
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1...
============ Train epoch 1 ============
===2023-06-16 20:50:32===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 6
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[27,39,58,86,128,188,277,407,599,881,60,89,132,194,285,235,347,270,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
===2023-06-16 20:52:56===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 1
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[27,39,58,86,128,188,277,407,599,881,60,89,132,194,285,235,347,270,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[7, 1, 5, 5, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White-0                   (2) | Train Loss: 1.8496 | Train Acc: 0.4444
 Site-White-1                   (0) | Train Loss: 1.8125 | Train Acc: 0.4359
 Site-White-2                   (2) | Train Loss: 1.8564 | Train Acc: 0.3621
 Site-White-3                   (0) | Train Loss: 1.8336 | Train Acc: 0.3140
 Site-White-4                   (0) | Train Loss: 1.8288 | Train Acc: 0.3359
 Site-White-5                   (0) | Train Loss: 1.8274 | Train Acc: 0.3138
 Site-White-6                   (2) | Train Loss: 1.8515 | Train Acc: 0.3502
 Site-White-7                   (0) | Train Loss: 1.8045 | Train Acc: 0.3612
 Site-White-8                   (2) | Train Loss: 1.8010 | Train Acc: 0.3556
 Site-White-9                   (2) | Train Loss: 1.7923 | Train Acc: 0.3326
 Site-Indian-0                  (3) | Train Loss: 2.0781 | Train Acc: 0.1833
 Site-Indian-1                  (3) | Train Loss: 2.1822 | Train Acc: 0.2584
 Site-Indian-2                  (3) | Train Loss: 1.9441 | Train Acc: 0.2424
 Site-Indian-3                  (3) | Train Loss: 2.0950 | Train Acc: 0.2577
 Site-Indian-4                  (3) | Train Loss: 2.0706 | Train Acc: 0.2561
 Site-Middle_Eastern-0          (0) | Train Loss: 1.9455 | Train Acc: 0.2979
 Site-Middle_Eastern-1          (0) | Train Loss: 2.0054 | Train Acc: 0.2738
 Site-Black_utk-0               (1) | Train Loss: 2.0312 | Train Acc: 0.2667
Average Train Accuracy: 0.3134
 Site-White-0                   (2) | Val  Loss: 2.3296 | Val  Acc: 0.0000
 Site-White-1                   (0) | Val  Loss: 1.7107 | Val  Acc: 0.2000
 Site-White-2                   (2) | Val  Loss: 1.8568 | Val  Acc: 0.1250
 Site-White-3                   (0) | Val  Loss: 1.9587 | Val  Acc: 0.2500
 Site-White-4                   (0) | Val  Loss: 1.6877 | Val  Acc: 0.3333
 Site-White-5                   (0) | Val  Loss: 1.8933 | Val  Acc: 0.3077
 Site-White-6                   (2) | Val  Loss: 1.9412 | Val  Acc: 0.3590
 Site-White-7                   (0) | Val  Loss: 1.8923 | Val  Acc: 0.2931
 Site-White-8                   (2) | Val  Loss: 1.9162 | Val  Acc: 0.3059
 Site-White-9                   (2) | Val  Loss: 1.7430 | Val  Acc: 0.3360
 Site-Indian-0                  (3) | Val  Loss: 2.9127 | Val  Acc: 0.1250
 Site-Indian-1                  (3) | Val  Loss: 2.6609 | Val  Acc: 0.0000
 Site-Indian-2                  (3) | Val  Loss: 2.1678 | Val  Acc: 0.1667
 Site-Indian-3                  (3) | Val  Loss: 2.1698 | Val  Acc: 0.3704
 Site-Indian-4                  (3) | Val  Loss: 2.2242 | Val  Acc: 0.2000
 Site-Middle_Eastern-0          (0) | Val  Loss: 2.0246 | Val  Acc: 0.2121
 Site-Middle_Eastern-1          (0) | Val  Loss: 2.1523 | Val  Acc: 0.2041
 Site-Black_utk-0               (1) | Val  Loss: 1.8289 | Val  Acc: 0.3947
Average Valid Accuracy: 0.2324
 Best site-White-0                  (2)  | Epoch:0 | Val Acc: 0.0000
 Best site-White-1                  (0)  | Epoch:0 | Val Acc: 0.2000
 Best site-White-2                  (2)  | Epoch:0 | Val Acc: 0.1250
 Best site-White-3                  (0)  | Epoch:0 | Val Acc: 0.2500
 Best site-White-4                  (0)  | Epoch:0 | Val Acc: 0.3333
 Best site-White-5                  (0)  | Epoch:0 | Val Acc: 0.3077
 Best site-White-6                  (2)  | Epoch:0 | Val Acc: 0.3590
 Best site-White-7                  (0)  | Epoch:0 | Val Acc: 0.2931
 Best site-White-8                  (2)  | Epoch:0 | Val Acc: 0.3059
 Best site-White-9                  (2)  | Epoch:0 | Val Acc: 0.3360
 Best site-Indian-0                 (3)  | Epoch:0 | Val Acc: 0.1250
 Best site-Indian-1                 (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-Indian-2                 (3)  | Epoch:0 | Val Acc: 0.1667
 Best site-Indian-3                 (3)  | Epoch:0 | Val Acc: 0.3704
 Best site-Indian-4                 (3)  | Epoch:0 | Val Acc: 0.2000
 Best site-Middle_Eastern-0         (0)  | Epoch:0 | Val Acc: 0.2121
 Best site-Middle_Eastern-1         (0)  | Epoch:0 | Val Acc: 0.2041
 Best site-Black_utk-0              (1)  | Epoch:0 | Val Acc: 0.3947
 Test site-White-0                   (2)| Epoch:0 | Test Acc: 0.3333
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.3077
 Test site-White-2                   (2)| Epoch:0 | Test Acc: 0.3333
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3077
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.3514
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.3636
 Test site-White-6                   (2)| Epoch:0 | Test Acc: 0.3375
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.3419
 Test site-White-8                   (2)| Epoch:0 | Test Acc: 0.3372
 Test site-White-9                   (2)| Epoch:0 | Test Acc: 0.3518
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.5263
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.3704
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.1538
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.2281
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.2530
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2464
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.3100
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.3924
White: 0.3365, Indian: 0.3063, Middle_Eastern: 0.2782, Black_utk: 0.3924, 
Average Test Accuracy(group): 0.3284, Average Test Accuracy(individual): 0.3248,
domain std=0.0423, cluster std=0.0330, individual std=0.0751, 
Average Test Accuracy: 0.3284
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1_gmap...
 Test site-White-0                   (2)| Epoch:0 | Test Acc: 0.5556
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.2308
 Test site-White-2                   (2)| Epoch:0 | Test Acc: 0.4444
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3462
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.2703
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.4182
 Test site-White-6                   (2)| Epoch:0 | Test Acc: 0.3750
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.3419
 Test site-White-8                   (2)| Epoch:0 | Test Acc: 0.3198
===2023-06-16 20:58:40===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 1
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[27,39,58,86,128,188,277,407,599,881,60,89,132,194,285,235,347,270,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
===2023-06-16 20:59:32===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 1
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[4,7,11,16,25,37,55,81,119,175,11,17,25,38,56,46,68,53,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[2, 1, 14, 1, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White-0                   (1) | Train Loss: 1.9098 | Train Acc: 0.0000
 Site-White-1                   (0) | Train Loss: 1.7681 | Train Acc: 0.7143
 Site-White-2                   (0) | Train Loss: 1.6682 | Train Acc: 0.3636
 Site-White-3                   (2) | Train Loss: 1.9726 | Train Acc: 0.2500
 Site-White-4                   (2) | Train Loss: 1.9857 | Train Acc: 0.1600
 Site-White-5                   (2) | Train Loss: 1.9517 | Train Acc: 0.2703
 Site-White-6                   (2) | Train Loss: 1.9633 | Train Acc: 0.3091
 Site-White-7                   (2) | Train Loss: 1.9136 | Train Acc: 0.1852
 Site-White-8                   (2) | Train Loss: 1.9271 | Train Acc: 0.2437
 Site-White-9                   (2) | Train Loss: 1.8764 | Train Acc: 0.2629
 Site-Indian-0                  (2) | Train Loss: 2.3204 | Train Acc: 0.1818
 Site-Indian-1                  (2) | Train Loss: 2.2804 | Train Acc: 0.1765
 Site-Indian-2                  (2) | Train Loss: 2.0596 | Train Acc: 0.3600
 Site-Indian-3                  (2) | Train Loss: 2.1412 | Train Acc: 0.1842
 Site-Indian-4                  (2) | Train Loss: 2.0609 | Train Acc: 0.2143
 Site-Middle_Eastern-0          (2) | Train Loss: 2.0033 | Train Acc: 0.3043
 Site-Middle_Eastern-1          (2) | Train Loss: 2.3242 | Train Acc: 0.2206
 Site-Black_utk-0               (3) | Train Loss: 2.1139 | Train Acc: 0.2453
Average Train Accuracy: 0.2581
===2023-06-16 21:01:01===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 1
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[16,23,35,51,77,112,165,244,359,528,36,53,79,116,171,141,207,162,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[10, 1, 1, 6, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White-0                   (3) | Train Loss: 2.1308 | Train Acc: 0.1875
 Site-White-1                   (2) | Train Loss: 1.5156 | Train Acc: 0.3913
 Site-White-2                   (0) | Train Loss: 1.9950 | Train Acc: 0.3429
 Site-White-3                   (0) | Train Loss: 1.7693 | Train Acc: 0.3333
 Site-White-4                   (0) | Train Loss: 1.7155 | Train Acc: 0.3247
 Site-White-5                   (0) | Train Loss: 1.7603 | Train Acc: 0.3661
 Site-White-6                   (0) | Train Loss: 1.8317 | Train Acc: 0.3576
 Site-White-7                   (0) | Train Loss: 1.7755 | Train Acc: 0.3238
 Site-White-8                   (0) | Train Loss: 1.8454 | Train Acc: 0.3343
 Site-White-9                   (0) | Train Loss: 1.8348 | Train Acc: 0.3428
 Site-Indian-0                  (3) | Train Loss: 1.9542 | Train Acc: 0.3333
 Site-Indian-1                  (3) | Train Loss: 2.0880 | Train Acc: 0.2830
 Site-Indian-2                  (3) | Train Loss: 2.2365 | Train Acc: 0.2532
 Site-Indian-3                  (3) | Train Loss: 2.1395 | Train Acc: 0.2328
 Site-Indian-4                  (3) | Train Loss: 2.0962 | Train Acc: 0.2573
 Site-Middle_Eastern-0          (0) | Train Loss: 1.9601 | Train Acc: 0.2624
 Site-Middle_Eastern-1          (0) | Train Loss: 2.0506 | Train Acc: 0.2512
 Site-Black_utk-0               (1) | Train Loss: 1.9154 | Train Acc: 0.3519
Average Train Accuracy: 0.3072
 Site-White-0                   (3) | Val  Loss: 1.0282 | Val  Acc: 0.5000
 Site-White-1                   (2) | Val  Loss: 2.1736 | Val  Acc: 0.3333
 Site-White-2                   (0) | Val  Loss: 1.7772 | Val  Acc: 0.2000
 Site-White-3                   (0) | Val  Loss: 2.2730 | Val  Acc: 0.1429
 Site-White-4                   (0) | Val  Loss: 2.0407 | Val  Acc: 0.3636
 Site-White-5                   (0) | Val  Loss: 2.3568 | Val  Acc: 0.0625
 Site-White-6                   (0) | Val  Loss: 1.8279 | Val  Acc: 0.3043
 Site-White-7                   (0) | Val  Loss: 1.8742 | Val  Acc: 0.3235
 Site-White-8                   (0) | Val  Loss: 1.8601 | Val  Acc: 0.3137
 Site-White-9                   (0) | Val  Loss: 1.6560 | Val  Acc: 0.3333
 Site-Indian-0                  (3) | Val  Loss: 2.2224 | Val  Acc: 0.0000
 Site-Indian-1                  (3) | Val  Loss: 2.0744 | Val  Acc: 0.2857
 Site-Indian-2                  (3) | Val  Loss: 1.7743 | Val  Acc: 0.2727
 Site-Indian-3                  (3) | Val  Loss: 2.5426 | Val  Acc: 0.1875
 Site-Indian-4                  (3) | Val  Loss: 2.0554 | Val  Acc: 0.3750
 Site-Middle_Eastern-0          (0) | Val  Loss: 1.9409 | Val  Acc: 0.3000
 Site-Middle_Eastern-1          (0) | Val  Loss: 1.9690 | Val  Acc: 0.3793
 Site-Black_utk-0               (1) | Val  Loss: 2.0223 | Val  Acc: 0.3478
Average Valid Accuracy: 0.2792
 Best site-White-0                  (3)  | Epoch:0 | Val Acc: 0.5000
 Best site-White-1                  (2)  | Epoch:0 | Val Acc: 0.3333
 Best site-White-2                  (0)  | Epoch:0 | Val Acc: 0.2000
 Best site-White-3                  (0)  | Epoch:0 | Val Acc: 0.1429
 Best site-White-4                  (0)  | Epoch:0 | Val Acc: 0.3636
 Best site-White-5                  (0)  | Epoch:0 | Val Acc: 0.0625
 Best site-White-6                  (0)  | Epoch:0 | Val Acc: 0.3043
 Best site-White-7                  (0)  | Epoch:0 | Val Acc: 0.3235
 Best site-White-8                  (0)  | Epoch:0 | Val Acc: 0.3137
 Best site-White-9                  (0)  | Epoch:0 | Val Acc: 0.3333
 Best site-Indian-0                 (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-Indian-1                 (3)  | Epoch:0 | Val Acc: 0.2857
 Best site-Indian-2                 (3)  | Epoch:0 | Val Acc: 0.2727
 Best site-Indian-3                 (3)  | Epoch:0 | Val Acc: 0.1875
 Best site-Indian-4                 (3)  | Epoch:0 | Val Acc: 0.3750
 Best site-Middle_Eastern-0         (0)  | Epoch:0 | Val Acc: 0.3000
 Best site-Middle_Eastern-1         (0)  | Epoch:0 | Val Acc: 0.3793
 Best site-Black_utk-0              (1)  | Epoch:0 | Val Acc: 0.3478
 Test site-White-0                   (3)| Epoch:0 | Test Acc: 0.2000
 Test site-White-1                   (2)| Epoch:0 | Test Acc: 0.3750
 Test site-White-2                   (0)| Epoch:0 | Test Acc: 0.3000
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3750
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.3182
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.3636
 Test site-White-6                   (0)| Epoch:0 | Test Acc: 0.3673
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.2817
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.3204
 Test site-White-9                   (0)| Epoch:0 | Test Acc: 0.3487
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.0000
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.1176
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.1739
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.2647
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.1800
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2195
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.2459
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.2553
White: 0.3250, Indian: 0.1473, Middle_Eastern: 0.2327, Black_utk: 0.2553, 
Average Test Accuracy(group): 0.2401, Average Test Accuracy(individual): 0.2615,
domain std=0.0635, cluster std=0.0807, individual std=0.0980, 
Average Test Accuracy: 0.2401
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1_gmap...
 Test site-White-0                   (3)| Epoch:0 | Test Acc: 0.2000
 Test site-White-1                   (2)| Epoch:0 | Test Acc: 0.5000
 Test site-White-2                   (0)| Epoch:0 | Test Acc: 0.4000
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.3125
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.3182
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.2121
 Test site-White-6                   (0)| Epoch:0 | Test Acc: 0.3878
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.2113
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.2621
 Test site-White-9                   (0)| Epoch:0 | Test Acc: 0.3553
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.0000
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.1176
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.1739
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.2647
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.1400
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2195
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.2295
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.2553
White: 0.3159, Indian: 0.1393, Middle_Eastern: 0.2245, Black_utk: 0.2553, 
Average Test Accuracy(group): 0.2338, Average Test Accuracy(individual): 0.2533,
domain std=0.0637, cluster std=0.1272, individual std=0.1127, 
 Test site-White-0                   (3)| Epoch:0 | Test Acc: 0.2000
 Test site-White-1                   (2)| Epoch:0 | Test Acc: 0.3750
 Test site-White-2                   (0)| Epoch:0 | Test Acc: 0.4000
 Test site-White-3                   (0)| Epoch:0 | Test Acc: 0.4375
 Test site-White-4                   (0)| Epoch:0 | Test Acc: 0.4091
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.2727
 Test site-White-6                   (0)| Epoch:0 | Test Acc: 0.3878
 Test site-White-7                   (0)| Epoch:0 | Test Acc: 0.2817
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.3107
 Test site-White-9                   (0)| Epoch:0 | Test Acc: 0.3224
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.0000
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.1176
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.2174
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.2941
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.1800
 Test site-Middle_Eastern-0          (0)| Epoch:0 | Test Acc: 0.2195
 Test site-Middle_Eastern-1          (0)| Epoch:0 | Test Acc: 0.2295
 Test site-Black_utk-0               (1)| Epoch:0 | Test Acc: 0.2340
White: 0.3397, Indian: 0.1618, Middle_Eastern: 0.2245, Black_utk: 0.2340, 
Average Test Accuracy(group): 0.2400, Average Test Accuracy(individual): 0.2716,
domain std=0.0639, cluster std=0.0803, individual std=0.1084, 
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1...
===2023-06-16 21:03:48===
===2023-06-16 21:18:53===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 1
    wk_iters: 1
    si: False
    domain_num: 4
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[10,16,23,34,51,74,110,163,239,352,23,35,52,77,114,93,138,108,]
client_nums=[10,5,2,1,]
len_dataset=[7712,2184,1668,775,]
domain number = 4
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[3, 1, 1, 13, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White-0                   (1) | Train Loss: 1.3800 | Train Acc: 0.7000
 Site-White-1                   (0) | Train Loss: 1.9291 | Train Acc: 0.3125
 Site-White-2                   (3) | Train Loss: 1.9818 | Train Acc: 0.4348
 Site-White-3                   (3) | Train Loss: 1.9484 | Train Acc: 0.2941
 Site-White-4                   (3) | Train Loss: 1.7915 | Train Acc: 0.4118
 Site-White-5                   (0) | Train Loss: 1.9907 | Train Acc: 0.3514
 Site-White-6                   (3) | Train Loss: 1.8826 | Train Acc: 0.3000
 Site-White-7                   (3) | Train Loss: 1.8348 | Train Acc: 0.3558
 Site-White-8                   (0) | Train Loss: 1.8244 | Train Acc: 0.3431
 Site-White-9                   (3) | Train Loss: 1.8124 | Train Acc: 0.3580
 Site-Indian-0                  (3) | Train Loss: 1.8612 | Train Acc: 0.3913
 Site-Indian-1                  (3) | Train Loss: 1.9525 | Train Acc: 0.2571
 Site-Indian-2                  (3) | Train Loss: 2.1983 | Train Acc: 0.2115
 Site-Indian-3                  (3) | Train Loss: 1.9356 | Train Acc: 0.2468
 Site-Indian-4                  (3) | Train Loss: 2.1333 | Train Acc: 0.2632
 Site-Middle_Eastern-0          (3) | Train Loss: 2.0310 | Train Acc: 0.2688
 Site-Middle_Eastern-1          (3) | Train Loss: 1.9575 | Train Acc: 0.2681
 Site-Black_utk-0               (2) | Train Loss: 1.8595 | Train Acc: 0.3241
Average Train Accuracy: 0.3385
 Site-White-0                   (1) | Val  Loss: 1.6635 | Val  Acc: 0.0000
 Site-White-1                   (0) | Val  Loss: 2.1111 | Val  Acc: 0.0000
 Site-White-2                   (3) | Val  Loss: 1.7139 | Val  Acc: 0.3333
 Site-White-3                   (3) | Val  Loss: 2.2072 | Val  Acc: 0.0000
 Site-White-4                   (3) | Val  Loss: 1.5608 | Val  Acc: 0.4286
 Site-White-5                   (0) | Val  Loss: 1.7911 | Val  Acc: 0.3000
 Site-White-6                   (3) | Val  Loss: 1.6932 | Val  Acc: 0.3333
 Site-White-7                   (3) | Val  Loss: 1.9259 | Val  Acc: 0.3043
 Site-White-8                   (0) | Val  Loss: 1.6600 | Val  Acc: 0.4118
 Site-White-9                   (3) | Val  Loss: 1.7970 | Val  Acc: 0.2800
 Site-Indian-0                  (3) | Val  Loss: 2.4047 | Val  Acc: 0.0000
 Site-Indian-1                  (3) | Val  Loss: 2.8500 | Val  Acc: 0.0000
 Site-Indian-2                  (3) | Val  Loss: 1.6541 | Val  Acc: 0.5714
 Site-Indian-3                  (3) | Val  Loss: 1.9963 | Val  Acc: 0.1818
 Site-Indian-4                  (3) | Val  Loss: 2.1332 | Val  Acc: 0.1875
 Site-Middle_Eastern-0          (3) | Val  Loss: 1.8218 | Val  Acc: 0.3077
 Site-Middle_Eastern-1          (3) | Val  Loss: 2.0052 | Val  Acc: 0.2105
 Site-Black_utk-0               (2) | Val  Loss: 2.3182 | Val  Acc: 0.2000
Average Valid Accuracy: 0.2250
 Best site-White-0                  (1)  | Epoch:0 | Val Acc: 0.0000
 Best site-White-1                  (0)  | Epoch:0 | Val Acc: 0.0000
 Best site-White-2                  (3)  | Epoch:0 | Val Acc: 0.3333
 Best site-White-3                  (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-White-4                  (3)  | Epoch:0 | Val Acc: 0.4286
 Best site-White-5                  (0)  | Epoch:0 | Val Acc: 0.3000
 Best site-White-6                  (3)  | Epoch:0 | Val Acc: 0.3333
 Best site-White-7                  (3)  | Epoch:0 | Val Acc: 0.3043
 Best site-White-8                  (0)  | Epoch:0 | Val Acc: 0.4118
 Best site-White-9                  (3)  | Epoch:0 | Val Acc: 0.2800
 Best site-Indian-0                 (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-Indian-1                 (3)  | Epoch:0 | Val Acc: 0.0000
 Best site-Indian-2                 (3)  | Epoch:0 | Val Acc: 0.5714
 Best site-Indian-3                 (3)  | Epoch:0 | Val Acc: 0.1818
 Best site-Indian-4                 (3)  | Epoch:0 | Val Acc: 0.1875
 Best site-Middle_Eastern-0         (3)  | Epoch:0 | Val Acc: 0.3077
 Best site-Middle_Eastern-1         (3)  | Epoch:0 | Val Acc: 0.2105
 Best site-Black_utk-0              (2)  | Epoch:0 | Val Acc: 0.2000
 Test site-White-0                   (1)| Epoch:0 | Test Acc: 0.0000
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.2000
 Test site-White-2                   (3)| Epoch:0 | Test Acc: 0.2857
 Test site-White-3                   (3)| Epoch:0 | Test Acc: 0.1818
 Test site-White-4                   (3)| Epoch:0 | Test Acc: 0.1333
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.1739
 Test site-White-6                   (3)| Epoch:0 | Test Acc: 0.3333
 Test site-White-7                   (3)| Epoch:0 | Test Acc: 0.2553
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.4493
 Test site-White-9                   (3)| Epoch:0 | Test Acc: 0.3366
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.3750
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.5455
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.3125
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.4348
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.4242
 Test site-Middle_Eastern-0          (3)| Epoch:0 | Test Acc: 0.3214
 Test site-Middle_Eastern-1          (3)| Epoch:0 | Test Acc: 0.4390
 Test site-Black_utk-0               (2)| Epoch:0 | Test Acc: 0.3750
White: 0.2349, Indian: 0.4184, Middle_Eastern: 0.3802, Black_utk: 0.3750, 
Average Test Accuracy(group): 0.3521, Average Test Accuracy(individual): 0.3098,
domain std=0.0697, cluster std=0.1468, individual std=0.1308, 
Average Test Accuracy: 0.3521
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1_gmap...
 Test site-White-0                   (1)| Epoch:0 | Test Acc: 0.0000
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.2000
 Test site-White-2                   (3)| Epoch:0 | Test Acc: 0.2857
 Test site-White-3                   (3)| Epoch:0 | Test Acc: 0.1818
 Test site-White-4                   (3)| Epoch:0 | Test Acc: 0.1333
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.1739
 Test site-White-6                   (3)| Epoch:0 | Test Acc: 0.3333
 Test site-White-7                   (3)| Epoch:0 | Test Acc: 0.2553
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.4493
 Test site-White-9                   (3)| Epoch:0 | Test Acc: 0.3366
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.3750
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.5455
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.3125
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.4348
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.4242
 Test site-Middle_Eastern-0          (3)| Epoch:0 | Test Acc: 0.3214
 Test site-Middle_Eastern-1          (3)| Epoch:0 | Test Acc: 0.4390
 Test site-Black_utk-0               (2)| Epoch:0 | Test Acc: 0.3750
White: 0.2349, Indian: 0.4184, Middle_Eastern: 0.3802, Black_utk: 0.3750, 
Average Test Accuracy(group): 0.3521, Average Test Accuracy(individual): 0.3098,
domain std=0.0697, cluster std=0.1468, individual std=0.1308, 
 Test site-White-0                   (1)| Epoch:0 | Test Acc: 0.0000
 Test site-White-1                   (0)| Epoch:0 | Test Acc: 0.2000
 Test site-White-2                   (3)| Epoch:0 | Test Acc: 0.2857
 Test site-White-3                   (3)| Epoch:0 | Test Acc: 0.1818
 Test site-White-4                   (3)| Epoch:0 | Test Acc: 0.1333
 Test site-White-5                   (0)| Epoch:0 | Test Acc: 0.1739
 Test site-White-6                   (3)| Epoch:0 | Test Acc: 0.3333
 Test site-White-7                   (3)| Epoch:0 | Test Acc: 0.2553
 Test site-White-8                   (0)| Epoch:0 | Test Acc: 0.4493
 Test site-White-9                   (3)| Epoch:0 | Test Acc: 0.3366
 Test site-Indian-0                  (3)| Epoch:0 | Test Acc: 0.3750
 Test site-Indian-1                  (3)| Epoch:0 | Test Acc: 0.5455
 Test site-Indian-2                  (3)| Epoch:0 | Test Acc: 0.3125
 Test site-Indian-3                  (3)| Epoch:0 | Test Acc: 0.4348
 Test site-Indian-4                  (3)| Epoch:0 | Test Acc: 0.4242
 Test site-Middle_Eastern-0          (3)| Epoch:0 | Test Acc: 0.3214
 Test site-Middle_Eastern-1          (3)| Epoch:0 | Test Acc: 0.4390
 Test site-Black_utk-0               (2)| Epoch:0 | Test Acc: 0.3750
White: 0.2349, Indian: 0.4184, Middle_Eastern: 0.3802, Black_utk: 0.3750, 
Average Test Accuracy(group): 0.3521, Average Test Accuracy(individual): 0.3098,
domain std=0.0697, cluster std=0.1468, individual std=0.1308, 
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-debug_2.15_1_random_dis_cluster_4_weak_white_split_cs/ccop_q=1...
===2023-06-16 21:21:17===
