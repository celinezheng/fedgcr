===2023-06-17 17:15:45===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 50
    wk_iters: 1
    si: False
    domain_num: 7
    quantile: 0
    power_cs: 1.0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[12,17,26,38,56,82,121,179,263,387,27,40,59,86,127,187,276,43,64,94,139,205,55,81,119,102,150,172,117,]
client_nums=[10,7,5,3,2,1,1,]
len_dataset=[3952,2688,1828,856,846,575,391,]
domain number = 7
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[1, 2, 8, 5, 3, 1, 9, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
 Site-White_utk                 (6) | Train Loss: 2.1762 | Train Acc: 0.0833
 Site-White_utk                 (6) | Train Loss: 2.1908 | Train Acc: 0.1176
 Site-White_utk                 (6) | Train Loss: 2.2600 | Train Acc: 0.1154
 Site-White_utk                 (6) | Train Loss: 2.2838 | Train Acc: 0.0789
 Site-White_utk                 (6) | Train Loss: 2.2516 | Train Acc: 0.0893
 Site-White_utk                 (0) | Train Loss: 2.2240 | Train Acc: 0.1220
 Site-White_utk                 (6) | Train Loss: 2.1970 | Train Acc: 0.1240
 Site-White_utk                 (6) | Train Loss: 2.2112 | Train Acc: 0.1117
 Site-White_utk                 (6) | Train Loss: 2.2413 | Train Acc: 0.0989
 Site-White_utk                 (6) | Train Loss: 2.2070 | Train Acc: 0.1137
 Site-East_Asian                (2) | Train Loss: 1.8883 | Train Acc: 0.4074
 Site-East_Asian                (5) | Train Loss: 1.9339 | Train Acc: 0.4750
 Site-East_Asian                (2) | Train Loss: 1.9607 | Train Acc: 0.3559
 Site-East_Asian                (2) | Train Loss: 1.9451 | Train Acc: 0.3488
 Site-East_Asian                (2) | Train Loss: 1.9399 | Train Acc: 0.3780
 Site-East_Asian                (2) | Train Loss: 1.9622 | Train Acc: 0.3690
 Site-East_Asian                (2) | Train Loss: 1.8944 | Train Acc: 0.4058
 Site-Indian_utk                (3) | Train Loss: 2.0286 | Train Acc: 0.3488
 Site-Indian_utk                (3) | Train Loss: 1.9268 | Train Acc: 0.4062
 Site-Indian_utk                (3) | Train Loss: 2.0079 | Train Acc: 0.3191
 Site-Indian_utk                (3) | Train Loss: 1.9708 | Train Acc: 0.3453
 Site-Indian_utk                (3) | Train Loss: 2.0194 | Train Acc: 0.3415
 Site-Black_utk                 (4) | Train Loss: 1.9791 | Train Acc: 0.3273
 Site-Black_utk                 (4) | Train Loss: 1.9889 | Train Acc: 0.3210
 Site-Black_utk                 (4) | Train Loss: 2.0216 | Train Acc: 0.2689
 Site-Southeast_Asian           (2) | Train Loss: 2.0347 | Train Acc: 0.3431
 Site-Southeast_Asian           (2) | Train Loss: 2.0528 | Train Acc: 0.3000
 Site-Asian_ffhq                (1) | Train Loss: 1.5978 | Train Acc: 0.8256
 Site-Latino_Hispanic_ffhq      (1) | Train Loss: 1.6308 | Train Acc: 0.6838
Average Train Accuracy: 0.2974
 Site-White_utk                 (6) | Val  Loss: 2.1877 | Val  Acc: 0.1250
 Site-White_utk                 (6) | Val  Loss: 2.2779 | Val  Acc: 0.0909
 Site-White_utk                 (6) | Val  Loss: 2.2093 | Val  Acc: 0.1176
 Site-White_utk                 (6) | Val  Loss: 2.2246 | Val  Acc: 0.1600
 Site-White_utk                 (6) | Val  Loss: 2.2163 | Val  Acc: 0.1081
 Site-White_utk                 (0) | Val  Loss: 2.1784 | Val  Acc: 0.0909
 Site-White_utk                 (6) | Val  Loss: 2.1890 | Val  Acc: 0.0988
 Site-White_utk                 (6) | Val  Loss: 2.2264 | Val  Acc: 0.1008
 Site-White_utk                 (6) | Val  Loss: 2.2135 | Val  Acc: 0.1029
 Site-White_utk                 (6) | Val  Loss: 2.3066 | Val  Acc: 0.1085
 Site-East_Asian                (2) | Val  Loss: 2.1039 | Val  Acc: 0.1667
 Site-East_Asian                (5) | Val  Loss: 1.9438 | Val  Acc: 0.3846
 Site-East_Asian                (2) | Val  Loss: 1.9492 | Val  Acc: 0.3846
 Site-East_Asian                (2) | Val  Loss: 1.9209 | Val  Acc: 0.4035
 Site-East_Asian                (2) | Val  Loss: 1.9404 | Val  Acc: 0.4235
 Site-East_Asian                (2) | Val  Loss: 1.9040 | Val  Acc: 0.4000
 Site-East_Asian                (2) | Val  Loss: 1.9283 | Val  Acc: 0.3859
 Site-Indian_utk                (3) | Val  Loss: 1.9764 | Val  Acc: 0.3793
 Site-Indian_utk                (3) | Val  Loss: 2.0158 | Val  Acc: 0.3256
 Site-Indian_utk                (3) | Val  Loss: 1.9964 | Val  Acc: 0.3651
 Site-Indian_utk                (3) | Val  Loss: 2.0295 | Val  Acc: 0.3043
 Site-Indian_utk                (3) | Val  Loss: 1.9044 | Val  Acc: 0.3603
 Site-Black_utk                 (4) | Val  Loss: 1.9993 | Val  Acc: 0.3333
 Site-Black_utk                 (4) | Val  Loss: 1.9841 | Val  Acc: 0.3148
 Site-Black_utk                 (4) | Val  Loss: 1.9632 | Val  Acc: 0.3291
 Site-Southeast_Asian           (2) | Val  Loss: 2.2238 | Val  Acc: 0.2794
 Site-Southeast_Asian           (2) | Val  Loss: 2.0587 | Val  Acc: 0.3100
 Site-Asian_ffhq                (1) | Val  Loss: 1.5916 | Val  Acc: 0.7826
 Site-Latino_Hispanic_ffhq      (1) | Val  Loss: 1.8193 | Val  Acc: 0.2179
Average Valid Accuracy: 0.2743
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1250
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.0909
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1176
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1600
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1081
 Best site-White_utk                (0)  | Epoch:0 | Val Acc: 0.0909
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.0988
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1008
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1029
 Best site-White_utk                (6)  | Epoch:0 | Val Acc: 0.1085
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.1667
 Best site-East_Asian               (5)  | Epoch:0 | Val Acc: 0.3846
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.3846
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.4035
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.4235
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.4000
 Best site-East_Asian               (2)  | Epoch:0 | Val Acc: 0.3859
 Best site-Indian_utk               (3)  | Epoch:0 | Val Acc: 0.3793
 Best site-Indian_utk               (3)  | Epoch:0 | Val Acc: 0.3256
 Best site-Indian_utk               (3)  | Epoch:0 | Val Acc: 0.3651
 Best site-Indian_utk               (3)  | Epoch:0 | Val Acc: 0.3043
 Best site-Indian_utk               (3)  | Epoch:0 | Val Acc: 0.3603
 Best site-Black_utk                (4)  | Epoch:0 | Val Acc: 0.3333
 Best site-Black_utk                (4)  | Epoch:0 | Val Acc: 0.3148
 Best site-Black_utk                (4)  | Epoch:0 | Val Acc: 0.3291
 Best site-Southeast_Asian          (2)  | Epoch:0 | Val Acc: 0.2794
 Best site-Southeast_Asian          (2)  | Epoch:0 | Val Acc: 0.3100
 Best site-Asian_ffhq               (1)  | Epoch:0 | Val Acc: 0.7826
 Best site-Latino_Hispanic_ffhq     (1)  | Epoch:0 | Val Acc: 0.2179
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-mix5_1.47_1_random_dis_cluster_7_cs_sq/ccop_q=1_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-mix5_1.47_1_random_dis_cluster_7_cs_sq/ccop_q=1...
============ Train epoch 1 ============
