===2023-06-06 19:30:20===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    si: False
    domain_num: 2
    quantile: 0.4
    std_rw: False
    gender_label: True
    binary_race: True
    save_iter: -1
data_number=[37,49,65,86,112,148,194,256,334,439,148,196,]
client_nums=[10,2,]
label set of clients: [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ]
domain number = 2
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 0 ============
cnt=[10, 2, ]
power_decay: 0.9, powerI: 0.9500, powerC: 0.0500
min_w=0.01793, quan_i=1.00, quan_c=1.00
minimize weight of clients:[]
 Site-White_0                  | Train Loss: 0.6933 | Train Acc: 0.5676
 Site-White_1                  | Train Loss: 0.6234 | Train Acc: 0.7551
 Site-White_2                  | Train Loss: 0.5971 | Train Acc: 0.7692
 Site-White_3                  | Train Loss: 0.6441 | Train Acc: 0.6628
 Site-White_4                  | Train Loss: 0.6296 | Train Acc: 0.6964
 Site-White_5                  | Train Loss: 0.6357 | Train Acc: 0.7297
 Site-White_6                  | Train Loss: 0.6528 | Train Acc: 0.6546
 Site-White_7                  | Train Loss: 0.6449 | Train Acc: 0.6602
 Site-White_8                  | Train Loss: 0.6322 | Train Acc: 0.7156
 Site-White_9                  | Train Loss: 0.6250 | Train Acc: 0.7198
 Site-Black_0                  | Train Loss: 0.6843 | Train Acc: 0.5743
 Site-Black_1                  | Train Loss: 0.6571 | Train Acc: 0.6327
 Site-White_0                   (0) | Val  Loss: 0.7659 | Val  Acc: 0.5000
 Site-White_1                   (0) | Val  Loss: 0.6275 | Val  Acc: 0.7692
 Site-White_2                   (0) | Val  Loss: 0.6473 | Val  Acc: 0.7059
 Site-White_3                   (0) | Val  Loss: 0.6408 | Val  Acc: 0.6818
 Site-White_4                   (0) | Val  Loss: 0.6842 | Val  Acc: 0.5862
 Site-White_5                   (0) | Val  Loss: 0.6534 | Val  Acc: 0.6842
 Site-White_6                   (0) | Val  Loss: 0.6336 | Val  Acc: 0.6735
 Site-White_7                   (0) | Val  Loss: 0.6422 | Val  Acc: 0.6250
 Site-White_8                   (0) | Val  Loss: 0.6253 | Val  Acc: 0.7262
 Site-White_9                   (0) | Val  Loss: 0.6528 | Val  Acc: 0.6273
 Site-Black_0                   (1) | Val  Loss: 0.7042 | Val  Acc: 0.4474
 Site-Black_1                   (1) | Val  Loss: 0.6672 | Val  Acc: 0.5510
Average Valid Accuracy: 0.6315
 Best site-White_0                  (0)  | Epoch:0 | Val Acc: 0.5000
 Best site-White_1                  (0)  | Epoch:0 | Val Acc: 0.7692
 Best site-White_2                  (0)  | Epoch:0 | Val Acc: 0.7059
 Best site-White_3                  (0)  | Epoch:0 | Val Acc: 0.6818
 Best site-White_4                  (0)  | Epoch:0 | Val Acc: 0.5862
 Best site-White_5                  (0)  | Epoch:0 | Val Acc: 0.6842
 Best site-White_6                  (0)  | Epoch:0 | Val Acc: 0.6735
 Best site-White_7                  (0)  | Epoch:0 | Val Acc: 0.6250
 Best site-White_8                  (0)  | Epoch:0 | Val Acc: 0.7262
 Best site-White_9                  (0)  | Epoch:0 | Val Acc: 0.6273
 Best site-Black_0                  (1)  | Epoch:0 | Val Acc: 0.4474
 Best site-Black_1                  (1)  | Epoch:0 | Val Acc: 0.5510
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1...
============ Train epoch 1 ============
cnt=[11, 1, ]
power_decay: 0.9, powerI: 0.9050, powerC: 0.0950
min_w=0.00852, quan_i=0.63, quan_c=0.64
minimize weight of clients:[1, ]
 Site-White_0                  | Train Loss: 0.5445 | Train Acc: 0.6486
 Site-White_1                  | Train Loss: 0.5756 | Train Acc: 0.7551
 Site-White_2                  | Train Loss: 0.6473 | Train Acc: 0.8308
 Site-White_3                  | Train Loss: 0.5935 | Train Acc: 0.6512
 Site-White_4                  | Train Loss: 0.5671 | Train Acc: 0.7679
 Site-White_5                  | Train Loss: 0.5723 | Train Acc: 0.7162
 Site-White_6                  | Train Loss: 0.5753 | Train Acc: 0.7423
 Site-White_7                  | Train Loss: 0.5914 | Train Acc: 0.7070
 Site-White_8                  | Train Loss: 0.5720 | Train Acc: 0.7425
 Site-White_9                  | Train Loss: 0.5368 | Train Acc: 0.7745
 Site-Black_0                  | Train Loss: 0.6414 | Train Acc: 0.6284
 Site-Black_1                  | Train Loss: 0.5997 | Train Acc: 0.6071
 Site-White_0                   (0) | Val  Loss: 0.5632 | Val  Acc: 0.8000
 Site-White_1                   (1) | Val  Loss: 0.5937 | Val  Acc: 0.6923
 Site-White_2                   (0) | Val  Loss: 0.6130 | Val  Acc: 0.6471
 Site-White_3                   (0) | Val  Loss: 0.5417 | Val  Acc: 0.7727
 Site-White_4                   (0) | Val  Loss: 0.6022 | Val  Acc: 0.6552
 Site-White_5                   (0) | Val  Loss: 0.6089 | Val  Acc: 0.6842
 Site-White_6                   (0) | Val  Loss: 0.5678 | Val  Acc: 0.6735
 Site-White_7                   (0) | Val  Loss: 0.5458 | Val  Acc: 0.7500
 Site-White_8                   (0) | Val  Loss: 0.5574 | Val  Acc: 0.6905
 Site-White_9                   (0) | Val  Loss: 0.5674 | Val  Acc: 0.7455
 Site-Black_0                   (0) | Val  Loss: 0.7076 | Val  Acc: 0.5526
 Site-Black_1                   (0) | Val  Loss: 0.6125 | Val  Acc: 0.6735
Average Valid Accuracy: 0.6947
 Best site-White_0                  (0)  | Epoch:1 | Val Acc: 0.8000
 Best site-White_1                  (1)  | Epoch:1 | Val Acc: 0.6923
 Best site-White_2                  (0)  | Epoch:1 | Val Acc: 0.6471
 Best site-White_3                  (0)  | Epoch:1 | Val Acc: 0.7727
 Best site-White_4                  (0)  | Epoch:1 | Val Acc: 0.6552
 Best site-White_5                  (0)  | Epoch:1 | Val Acc: 0.6842
 Best site-White_6                  (0)  | Epoch:1 | Val Acc: 0.6735
 Best site-White_7                  (0)  | Epoch:1 | Val Acc: 0.7500
 Best site-White_8                  (0)  | Epoch:1 | Val Acc: 0.6905
 Best site-White_9                  (0)  | Epoch:1 | Val Acc: 0.7455
 Best site-Black_0                  (0)  | Epoch:1 | Val Acc: 0.5526
 Best site-Black_1                  (0)  | Epoch:1 | Val Acc: 0.6735
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1...
============ Train epoch 2 ============
cnt=[1, 11, ]
power_decay: 0.9, powerI: 0.8645, powerC: 0.1355
min_w=0.00535, quan_i=0.58, quan_c=0.58
minimize weight of clients:[0, ]
 Site-White_0                  | Train Loss: 0.4323 | Train Acc: 0.7297
 Site-White_1                  | Train Loss: 0.4964 | Train Acc: 0.7959
 Site-White_2                  | Train Loss: 0.3603 | Train Acc: 0.8923
 Site-White_3                  | Train Loss: 0.5179 | Train Acc: 0.7674
 Site-White_4                  | Train Loss: 0.4809 | Train Acc: 0.7679
 Site-White_5                  | Train Loss: 0.4981 | Train Acc: 0.7568
 Site-White_6                  | Train Loss: 0.5209 | Train Acc: 0.7577
 Site-White_7                  | Train Loss: 0.5479 | Train Acc: 0.6914
 Site-White_8                  | Train Loss: 0.5152 | Train Acc: 0.7545
 Site-White_9                  | Train Loss: 0.4780 | Train Acc: 0.7813
 Site-Black_0                  | Train Loss: 0.6364 | Train Acc: 0.6622
 Site-Black_1                  | Train Loss: 0.6170 | Train Acc: 0.6480
 Site-White_0                   (0) | Val  Loss: 0.5297 | Val  Acc: 0.7000
 Site-White_1                   (1) | Val  Loss: 0.5476 | Val  Acc: 0.6923
 Site-White_2                   (1) | Val  Loss: 0.5837 | Val  Acc: 0.7059
 Site-White_3                   (1) | Val  Loss: 0.6017 | Val  Acc: 0.6818
 Site-White_4                   (1) | Val  Loss: 0.5894 | Val  Acc: 0.6552
 Site-White_5                   (1) | Val  Loss: 0.6460 | Val  Acc: 0.7368
 Site-White_6                   (1) | Val  Loss: 0.4992 | Val  Acc: 0.7959
 Site-White_7                   (1) | Val  Loss: 0.5396 | Val  Acc: 0.7188
 Site-White_8                   (1) | Val  Loss: 0.5029 | Val  Acc: 0.7381
 Site-White_9                   (1) | Val  Loss: 0.5145 | Val  Acc: 0.7636
 Site-Black_0                   (1) | Val  Loss: 0.8066 | Val  Acc: 0.5789
 Site-Black_1                   (1) | Val  Loss: 0.6511 | Val  Acc: 0.6122
Average Valid Accuracy: 0.6983
 Best site-White_0                  (0)  | Epoch:2 | Val Acc: 0.7000
 Best site-White_1                  (1)  | Epoch:2 | Val Acc: 0.6923
 Best site-White_2                  (1)  | Epoch:2 | Val Acc: 0.7059
 Best site-White_3                  (1)  | Epoch:2 | Val Acc: 0.6818
 Best site-White_4                  (1)  | Epoch:2 | Val Acc: 0.6552
 Best site-White_5                  (1)  | Epoch:2 | Val Acc: 0.7368
 Best site-White_6                  (1)  | Epoch:2 | Val Acc: 0.7959
 Best site-White_7                  (1)  | Epoch:2 | Val Acc: 0.7188
 Best site-White_8                  (1)  | Epoch:2 | Val Acc: 0.7381
 Best site-White_9                  (1)  | Epoch:2 | Val Acc: 0.7636
 Best site-Black_0                  (1)  | Epoch:2 | Val Acc: 0.5789
 Best site-Black_1                  (1)  | Epoch:2 | Val Acc: 0.6122
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1...
============ Train epoch 3 ============
cnt=[10, 2, ]
power_decay: 0.9, powerI: 0.8280, powerC: 0.1720
min_w=0.00353, quan_i=0.50, quan_c=0.50
minimize weight of clients:[]
 Site-White_0                  | Train Loss: 0.4396 | Train Acc: 0.7297
 Site-White_1                  | Train Loss: 0.5311 | Train Acc: 0.8367
 Site-White_2                  | Train Loss: 0.2856 | Train Acc: 0.8462
 Site-White_3                  | Train Loss: 0.4957 | Train Acc: 0.7442
 Site-White_4                  | Train Loss: 0.4500 | Train Acc: 0.7411
 Site-White_5                  | Train Loss: 0.5038 | Train Acc: 0.7635
 Site-White_6                  | Train Loss: 0.5551 | Train Acc: 0.7113
 Site-White_7                  | Train Loss: 0.5297 | Train Acc: 0.7031
 Site-White_8                  | Train Loss: 0.4596 | Train Acc: 0.7964
 Site-White_9                  | Train Loss: 0.4527 | Train Acc: 0.7790
 Site-Black_0                  | Train Loss: 0.5701 | Train Acc: 0.7095
 Site-Black_1                  | Train Loss: 0.6422 | Train Acc: 0.6480
 Site-White_0                   (0) | Val  Loss: 0.4590 | Val  Acc: 0.9000
 Site-White_1                   (0) | Val  Loss: 0.3831 | Val  Acc: 0.8462
 Site-White_2                   (0) | Val  Loss: 0.5937 | Val  Acc: 0.7059
 Site-White_3                   (0) | Val  Loss: 0.4948 | Val  Acc: 0.7273
 Site-White_4                   (0) | Val  Loss: 0.5134 | Val  Acc: 0.7586
 Site-White_5                   (0) | Val  Loss: 0.6631 | Val  Acc: 0.7105
 Site-White_6                   (0) | Val  Loss: 0.4735 | Val  Acc: 0.8163
 Site-White_7                   (0) | Val  Loss: 0.5004 | Val  Acc: 0.7500
 Site-White_8                   (0) | Val  Loss: 0.4844 | Val  Acc: 0.7381
 Site-White_9                   (0) | Val  Loss: 0.5336 | Val  Acc: 0.7091
 Site-Black_0                   (1) | Val  Loss: 0.7844 | Val  Acc: 0.6316
 Site-Black_1                   (1) | Val  Loss: 0.6771 | Val  Acc: 0.6531
Average Valid Accuracy: 0.7456
 Best site-White_0                  (0)  | Epoch:3 | Val Acc: 0.9000
 Best site-White_1                  (0)  | Epoch:3 | Val Acc: 0.8462
 Best site-White_2                  (0)  | Epoch:3 | Val Acc: 0.7059
 Best site-White_3                  (0)  | Epoch:3 | Val Acc: 0.7273
 Best site-White_4                  (0)  | Epoch:3 | Val Acc: 0.7586
 Best site-White_5                  (0)  | Epoch:3 | Val Acc: 0.7105
 Best site-White_6                  (0)  | Epoch:3 | Val Acc: 0.8163
 Best site-White_7                  (0)  | Epoch:3 | Val Acc: 0.7500
 Best site-White_8                  (0)  | Epoch:3 | Val Acc: 0.7381
 Best site-White_9                  (0)  | Epoch:3 | Val Acc: 0.7091
 Best site-Black_0                  (1)  | Epoch:3 | Val Acc: 0.6316
 Best site-Black_1                  (1)  | Epoch:3 | Val Acc: 0.6531
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven_1.31_1_random_dis_cluster_2_gender_label_binary_race/ccop_q=1...
============ Train epoch 4 ============
cnt=[10, 2, ]
power_decay: 0.9, powerI: 0.7952, powerC: 0.2048
min_w=0.00318, quan_i=0.48, quan_c=0.48
minimize weight of clients:[]
 Site-White_0                  | Train Loss: 0.4688 | Train Acc: 0.7568
 Site-White_1                  | Train Loss: 0.5295 | Train Acc: 0.7959
 Site-White_2                  | Train Loss: 0.2991 | Train Acc: 0.8462
 Site-White_3                  | Train Loss: 0.5089 | Train Acc: 0.7791
 Site-White_4                  | Train Loss: 0.4530 | Train Acc: 0.7589
