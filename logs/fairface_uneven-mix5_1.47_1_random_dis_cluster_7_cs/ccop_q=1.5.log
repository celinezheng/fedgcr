===2023-06-16 00:52:05===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 90
    wk_iters: 1
    si: False
    domain_num: 7
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[16,24,36,53,78,116,170,250,368,541,38,56,82,121,178,263,386,61,90,132,195,287,77,113,167,143,211,241,164,]
client_nums=[10,7,5,3,2,1,1,]
len_dataset=[3952,2688,1828,856,846,575,391,]
domain number = 7
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 42 ============
===2023-06-16 00:52:37===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 90
    wk_iters: 1
    si: False
    domain_num: 7
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[16,24,36,53,78,116,170,250,368,541,38,56,82,121,178,263,386,61,90,132,195,287,77,113,167,143,211,241,164,]
client_nums=[10,7,5,3,2,1,1,]
len_dataset=[3952,2688,1828,856,846,575,391,]
domain number = 7
multiply 100 for Ea!
use train loss for Ea
============ Train epoch 42 ============
cnt=[2, 2, 8, 5, 3, 8, 1, ]
power_decay: 0.9, powerI: 0.5054, powerC: 0.4946
 Site-White_utk                 (5) | Train Loss: 1.3777 | Train Acc: 0.3750
 Site-White_utk                 (0) | Train Loss: 1.2784 | Train Acc: 0.5833
 Site-White_utk                 (5) | Train Loss: 1.4789 | Train Acc: 0.3889
 Site-White_utk                 (5) | Train Loss: 1.3542 | Train Acc: 0.5094
 Site-White_utk                 (5) | Train Loss: 1.4290 | Train Acc: 0.4359
 Site-White_utk                 (0) | Train Loss: 1.4605 | Train Acc: 0.4310
 Site-White_utk                 (5) | Train Loss: 1.4147 | Train Acc: 0.4412
 Site-White_utk                 (5) | Train Loss: 1.4085 | Train Acc: 0.4840
 Site-White_utk                 (5) | Train Loss: 1.3094 | Train Acc: 0.5109
 Site-White_utk                 (5) | Train Loss: 1.4637 | Train Acc: 0.4325
 Site-East_Asian                (2) | Train Loss: 1.2539 | Train Acc: 0.5526
 Site-East_Asian                (6) | Train Loss: 1.5155 | Train Acc: 0.4286
 Site-East_Asian                (2) | Train Loss: 1.5715 | Train Acc: 0.4146
 Site-East_Asian                (2) | Train Loss: 1.5138 | Train Acc: 0.4463
 Site-East_Asian                (2) | Train Loss: 1.4805 | Train Acc: 0.4213
 Site-East_Asian                (2) | Train Loss: 1.3421 | Train Acc: 0.4791
 Site-East_Asian                (2) | Train Loss: 1.5930 | Train Acc: 0.4352
 Site-Indian_utk                (3) | Train Loss: 1.4524 | Train Acc: 0.4754
 Site-Indian_utk                (3) | Train Loss: 1.3721 | Train Acc: 0.3778
 Site-Indian_utk                (3) | Train Loss: 1.4745 | Train Acc: 0.4697
 Site-Indian_utk                (3) | Train Loss: 1.4185 | Train Acc: 0.4718
 Site-Indian_utk                (3) | Train Loss: 1.4449 | Train Acc: 0.4634
 Site-Black_utk                 (4) | Train Loss: 1.4677 | Train Acc: 0.4805
 Site-Black_utk                 (4) | Train Loss: 1.5432 | Train Acc: 0.4513
 Site-Black_utk                 (4) | Train Loss: 1.5507 | Train Acc: 0.3832
 Site-Southeast_Asian           (2) | Train Loss: 1.6372 | Train Acc: 0.4126
 Site-Southeast_Asian           (2) | Train Loss: 1.6548 | Train Acc: 0.4265
 Site-Asian_ffhq                (1) | Train Loss: 2.2345 | Train Acc: 0.3195
 Site-Latino_Hispanic_ffhq      (1) | Train Loss: 1.8991 | Train Acc: 0.3354
Average Train Accuracy: 0.4427
 Site-White_utk                 (5) | Val  Loss: 1.1453 | Val  Acc: 0.5455
 Site-White_utk                 (0) | Val  Loss: 1.3353 | Val  Acc: 0.4375
 Site-White_utk                 (5) | Val  Loss: 1.4072 | Val  Acc: 0.5000
 Site-White_utk                 (5) | Val  Loss: 1.4414 | Val  Acc: 0.5714
 Site-White_utk                 (5) | Val  Loss: 1.3513 | Val  Acc: 0.5000
 Site-White_utk                 (0) | Val  Loss: 1.2490 | Val  Acc: 0.5584
 Site-White_utk                 (5) | Val  Loss: 1.2949 | Val  Acc: 0.5310
 Site-White_utk                 (5) | Val  Loss: 1.3072 | Val  Acc: 0.5269
 Site-White_utk                 (5) | Val  Loss: 1.3482 | Val  Acc: 0.4939
 Site-White_utk                 (5) | Val  Loss: 1.4417 | Val  Acc: 0.4488
 Site-East_Asian                (2) | Val  Loss: 1.2652 | Val  Acc: 0.5200
 Site-East_Asian                (6) | Val  Loss: 1.3372 | Val  Acc: 0.4865
 Site-East_Asian                (2) | Val  Loss: 1.4251 | Val  Acc: 0.4909
 Site-East_Asian                (2) | Val  Loss: 1.4155 | Val  Acc: 0.4691
 Site-East_Asian                (2) | Val  Loss: 1.3924 | Val  Acc: 0.4538
 Site-East_Asian                (2) | Val  Loss: 1.4404 | Val  Acc: 0.4514
 Site-East_Asian                (2) | Val  Loss: 1.6162 | Val  Acc: 0.4630
 Site-Indian_utk                (3) | Val  Loss: 1.4093 | Val  Acc: 0.4750
 Site-Indian_utk                (3) | Val  Loss: 1.4107 | Val  Acc: 0.5000
 Site-Indian_utk                (3) | Val  Loss: 1.2934 | Val  Acc: 0.5227
 Site-Indian_utk                (3) | Val  Loss: 1.1422 | Val  Acc: 0.5154
 Site-Indian_utk                (3) | Val  Loss: 1.3903 | Val  Acc: 0.4974
 Site-Black_utk                 (4) | Val  Loss: 1.6374 | Val  Acc: 0.3529
 Site-Black_utk                 (4) | Val  Loss: 1.4641 | Val  Acc: 0.4400
 Site-Black_utk                 (4) | Val  Loss: 1.4657 | Val  Acc: 0.4414
 Site-Southeast_Asian           (2) | Val  Loss: 1.6481 | Val  Acc: 0.4211
 Site-Southeast_Asian           (2) | Val  Loss: 1.7163 | Val  Acc: 0.3857
 Site-Asian_ffhq                (1) | Val  Loss: 2.2560 | Val  Acc: 0.1677
 Site-Latino_Hispanic_ffhq      (1) | Val  Loss: 1.9849 | Val  Acc: 0.2110
Average Valid Accuracy: 0.4613
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5455
 Best site-White_utk                (0)  | Epoch:42 | Val Acc: 0.4375
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5000
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5714
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5000
 Best site-White_utk                (0)  | Epoch:42 | Val Acc: 0.5584
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5310
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.5269
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.4939
 Best site-White_utk                (5)  | Epoch:42 | Val Acc: 0.4488
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.5200
 Best site-East_Asian               (6)  | Epoch:42 | Val Acc: 0.4865
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.4909
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.4691
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.4538
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.4514
 Best site-East_Asian               (2)  | Epoch:42 | Val Acc: 0.4630
 Best site-Indian_utk               (3)  | Epoch:42 | Val Acc: 0.4750
 Best site-Indian_utk               (3)  | Epoch:42 | Val Acc: 0.5000
 Best site-Indian_utk               (3)  | Epoch:42 | Val Acc: 0.5227
 Best site-Indian_utk               (3)  | Epoch:42 | Val Acc: 0.5154
 Best site-Indian_utk               (3)  | Epoch:42 | Val Acc: 0.4974
 Best site-Black_utk                (4)  | Epoch:42 | Val Acc: 0.3529
 Best site-Black_utk                (4)  | Epoch:42 | Val Acc: 0.4400
 Best site-Black_utk                (4)  | Epoch:42 | Val Acc: 0.4414
 Best site-Southeast_Asian          (2)  | Epoch:42 | Val Acc: 0.4211
 Best site-Southeast_Asian          (2)  | Epoch:42 | Val Acc: 0.3857
 Best site-Asian_ffhq               (1)  | Epoch:42 | Val Acc: 0.1677
 Best site-Latino_Hispanic_ffhq     (1)  | Epoch:42 | Val Acc: 0.2110
 Saving the gmap checkpoint to ../checkpoint/fed_fairface_uneven-mix5_1.47_1_random_dis_cluster_7_cs/ccop_q=1.5_gmap...
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-mix5_1.47_1_random_dis_cluster_7_cs/ccop_q=1.5...
============ Train epoch 43 ============
cnt=[1, 9, 5, 2, 1, 8, 3, ]
power_decay: 0.9, powerI: 0.5048, powerC: 0.4952
 Site-White_utk                 (0) | Train Loss: 1.4132 | Train Acc: 0.3125
 Site-White_utk                 (4) | Train Loss: 1.3124 | Train Acc: 0.5417
 Site-White_utk                 (5) | Train Loss: 1.5425 | Train Acc: 0.3889
 Site-White_utk                 (5) | Train Loss: 1.4477 | Train Acc: 0.3774
 Site-White_utk                 (5) | Train Loss: 1.5493 | Train Acc: 0.4744
 Site-White_utk                 (5) | Train Loss: 1.5036 | Train Acc: 0.3966
 Site-White_utk                 (5) | Train Loss: 1.4598 | Train Acc: 0.4412
 Site-White_utk                 (5) | Train Loss: 1.5263 | Train Acc: 0.4080
 Site-White_utk                 (5) | Train Loss: 1.3743 | Train Acc: 0.4783
 Site-White_utk                 (5) | Train Loss: 1.5148 | Train Acc: 0.3734
 Site-East_Asian                (1) | Train Loss: 1.1922 | Train Acc: 0.5789
 Site-East_Asian                (1) | Train Loss: 1.5316 | Train Acc: 0.4107
 Site-East_Asian                (1) | Train Loss: 1.6918 | Train Acc: 0.3415
 Site-East_Asian                (1) | Train Loss: 1.5642 | Train Acc: 0.4711
 Site-East_Asian                (1) | Train Loss: 1.4807 | Train Acc: 0.4494
 Site-East_Asian                (1) | Train Loss: 1.3736 | Train Acc: 0.4639
 Site-East_Asian                (1) | Train Loss: 1.4307 | Train Acc: 0.4637
 Site-Indian_utk                (2) | Train Loss: 1.3673 | Train Acc: 0.4918
 Site-Indian_utk                (2) | Train Loss: 1.3408 | Train Acc: 0.5111
 Site-Indian_utk                (2) | Train Loss: 1.1796 | Train Acc: 0.5076
 Site-Indian_utk                (2) | Train Loss: 1.3466 | Train Acc: 0.4718
 Site-Indian_utk                (2) | Train Loss: 1.3673 | Train Acc: 0.4878
 Site-Black_utk                 (6) | Train Loss: 1.4345 | Train Acc: 0.4156
 Site-Black_utk                 (6) | Train Loss: 1.4456 | Train Acc: 0.4159
 Site-Black_utk                 (6) | Train Loss: 1.4343 | Train Acc: 0.4731
 Site-Southeast_Asian           (1) | Train Loss: 1.6753 | Train Acc: 0.4196
 Site-Southeast_Asian           (1) | Train Loss: 1.7205 | Train Acc: 0.4076
 Site-Asian_ffhq                (3) | Train Loss: 1.6760 | Train Acc: 0.4606
 Site-Latino_Hispanic_ffhq      (3) | Train Loss: 1.5268 | Train Acc: 0.4329
Average Train Accuracy: 0.4437
 Site-White_utk                 (0) | Val  Loss: 1.1109 | Val  Acc: 0.5455
 Site-White_utk                 (4) | Val  Loss: 1.4575 | Val  Acc: 0.3125
 Site-White_utk                 (5) | Val  Loss: 1.4559 | Val  Acc: 0.3750
 Site-White_utk                 (5) | Val  Loss: 1.4524 | Val  Acc: 0.5143
 Site-White_utk                 (5) | Val  Loss: 1.3481 | Val  Acc: 0.5192
 Site-White_utk                 (5) | Val  Loss: 1.3041 | Val  Acc: 0.5455
 Site-White_utk                 (5) | Val  Loss: 1.4014 | Val  Acc: 0.4602
 Site-White_utk                 (5) | Val  Loss: 1.3561 | Val  Acc: 0.4611
 Site-White_utk                 (5) | Val  Loss: 1.4013 | Val  Acc: 0.4408
 Site-White_utk                 (5) | Val  Loss: 1.5069 | Val  Acc: 0.4266
 Site-East_Asian                (1) | Val  Loss: 1.2678 | Val  Acc: 0.4400
 Site-East_Asian                (1) | Val  Loss: 1.3489 | Val  Acc: 0.4324
 Site-East_Asian                (1) | Val  Loss: 1.3664 | Val  Acc: 0.4909
 Site-East_Asian                (1) | Val  Loss: 1.4059 | Val  Acc: 0.4568
 Site-East_Asian                (1) | Val  Loss: 1.3946 | Val  Acc: 0.4706
 Site-East_Asian                (1) | Val  Loss: 1.4527 | Val  Acc: 0.4629
 Site-East_Asian                (1) | Val  Loss: 1.7379 | Val  Acc: 0.4786
 Site-Indian_utk                (2) | Val  Loss: 1.3780 | Val  Acc: 0.5000
 Site-Indian_utk                (2) | Val  Loss: 1.3640 | Val  Acc: 0.5333
 Site-Indian_utk                (2) | Val  Loss: 1.2238 | Val  Acc: 0.5114
 Site-Indian_utk                (2) | Val  Loss: 1.0660 | Val  Acc: 0.4538
 Site-Indian_utk                (2) | Val  Loss: 1.3333 | Val  Acc: 0.5026
 Site-Black_utk                 (6) | Val  Loss: 1.5997 | Val  Acc: 0.3725
 Site-Black_utk                 (6) | Val  Loss: 1.3984 | Val  Acc: 0.4667
 Site-Black_utk                 (6) | Val  Loss: 1.3877 | Val  Acc: 0.4234
 Site-Southeast_Asian           (1) | Val  Loss: 1.6947 | Val  Acc: 0.4421
 Site-Southeast_Asian           (1) | Val  Loss: 1.7403 | Val  Acc: 0.4143
 Site-Asian_ffhq                (3) | Val  Loss: 1.9384 | Val  Acc: 0.2050
 Site-Latino_Hispanic_ffhq      (3) | Val  Loss: 1.9046 | Val  Acc: 0.1743
Average Valid Accuracy: 0.4425
 Test site-White_utk                 (0)| Epoch:42 | Test Acc: 0.3700
 Test site-East_Asian                (1)| Epoch:42 | Test Acc: 0.4965
 Test site-Indian_utk                (2)| Epoch:42 | Test Acc: 0.5333
 Test site-Black_utk                 (6)| Epoch:42 | Test Acc: 0.4796
 Test site-Southeast_Asian           (1)| Epoch:42 | Test Acc: 0.4211
 Test site-Asian_ffhq                (3)| Epoch:42 | Test Acc: 0.2721
 Test site-Latino_Hispanic_ffhq      (3)| Epoch:42 | Test Acc: 0.2886
White_utk: 0.3700, East_Asian: 0.4965, Indian_utk: 0.5333, Black_utk: 0.4796, Southeast_Asian: 0.4211, Asian_ffhq: 0.2721, Latino_Hispanic_ffhq: 0.2886, 
Average Test Accuracy(group): 0.4087, Average Test Accuracy(individual): 0.4374,
domain std=0.0949, cluster std=0.0815, individual std=0.0769, 
 Saving the local and server checkpoint to ../checkpoint/fed_fairface_uneven-mix5_1.47_1_random_dis_cluster_7_cs/ccop_q=1.5...
===2023-06-16 01:09:20===
===Setting===
    dataset: fairface
    lr: 0.01
    batch: 64
    iters: 90
    wk_iters: 1
    si: False
    domain_num: 7
    quantile: 0
    std_rw: False
    gender_label: False
    binary_race: False
    save_iter: -1
    mix: False
    mix2: False
    mix3: False
    mix4: False
data_number=[19,28,41,61,90,132,194,286,421,619,43,64,94,139,204,300,442,70,103,151,223,328,88,130,191,164,241,276,187,]
client_nums=[10,7,5,3,2,1,1,]
len_dataset=[3952,2688,1828,856,846,575,391,]
domain number = 7
