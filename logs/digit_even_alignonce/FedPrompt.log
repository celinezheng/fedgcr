===2023-03-24 13:02:35===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 16
    iters: 10
    wk_iters: 5
===2023-03-24 13:02:36===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 8
    iters: 300
    wk_iters: 1
===2023-03-24 13:05:21===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 16
    iters: 10
    wk_iters: 5
============ Train epoch 0 ============
===2023-03-24 13:06:00===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 16
    iters: 10
    wk_iters: 5
============ Train epoch 0 ============
============ Train epoch 1 ============
============ Train epoch 2 ============
============ Train epoch 3 ============
============ Train epoch 4 ============
 Site-MNIST     | Train Loss: 1.7631 | Train Acc: 0.5135
 Site-MNIST     | Train Loss: 1.7856 | Train Acc: 0.5045
 Site-SVHN      | Train Loss: 2.0459 | Train Acc: 0.3153
 Site-SVHN      | Train Loss: 2.0643 | Train Acc: 0.3063
 Site-USPS      | Train Loss: 1.7275 | Train Acc: 0.6126
 Site-USPS      | Train Loss: 1.7777 | Train Acc: 0.5676
 Site-SynthDigits| Train Loss: 2.0466 | Train Acc: 0.3153
 Site-SynthDigits| Train Loss: 2.0643 | Train Acc: 0.3063
 Site-MNIST-M   | Train Loss: 2.2167 | Train Acc: 0.1712
 Site-MNIST-M   | Train Loss: 2.2110 | Train Acc: 0.2252
 Site-MNIST     | Val  Loss: 1.7938 | Val  Acc: 0.5135
 Site-MNIST     | Val  Loss: 1.7133 | Val  Acc: 0.5541
 Site-SVHN      | Val  Loss: 2.0753 | Val  Acc: 0.2838
 Site-SVHN      | Val  Loss: 2.0486 | Val  Acc: 0.3108
 Site-USPS      | Val  Loss: 1.7559 | Val  Acc: 0.6081
 Site-USPS      | Val  Loss: 1.7505 | Val  Acc: 0.5946
 Site-SynthDigits| Val  Loss: 2.0753 | Val  Acc: 0.2838
 Site-SynthDigits| Val  Loss: 2.0486 | Val  Acc: 0.3108
 Site-MNIST-M   | Val  Loss: 2.2163 | Val  Acc: 0.2297
 Site-MNIST-M   | Val  Loss: 2.1968 | Val  Acc: 0.2027
Average Valid Accuracy: 0.3892
 Best site-MNIST      | Epoch:0 | Val Acc: 0.5135
 Best site-MNIST      | Epoch:0 | Val Acc: 0.5541
 Best site-SVHN       | Epoch:0 | Val Acc: 0.2838
 Best site-SVHN       | Epoch:0 | Val Acc: 0.3108
 Best site-USPS       | Epoch:0 | Val Acc: 0.6081
 Best site-USPS       | Epoch:0 | Val Acc: 0.5946
 Best site-SynthDigits | Epoch:0 | Val Acc: 0.2838
 Best site-SynthDigits | Epoch:0 | Val Acc: 0.3108
 Best site-MNIST-M    | Epoch:0 | Val Acc: 0.2297
 Best site-MNIST-M    | Epoch:0 | Val Acc: 0.2027
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 5 ============
============ Train epoch 6 ============
============ Train epoch 7 ============
============ Train epoch 8 ============
============ Train epoch 9 ============
 Site-MNIST     | Train Loss: 1.3423 | Train Acc: 0.6396
 Site-MNIST     | Train Loss: 1.3880 | Train Acc: 0.6486
 Site-SVHN      | Train Loss: 1.7353 | Train Acc: 0.4685
 Site-SVHN      | Train Loss: 1.7917 | Train Acc: 0.4595
 Site-USPS      | Train Loss: 1.2176 | Train Acc: 0.8198
 Site-USPS      | Train Loss: 1.2814 | Train Acc: 0.7748
 Site-SynthDigits| Train Loss: 1.7339 | Train Acc: 0.4685
 Site-SynthDigits| Train Loss: 1.7900 | Train Acc: 0.4595
 Site-MNIST-M   | Train Loss: 2.0477 | Train Acc: 0.2432
 Site-MNIST-M   | Train Loss: 2.0358 | Train Acc: 0.2703
 Site-MNIST     | Val  Loss: 1.4046 | Val  Acc: 0.6351
 Site-MNIST     | Val  Loss: 1.2868 | Val  Acc: 0.7162
 Site-SVHN      | Val  Loss: 1.8215 | Val  Acc: 0.4054
 Site-SVHN      | Val  Loss: 1.7132 | Val  Acc: 0.5270
 Site-USPS      | Val  Loss: 1.2676 | Val  Acc: 0.7568
 Site-USPS      | Val  Loss: 1.2446 | Val  Acc: 0.8378
 Site-SynthDigits| Val  Loss: 1.8215 | Val  Acc: 0.4054
 Site-SynthDigits| Val  Loss: 1.7132 | Val  Acc: 0.5270
 Site-MNIST-M   | Val  Loss: 2.0205 | Val  Acc: 0.2973
 Site-MNIST-M   | Val  Loss: 2.0347 | Val  Acc: 0.2432
Average Valid Accuracy: 0.5351
 Best site-MNIST      | Epoch:1 | Val Acc: 0.6351
 Best site-MNIST      | Epoch:1 | Val Acc: 0.7162
 Best site-SVHN       | Epoch:1 | Val Acc: 0.4054
 Best site-SVHN       | Epoch:1 | Val Acc: 0.5270
 Best site-USPS       | Epoch:1 | Val Acc: 0.7568
 Best site-USPS       | Epoch:1 | Val Acc: 0.8378
 Best site-SynthDigits | Epoch:1 | Val Acc: 0.4054
 Best site-SynthDigits | Epoch:1 | Val Acc: 0.5270
 Best site-MNIST-M    | Epoch:1 | Val Acc: 0.2973
 Best site-MNIST-M    | Epoch:1 | Val Acc: 0.2432
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 10 ============
============ Train epoch 11 ============
============ Train epoch 12 ============
============ Train epoch 13 ============
============ Train epoch 14 ============
 Site-MNIST     | Train Loss: 0.8807 | Train Acc: 0.7568
 Site-MNIST     | Train Loss: 0.9884 | Train Acc: 0.7297
 Site-SVHN      | Train Loss: 1.4214 | Train Acc: 0.5225
 Site-SVHN      | Train Loss: 1.4214 | Train Acc: 0.5586
 Site-USPS      | Train Loss: 0.8032 | Train Acc: 0.8559
 Site-USPS      | Train Loss: 0.8730 | Train Acc: 0.8108
 Site-SynthDigits| Train Loss: 1.4179 | Train Acc: 0.5225
 Site-SynthDigits| Train Loss: 1.4223 | Train Acc: 0.5586
 Site-MNIST-M   | Train Loss: 1.8633 | Train Acc: 0.3604
 Site-MNIST-M   | Train Loss: 1.8959 | Train Acc: 0.3784
 Site-MNIST     | Val  Loss: 1.0078 | Val  Acc: 0.7162
 Site-MNIST     | Val  Loss: 0.8562 | Val  Acc: 0.7703
 Site-SVHN      | Val  Loss: 1.4873 | Val  Acc: 0.5135
 Site-SVHN      | Val  Loss: 1.3261 | Val  Acc: 0.6081
 Site-USPS      | Val  Loss: 0.8633 | Val  Acc: 0.7838
 Site-USPS      | Val  Loss: 0.8415 | Val  Acc: 0.8649
 Site-SynthDigits| Val  Loss: 1.4873 | Val  Acc: 0.5135
 Site-SynthDigits| Val  Loss: 1.3261 | Val  Acc: 0.6081
 Site-MNIST-M   | Val  Loss: 1.8678 | Val  Acc: 0.3919
 Site-MNIST-M   | Val  Loss: 1.8670 | Val  Acc: 0.3784
Average Valid Accuracy: 0.6149
 Best site-MNIST      | Epoch:2 | Val Acc: 0.7162
 Best site-MNIST      | Epoch:2 | Val Acc: 0.7703
 Best site-SVHN       | Epoch:2 | Val Acc: 0.5135
 Best site-SVHN       | Epoch:2 | Val Acc: 0.6081
 Best site-USPS       | Epoch:2 | Val Acc: 0.7838
 Best site-USPS       | Epoch:2 | Val Acc: 0.8649
 Best site-SynthDigits | Epoch:2 | Val Acc: 0.5135
 Best site-SynthDigits | Epoch:2 | Val Acc: 0.6081
 Best site-MNIST-M    | Epoch:2 | Val Acc: 0.3919
 Best site-MNIST-M    | Epoch:2 | Val Acc: 0.3784
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 15 ============
============ Train epoch 16 ============
============ Train epoch 17 ============
============ Train epoch 18 ============
============ Train epoch 19 ============
 Site-MNIST     | Train Loss: 0.7098 | Train Acc: 0.7477
 Site-MNIST     | Train Loss: 0.8215 | Train Acc: 0.7387
 Site-SVHN      | Train Loss: 1.1670 | Train Acc: 0.6577
 Site-SVHN      | Train Loss: 1.1627 | Train Acc: 0.6847
 Site-USPS      | Train Loss: 0.5591 | Train Acc: 0.8559
 Site-USPS      | Train Loss: 0.5971 | Train Acc: 0.8649
 Site-SynthDigits| Train Loss: 1.1670 | Train Acc: 0.6577
 Site-SynthDigits| Train Loss: 1.1638 | Train Acc: 0.6847
 Site-MNIST-M   | Train Loss: 1.7222 | Train Acc: 0.4414
 Site-MNIST-M   | Train Loss: 1.7164 | Train Acc: 0.4324
 Site-MNIST     | Val  Loss: 0.8425 | Val  Acc: 0.7432
 Site-MNIST     | Val  Loss: 0.7108 | Val  Acc: 0.7568
 Site-SVHN      | Val  Loss: 1.2214 | Val  Acc: 0.6486
 Site-SVHN      | Val  Loss: 1.1323 | Val  Acc: 0.6757
 Site-USPS      | Val  Loss: 0.5882 | Val  Acc: 0.8514
 Site-USPS      | Val  Loss: 0.5620 | Val  Acc: 0.8919
 Site-SynthDigits| Val  Loss: 1.2214 | Val  Acc: 0.6486
 Site-SynthDigits| Val  Loss: 1.1323 | Val  Acc: 0.6757
 Site-MNIST-M   | Val  Loss: 1.6820 | Val  Acc: 0.4595
 Site-MNIST-M   | Val  Loss: 1.6633 | Val  Acc: 0.4865
Average Valid Accuracy: 0.6838
 Best site-MNIST      | Epoch:3 | Val Acc: 0.7432
 Best site-MNIST      | Epoch:3 | Val Acc: 0.7568
 Best site-SVHN       | Epoch:3 | Val Acc: 0.6486
 Best site-SVHN       | Epoch:3 | Val Acc: 0.6757
 Best site-USPS       | Epoch:3 | Val Acc: 0.8514
 Best site-USPS       | Epoch:3 | Val Acc: 0.8919
 Best site-SynthDigits | Epoch:3 | Val Acc: 0.6486
 Best site-SynthDigits | Epoch:3 | Val Acc: 0.6757
 Best site-MNIST-M    | Epoch:3 | Val Acc: 0.4595
 Best site-MNIST-M    | Epoch:3 | Val Acc: 0.4865
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 20 ============
============ Train epoch 21 ============
============ Train epoch 22 ============
============ Train epoch 23 ============
============ Train epoch 24 ============
 Site-MNIST     | Train Loss: 0.4353 | Train Acc: 0.8829
 Site-MNIST     | Train Loss: 0.5369 | Train Acc: 0.8739
 Site-SVHN      | Train Loss: 0.9345 | Train Acc: 0.6937
 Site-SVHN      | Train Loss: 0.8328 | Train Acc: 0.7928
 Site-USPS      | Train Loss: 0.4987 | Train Acc: 0.8739
 Site-USPS      | Train Loss: 0.5849 | Train Acc: 0.8198
 Site-SynthDigits| Train Loss: 0.9355 | Train Acc: 0.6937
 Site-SynthDigits| Train Loss: 0.8330 | Train Acc: 0.7928
 Site-MNIST-M   | Train Loss: 1.4547 | Train Acc: 0.5586
 Site-MNIST-M   | Train Loss: 1.5495 | Train Acc: 0.4955
 Site-MNIST     | Val  Loss: 0.5088 | Val  Acc: 0.9189
 Site-MNIST     | Val  Loss: 0.4907 | Val  Acc: 0.8378
 Site-SVHN      | Val  Loss: 0.9106 | Val  Acc: 0.7568
 Site-SVHN      | Val  Loss: 0.7836 | Val  Acc: 0.7568
 Site-USPS      | Val  Loss: 0.5805 | Val  Acc: 0.8108
 Site-USPS      | Val  Loss: 0.5314 | Val  Acc: 0.8649
 Site-SynthDigits| Val  Loss: 0.9106 | Val  Acc: 0.7568
 Site-SynthDigits| Val  Loss: 0.7836 | Val  Acc: 0.7568
 Site-MNIST-M   | Val  Loss: 1.4961 | Val  Acc: 0.5270
 Site-MNIST-M   | Val  Loss: 1.4750 | Val  Acc: 0.5405
Average Valid Accuracy: 0.7527
 Best site-MNIST      | Epoch:4 | Val Acc: 0.9189
 Best site-MNIST      | Epoch:4 | Val Acc: 0.8378
 Best site-SVHN       | Epoch:4 | Val Acc: 0.7568
 Best site-SVHN       | Epoch:4 | Val Acc: 0.7568
 Best site-USPS       | Epoch:4 | Val Acc: 0.8108
 Best site-USPS       | Epoch:4 | Val Acc: 0.8649
 Best site-SynthDigits | Epoch:4 | Val Acc: 0.7568
 Best site-SynthDigits | Epoch:4 | Val Acc: 0.7568
 Best site-MNIST-M    | Epoch:4 | Val Acc: 0.5270
 Best site-MNIST-M    | Epoch:4 | Val Acc: 0.5405
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 25 ============
============ Train epoch 26 ============
============ Train epoch 27 ============
============ Train epoch 28 ============
============ Train epoch 29 ============
 Site-MNIST     | Train Loss: 0.3746 | Train Acc: 0.9009
 Site-MNIST     | Train Loss: 0.4727 | Train Acc: 0.8649
 Site-SVHN      | Train Loss: 0.7109 | Train Acc: 0.8378
 Site-SVHN      | Train Loss: 0.6824 | Train Acc: 0.8288
 Site-USPS      | Train Loss: 0.4210 | Train Acc: 0.8829
 Site-USPS      | Train Loss: 0.4406 | Train Acc: 0.8919
 Site-SynthDigits| Train Loss: 0.7128 | Train Acc: 0.8378
 Site-SynthDigits| Train Loss: 0.6809 | Train Acc: 0.8288
 Site-MNIST-M   | Train Loss: 1.3142 | Train Acc: 0.6036
 Site-MNIST-M   | Train Loss: 1.3425 | Train Acc: 0.5135
 Site-MNIST     | Val  Loss: 0.4477 | Val  Acc: 0.8649
 Site-MNIST     | Val  Loss: 0.4352 | Val  Acc: 0.8919
 Site-SVHN      | Val  Loss: 0.7276 | Val  Acc: 0.8108
 Site-SVHN      | Val  Loss: 0.6682 | Val  Acc: 0.8243
 Site-USPS      | Val  Loss: 0.4059 | Val  Acc: 0.9054
 Site-USPS      | Val  Loss: 0.4247 | Val  Acc: 0.8919
 Site-SynthDigits| Val  Loss: 0.7276 | Val  Acc: 0.8108
 Site-SynthDigits| Val  Loss: 0.6682 | Val  Acc: 0.8243
 Site-MNIST-M   | Val  Loss: 1.3118 | Val  Acc: 0.5135
 Site-MNIST-M   | Val  Loss: 1.2448 | Val  Acc: 0.5946
Average Valid Accuracy: 0.7932
 Best site-MNIST      | Epoch:5 | Val Acc: 0.8649
 Best site-MNIST      | Epoch:5 | Val Acc: 0.8919
 Best site-SVHN       | Epoch:5 | Val Acc: 0.8108
 Best site-SVHN       | Epoch:5 | Val Acc: 0.8243
 Best site-USPS       | Epoch:5 | Val Acc: 0.9054
 Best site-USPS       | Epoch:5 | Val Acc: 0.8919
 Best site-SynthDigits | Epoch:5 | Val Acc: 0.8108
 Best site-SynthDigits | Epoch:5 | Val Acc: 0.8243
 Best site-MNIST-M    | Epoch:5 | Val Acc: 0.5135
 Best site-MNIST-M    | Epoch:5 | Val Acc: 0.5946
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 30 ============
============ Train epoch 31 ============
============ Train epoch 32 ============
============ Train epoch 33 ============
============ Train epoch 34 ============
 Site-MNIST     | Train Loss: 0.2402 | Train Acc: 0.9369
 Site-MNIST     | Train Loss: 0.2953 | Train Acc: 0.9369
 Site-SVHN      | Train Loss: 0.3814 | Train Acc: 0.9369
 Site-SVHN      | Train Loss: 0.3348 | Train Acc: 0.9640
 Site-USPS      | Train Loss: 0.3974 | Train Acc: 0.8739
 Site-USPS      | Train Loss: 0.4492 | Train Acc: 0.8468
 Site-SynthDigits| Train Loss: 0.3818 | Train Acc: 0.9369
 Site-SynthDigits| Train Loss: 0.3330 | Train Acc: 0.9640
 Site-MNIST-M   | Train Loss: 1.0158 | Train Acc: 0.7117
 Site-MNIST-M   | Train Loss: 1.0845 | Train Acc: 0.6306
 Site-MNIST     | Val  Loss: 0.2697 | Val  Acc: 0.9459
 Site-MNIST     | Val  Loss: 0.2878 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 0.3580 | Val  Acc: 0.9595
 Site-SVHN      | Val  Loss: 0.3442 | Val  Acc: 0.9189
 Site-USPS      | Val  Loss: 0.4101 | Val  Acc: 0.8514
 Site-USPS      | Val  Loss: 0.4346 | Val  Acc: 0.8649
 Site-SynthDigits| Val  Loss: 0.3580 | Val  Acc: 0.9595
 Site-SynthDigits| Val  Loss: 0.3442 | Val  Acc: 0.9189
 Site-MNIST-M   | Val  Loss: 1.0477 | Val  Acc: 0.6622
 Site-MNIST-M   | Val  Loss: 1.0157 | Val  Acc: 0.6757
Average Valid Accuracy: 0.8689
 Best site-MNIST      | Epoch:6 | Val Acc: 0.9459
 Best site-MNIST      | Epoch:6 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:6 | Val Acc: 0.9595
 Best site-SVHN       | Epoch:6 | Val Acc: 0.9189
 Best site-USPS       | Epoch:6 | Val Acc: 0.8514
 Best site-USPS       | Epoch:6 | Val Acc: 0.8649
 Best site-SynthDigits | Epoch:6 | Val Acc: 0.9595
 Best site-SynthDigits | Epoch:6 | Val Acc: 0.9189
 Best site-MNIST-M    | Epoch:6 | Val Acc: 0.6622
 Best site-MNIST-M    | Epoch:6 | Val Acc: 0.6757
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 35 ============
============ Train epoch 36 ============
============ Train epoch 37 ============
============ Train epoch 38 ============
============ Train epoch 39 ============
 Site-MNIST     | Train Loss: 0.2175 | Train Acc: 0.9369
 Site-MNIST     | Train Loss: 0.2761 | Train Acc: 0.9279
 Site-SVHN      | Train Loss: 0.3930 | Train Acc: 0.9009
 Site-SVHN      | Train Loss: 0.3509 | Train Acc: 0.9640
 Site-USPS      | Train Loss: 0.3199 | Train Acc: 0.8919
 Site-USPS      | Train Loss: 0.3163 | Train Acc: 0.9099
 Site-SynthDigits| Train Loss: 0.3934 | Train Acc: 0.9009
 Site-SynthDigits| Train Loss: 0.3506 | Train Acc: 0.9640
 Site-MNIST-M   | Train Loss: 0.8251 | Train Acc: 0.7477
 Site-MNIST-M   | Train Loss: 0.9182 | Train Acc: 0.7207
 Site-MNIST     | Val  Loss: 0.2506 | Val  Acc: 0.9324
 Site-MNIST     | Val  Loss: 0.2747 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 0.3710 | Val  Acc: 0.9730
 Site-SVHN      | Val  Loss: 0.3699 | Val  Acc: 0.8784
 Site-USPS      | Val  Loss: 0.2702 | Val  Acc: 0.9324
 Site-USPS      | Val  Loss: 0.3252 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 0.3710 | Val  Acc: 0.9730
 Site-SynthDigits| Val  Loss: 0.3699 | Val  Acc: 0.8784
 Site-MNIST-M   | Val  Loss: 0.9050 | Val  Acc: 0.7162
 Site-MNIST-M   | Val  Loss: 0.8094 | Val  Acc: 0.7838
Average Valid Accuracy: 0.8905
 Best site-MNIST      | Epoch:7 | Val Acc: 0.9324
 Best site-MNIST      | Epoch:7 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:7 | Val Acc: 0.9730
 Best site-SVHN       | Epoch:7 | Val Acc: 0.8784
 Best site-USPS       | Epoch:7 | Val Acc: 0.9324
 Best site-USPS       | Epoch:7 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:7 | Val Acc: 0.9730
 Best site-SynthDigits | Epoch:7 | Val Acc: 0.8784
 Best site-MNIST-M    | Epoch:7 | Val Acc: 0.7162
 Best site-MNIST-M    | Epoch:7 | Val Acc: 0.7838
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 40 ============
============ Train epoch 41 ============
============ Train epoch 42 ============
============ Train epoch 43 ============
============ Train epoch 44 ============
 Site-MNIST     | Train Loss: 0.1791 | Train Acc: 0.9369
 Site-MNIST     | Train Loss: 0.1872 | Train Acc: 0.9459
 Site-SVHN      | Train Loss: 0.1981 | Train Acc: 0.9910
 Site-SVHN      | Train Loss: 0.1916 | Train Acc: 1.0000
 Site-USPS      | Train Loss: 0.3358 | Train Acc: 0.9099
 Site-USPS      | Train Loss: 0.3552 | Train Acc: 0.8829
 Site-SynthDigits| Train Loss: 0.1985 | Train Acc: 0.9910
 Site-SynthDigits| Train Loss: 0.1923 | Train Acc: 1.0000
 Site-MNIST-M   | Train Loss: 0.6608 | Train Acc: 0.8198
 Site-MNIST-M   | Train Loss: 0.7305 | Train Acc: 0.8018
 Site-MNIST     | Val  Loss: 0.1646 | Val  Acc: 0.9595
 Site-MNIST     | Val  Loss: 0.2077 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 0.2059 | Val  Acc: 1.0000
 Site-SVHN      | Val  Loss: 0.1844 | Val  Acc: 1.0000
 Site-USPS      | Val  Loss: 0.3171 | Val  Acc: 0.8919
 Site-USPS      | Val  Loss: 0.3547 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 0.2059 | Val  Acc: 1.0000
 Site-SynthDigits| Val  Loss: 0.1844 | Val  Acc: 1.0000
 Site-MNIST-M   | Val  Loss: 0.6977 | Val  Acc: 0.8108
 Site-MNIST-M   | Val  Loss: 0.6779 | Val  Acc: 0.8378
Average Valid Accuracy: 0.9338
 Best site-MNIST      | Epoch:8 | Val Acc: 0.9595
 Best site-MNIST      | Epoch:8 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:8 | Val Acc: 1.0000
 Best site-SVHN       | Epoch:8 | Val Acc: 1.0000
 Best site-USPS       | Epoch:8 | Val Acc: 0.8919
 Best site-USPS       | Epoch:8 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:8 | Val Acc: 1.0000
 Best site-SynthDigits | Epoch:8 | Val Acc: 1.0000
 Best site-MNIST-M    | Epoch:8 | Val Acc: 0.8108
 Best site-MNIST-M    | Epoch:8 | Val Acc: 0.8378
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
============ Train epoch 45 ============
============ Train epoch 46 ============
============ Train epoch 47 ============
============ Train epoch 48 ============
============ Train epoch 49 ============
 Site-MNIST     | Train Loss: 0.1499 | Train Acc: 0.9640
 Site-MNIST     | Train Loss: 0.1899 | Train Acc: 0.9640
 Site-SVHN      | Train Loss: 0.3016 | Train Acc: 0.9640
 Site-SVHN      | Train Loss: 0.2814 | Train Acc: 0.9820
 Site-USPS      | Train Loss: 0.3363 | Train Acc: 0.9099
 Site-USPS      | Train Loss: 0.3321 | Train Acc: 0.9009
 Site-SynthDigits| Train Loss: 0.3019 | Train Acc: 0.9640
 Site-SynthDigits| Train Loss: 0.2820 | Train Acc: 0.9820
 Site-MNIST-M   | Train Loss: 0.4904 | Train Acc: 0.8649
 Site-MNIST-M   | Train Loss: 0.4841 | Train Acc: 0.8739
 Site-MNIST     | Val  Loss: 0.1687 | Val  Acc: 0.9730
 Site-MNIST     | Val  Loss: 0.1890 | Val  Acc: 0.9595
 Site-SVHN      | Val  Loss: 0.3053 | Val  Acc: 0.9730
 Site-SVHN      | Val  Loss: 0.2717 | Val  Acc: 0.9730
 Site-USPS      | Val  Loss: 0.2955 | Val  Acc: 0.9054
 Site-USPS      | Val  Loss: 0.3269 | Val  Acc: 0.9189
 Site-SynthDigits| Val  Loss: 0.3053 | Val  Acc: 0.9730
 Site-SynthDigits| Val  Loss: 0.2717 | Val  Acc: 0.9730
 Site-MNIST-M   | Val  Loss: 0.4842 | Val  Acc: 0.8649
 Site-MNIST-M   | Val  Loss: 0.4353 | Val  Acc: 0.9054
Average Valid Accuracy: 0.9419
 Best site-MNIST      | Epoch:9 | Val Acc: 0.9730
 Best site-MNIST      | Epoch:9 | Val Acc: 0.9595
 Best site-SVHN       | Epoch:9 | Val Acc: 0.9730
 Best site-SVHN       | Epoch:9 | Val Acc: 0.9730
 Best site-USPS       | Epoch:9 | Val Acc: 0.9054
 Best site-USPS       | Epoch:9 | Val Acc: 0.9189
 Best site-SynthDigits | Epoch:9 | Val Acc: 0.9730
 Best site-SynthDigits | Epoch:9 | Val Acc: 0.9730
 Best site-MNIST-M    | Epoch:9 | Val Acc: 0.8649
 Best site-MNIST-M    | Epoch:9 | Val Acc: 0.9054
 Saving the local and server checkpoint to ../checkpoint/fed_digit_even_alignonce/FedPrompt...
===2023-03-24 13:48:55===
===2023-03-24 13:48:56===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 8
    iters: 300
    wk_iters: 1
Loading snapshots...
 Test site-MNIST     | Epoch:9 | Test Acc: 0.8729
 Test site-SVHN      | Epoch:9 | Test Acc: 0.6746
 Test site-USPS      | Epoch:9 | Test Acc: 0.8387
 Test site-SynthDigits| Epoch:9 | Test Acc: 0.6746
 Test site-MNIST-M   | Epoch:9 | Test Acc: 0.4364
Average Test Accuracy: 0.6994
