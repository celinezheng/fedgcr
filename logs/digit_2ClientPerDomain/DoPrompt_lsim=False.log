===2023-03-21 05:11:16===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 32
    iters: 10
    wk_iters: 5
============ Train epoch 0 ============
============ Train epoch 1 ============
============ Train epoch 2 ============
============ Train epoch 3 ============
============ Train epoch 4 ============
 Site-MNIST     | Train Loss: 1.7146 | Train Acc: 0.5135
 Site-SVHN      | Train Loss: 2.2248 | Train Acc: 0.2162
 Site-USPS      | Train Loss: 1.6612 | Train Acc: 0.6757
 Site-SynthDigits| Train Loss: 2.0647 | Train Acc: 0.2928
 Site-MNIST-M   | Train Loss: 2.1915 | Train Acc: 0.1982
 Site-MNIST     | Train Loss: 1.6570 | Train Acc: 0.5605
 Site-SVHN      | Train Loss: 2.1107 | Train Acc: 0.3094
 Site-USPS      | Train Loss: 1.6209 | Train Acc: 0.6816
 Site-SynthDigits| Train Loss: 2.0701 | Train Acc: 0.2960
 Site-MNIST-M   | Train Loss: 2.1430 | Train Acc: 0.2780
 Site-MNIST     | Val  Loss: 1.7743 | Val  Acc: 0.5135
 Site-SVHN      | Val  Loss: 2.2254 | Val  Acc: 0.1622
 Site-USPS      | Val  Loss: 1.7070 | Val  Acc: 0.5405
 Site-SynthDigits| Val  Loss: 2.0218 | Val  Acc: 0.3514
 Site-MNIST-M   | Val  Loss: 2.1817 | Val  Acc: 0.2365
 Site-MNIST     | Val  Loss: 1.7006 | Val  Acc: 0.5203
 Site-SVHN      | Val  Loss: 2.1636 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 1.7009 | Val  Acc: 0.6216
 Site-SynthDigits| Val  Loss: 2.0872 | Val  Acc: 0.1959
 Site-MNIST-M   | Val  Loss: 2.1485 | Val  Acc: 0.2838
Average Valid Accuracy: 0.3696
 Best site-MNIST      | Epoch:0 | Val Acc: 0.5135
 Best site-SVHN       | Epoch:0 | Val Acc: 0.1622
 Best site-USPS       | Epoch:0 | Val Acc: 0.5405
 Best site-SynthDigits | Epoch:0 | Val Acc: 0.3514
 Best site-MNIST-M    | Epoch:0 | Val Acc: 0.2365
 Best site-MNIST      | Epoch:0 | Val Acc: 0.5203
 Best site-SVHN       | Epoch:0 | Val Acc: 0.2703
 Best site-USPS       | Epoch:0 | Val Acc: 0.6216
 Best site-SynthDigits | Epoch:0 | Val Acc: 0.1959
 Best site-MNIST-M    | Epoch:0 | Val Acc: 0.2838
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:0 | Test Acc: 0.5121
 Test site-SVHN      | Epoch:0 | Test Acc: 0.2287
 Test site-USPS      | Epoch:0 | Test Acc: 0.6398
 Test site-SynthDigits| Epoch:0 | Test Acc: 0.3049
 Test site-MNIST-M   | Epoch:0 | Test Acc: 0.2250
 Test site-MNIST     | Epoch:0 | Test Acc: 0.5121
 Test site-SVHN      | Epoch:0 | Test Acc: 0.2287
 Test site-USPS      | Epoch:0 | Test Acc: 0.6398
 Test site-SynthDigits| Epoch:0 | Test Acc: 0.3049
 Test site-MNIST-M   | Epoch:0 | Test Acc: 0.2250
Average Test Accuracy: 0.3821
============ Train epoch 5 ============
============ Train epoch 6 ============
============ Train epoch 7 ============
============ Train epoch 8 ============
============ Train epoch 9 ============
 Site-MNIST     | Train Loss: 1.3413 | Train Acc: 0.6532
 Site-SVHN      | Train Loss: 2.1464 | Train Acc: 0.2387
 Site-USPS      | Train Loss: 1.2654 | Train Acc: 0.7658
 Site-SynthDigits| Train Loss: 1.8812 | Train Acc: 0.4099
 Site-MNIST-M   | Train Loss: 2.0675 | Train Acc: 0.2613
 Site-MNIST     | Train Loss: 1.2710 | Train Acc: 0.7354
 Site-SVHN      | Train Loss: 1.9983 | Train Acc: 0.3587
 Site-USPS      | Train Loss: 1.2405 | Train Acc: 0.8161
 Site-SynthDigits| Train Loss: 1.8619 | Train Acc: 0.3812
 Site-MNIST-M   | Train Loss: 1.9816 | Train Acc: 0.3722
 Site-MNIST     | Val  Loss: 1.4367 | Val  Acc: 0.6014
 Site-SVHN      | Val  Loss: 2.1765 | Val  Acc: 0.1757
 Site-USPS      | Val  Loss: 1.3121 | Val  Acc: 0.7095
 Site-SynthDigits| Val  Loss: 1.8160 | Val  Acc: 0.4122
 Site-MNIST-M   | Val  Loss: 2.0796 | Val  Acc: 0.2770
 Site-MNIST     | Val  Loss: 1.3145 | Val  Acc: 0.6554
 Site-SVHN      | Val  Loss: 2.0866 | Val  Acc: 0.3378
 Site-USPS      | Val  Loss: 1.2986 | Val  Acc: 0.7568
 Site-SynthDigits| Val  Loss: 1.9209 | Val  Acc: 0.2838
 Site-MNIST-M   | Val  Loss: 2.0322 | Val  Acc: 0.3041
Average Valid Accuracy: 0.4514
 Best site-MNIST      | Epoch:1 | Val Acc: 0.6014
 Best site-SVHN       | Epoch:1 | Val Acc: 0.1757
 Best site-USPS       | Epoch:1 | Val Acc: 0.7095
 Best site-SynthDigits | Epoch:1 | Val Acc: 0.4122
 Best site-MNIST-M    | Epoch:1 | Val Acc: 0.2770
 Best site-MNIST      | Epoch:1 | Val Acc: 0.6554
 Best site-SVHN       | Epoch:1 | Val Acc: 0.3378
 Best site-USPS       | Epoch:1 | Val Acc: 0.7568
 Best site-SynthDigits | Epoch:1 | Val Acc: 0.2838
 Best site-MNIST-M    | Epoch:1 | Val Acc: 0.3041
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:1 | Test Acc: 0.6193
 Test site-SVHN      | Epoch:1 | Test Acc: 0.2559
 Test site-USPS      | Epoch:1 | Test Acc: 0.7849
 Test site-SynthDigits| Epoch:1 | Test Acc: 0.3685
 Test site-MNIST-M   | Epoch:1 | Test Acc: 0.2850
 Test site-MNIST     | Epoch:1 | Test Acc: 0.6193
 Test site-SVHN      | Epoch:1 | Test Acc: 0.2559
 Test site-USPS      | Epoch:1 | Test Acc: 0.7849
 Test site-SynthDigits| Epoch:1 | Test Acc: 0.3685
 Test site-MNIST-M   | Epoch:1 | Test Acc: 0.2850
Average Test Accuracy: 0.4627
============ Train epoch 10 ============
============ Train epoch 11 ============
============ Train epoch 12 ============
============ Train epoch 13 ============
============ Train epoch 14 ============
 Site-MNIST     | Train Loss: 1.1021 | Train Acc: 0.7297
 Site-SVHN      | Train Loss: 2.0872 | Train Acc: 0.2793
 Site-USPS      | Train Loss: 1.0132 | Train Acc: 0.8153
 Site-SynthDigits| Train Loss: 1.7540 | Train Acc: 0.4369
 Site-MNIST-M   | Train Loss: 1.9691 | Train Acc: 0.3198
 Site-MNIST     | Train Loss: 1.0340 | Train Acc: 0.7892
 Site-SVHN      | Train Loss: 1.9200 | Train Acc: 0.4126
 Site-USPS      | Train Loss: 1.0117 | Train Acc: 0.8475
 Site-SynthDigits| Train Loss: 1.7195 | Train Acc: 0.4170
 Site-MNIST-M   | Train Loss: 1.8694 | Train Acc: 0.4170
 Site-MNIST     | Val  Loss: 1.2160 | Val  Acc: 0.7162
 Site-SVHN      | Val  Loss: 2.1425 | Val  Acc: 0.2162
 Site-USPS      | Val  Loss: 1.0618 | Val  Acc: 0.7973
 Site-SynthDigits| Val  Loss: 1.6830 | Val  Acc: 0.4459
 Site-MNIST-M   | Val  Loss: 2.0111 | Val  Acc: 0.2905
 Site-MNIST     | Val  Loss: 1.0734 | Val  Acc: 0.7365
 Site-SVHN      | Val  Loss: 2.0350 | Val  Acc: 0.3649
 Site-USPS      | Val  Loss: 1.0523 | Val  Acc: 0.7905
 Site-SynthDigits| Val  Loss: 1.8061 | Val  Acc: 0.3243
 Site-MNIST-M   | Val  Loss: 1.9565 | Val  Acc: 0.3108
Average Valid Accuracy: 0.4993
 Best site-MNIST      | Epoch:2 | Val Acc: 0.7162
 Best site-SVHN       | Epoch:2 | Val Acc: 0.2162
 Best site-USPS       | Epoch:2 | Val Acc: 0.7973
 Best site-SynthDigits | Epoch:2 | Val Acc: 0.4459
 Best site-MNIST-M    | Epoch:2 | Val Acc: 0.2905
 Best site-MNIST      | Epoch:2 | Val Acc: 0.7365
 Best site-SVHN       | Epoch:2 | Val Acc: 0.3649
 Best site-USPS       | Epoch:2 | Val Acc: 0.7905
 Best site-SynthDigits | Epoch:2 | Val Acc: 0.3243
 Best site-MNIST-M    | Epoch:2 | Val Acc: 0.3108
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:2 | Test Acc: 0.7043
 Test site-SVHN      | Epoch:2 | Test Acc: 0.2720
 Test site-USPS      | Epoch:2 | Test Acc: 0.8280
 Test site-SynthDigits| Epoch:2 | Test Acc: 0.4020
 Test site-MNIST-M   | Epoch:2 | Test Acc: 0.3150
 Test site-MNIST     | Epoch:2 | Test Acc: 0.7043
 Test site-SVHN      | Epoch:2 | Test Acc: 0.2720
 Test site-USPS      | Epoch:2 | Test Acc: 0.8280
 Test site-SynthDigits| Epoch:2 | Test Acc: 0.4020
 Test site-MNIST-M   | Epoch:2 | Test Acc: 0.3150
Average Test Accuracy: 0.5043
============ Train epoch 15 ============
============ Train epoch 16 ============
============ Train epoch 17 ============
============ Train epoch 18 ============
============ Train epoch 19 ============
 Site-MNIST     | Train Loss: 0.9293 | Train Acc: 0.8108
 Site-SVHN      | Train Loss: 2.0413 | Train Acc: 0.3108
 Site-USPS      | Train Loss: 0.8531 | Train Acc: 0.8694
 Site-SynthDigits| Train Loss: 1.6612 | Train Acc: 0.4595
 Site-MNIST-M   | Train Loss: 1.8849 | Train Acc: 0.3694
 Site-MNIST     | Train Loss: 0.8707 | Train Acc: 0.8296
 Site-SVHN      | Train Loss: 1.8621 | Train Acc: 0.4305
 Site-USPS      | Train Loss: 0.8652 | Train Acc: 0.8565
 Site-SynthDigits| Train Loss: 1.6109 | Train Acc: 0.4395
 Site-MNIST-M   | Train Loss: 1.7822 | Train Acc: 0.4439
 Site-MNIST     | Val  Loss: 1.0568 | Val  Acc: 0.7432
 Site-SVHN      | Val  Loss: 2.1167 | Val  Acc: 0.2297
 Site-USPS      | Val  Loss: 0.8977 | Val  Acc: 0.8108
 Site-SynthDigits| Val  Loss: 1.5801 | Val  Acc: 0.4662
 Site-MNIST-M   | Val  Loss: 1.9609 | Val  Acc: 0.3243
 Site-MNIST     | Val  Loss: 0.9049 | Val  Acc: 0.8108
 Site-SVHN      | Val  Loss: 1.9983 | Val  Acc: 0.3649
 Site-USPS      | Val  Loss: 0.8928 | Val  Acc: 0.8243
 Site-SynthDigits| Val  Loss: 1.7195 | Val  Acc: 0.3649
 Site-MNIST-M   | Val  Loss: 1.9001 | Val  Acc: 0.3446
Average Valid Accuracy: 0.5284
 Best site-MNIST      | Epoch:3 | Val Acc: 0.7432
 Best site-SVHN       | Epoch:3 | Val Acc: 0.2297
 Best site-USPS       | Epoch:3 | Val Acc: 0.8108
 Best site-SynthDigits | Epoch:3 | Val Acc: 0.4662
 Best site-MNIST-M    | Epoch:3 | Val Acc: 0.3243
 Best site-MNIST      | Epoch:3 | Val Acc: 0.8108
 Best site-SVHN       | Epoch:3 | Val Acc: 0.3649
 Best site-USPS       | Epoch:3 | Val Acc: 0.8243
 Best site-SynthDigits | Epoch:3 | Val Acc: 0.3649
 Best site-MNIST-M    | Epoch:3 | Val Acc: 0.3446
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:3 | Test Acc: 0.7479
 Test site-SVHN      | Epoch:3 | Test Acc: 0.2836
 Test site-USPS      | Epoch:3 | Test Acc: 0.8441
 Test site-SynthDigits| Epoch:3 | Test Acc: 0.4240
 Test site-MNIST-M   | Epoch:3 | Test Acc: 0.3371
 Test site-MNIST     | Epoch:3 | Test Acc: 0.7479
 Test site-SVHN      | Epoch:3 | Test Acc: 0.2836
 Test site-USPS      | Epoch:3 | Test Acc: 0.8441
 Test site-SynthDigits| Epoch:3 | Test Acc: 0.4240
 Test site-MNIST-M   | Epoch:3 | Test Acc: 0.3371
Average Test Accuracy: 0.5273
============ Train epoch 20 ============
============ Train epoch 21 ============
============ Train epoch 22 ============
============ Train epoch 23 ============
============ Train epoch 24 ============
 Site-MNIST     | Train Loss: 0.8046 | Train Acc: 0.8288
 Site-SVHN      | Train Loss: 1.9981 | Train Acc: 0.3333
 Site-USPS      | Train Loss: 0.7456 | Train Acc: 0.8964
 Site-SynthDigits| Train Loss: 1.5873 | Train Acc: 0.4730
 Site-MNIST-M   | Train Loss: 1.8119 | Train Acc: 0.3919
 Site-MNIST     | Train Loss: 0.7494 | Train Acc: 0.8610
 Site-SVHN      | Train Loss: 1.8137 | Train Acc: 0.4260
 Site-USPS      | Train Loss: 0.7694 | Train Acc: 0.8565
 Site-SynthDigits| Train Loss: 1.5250 | Train Acc: 0.5022
 Site-MNIST-M   | Train Loss: 1.7049 | Train Acc: 0.4753
 Site-MNIST     | Val  Loss: 0.9383 | Val  Acc: 0.7703
 Site-SVHN      | Val  Loss: 2.0938 | Val  Acc: 0.2432
 Site-USPS      | Val  Loss: 0.7870 | Val  Acc: 0.8378
 Site-SynthDigits| Val  Loss: 1.4995 | Val  Acc: 0.4662
 Site-MNIST-M   | Val  Loss: 1.9260 | Val  Acc: 0.3311
 Site-MNIST     | Val  Loss: 0.7816 | Val  Acc: 0.8243
 Site-SVHN      | Val  Loss: 1.9727 | Val  Acc: 0.3581
 Site-USPS      | Val  Loss: 0.7925 | Val  Acc: 0.8311
 Site-SynthDigits| Val  Loss: 1.6458 | Val  Acc: 0.3919
 Site-MNIST-M   | Val  Loss: 1.8549 | Val  Acc: 0.3581
Average Valid Accuracy: 0.5412
 Best site-MNIST      | Epoch:4 | Val Acc: 0.7703
 Best site-SVHN       | Epoch:4 | Val Acc: 0.2432
 Best site-USPS       | Epoch:4 | Val Acc: 0.8378
 Best site-SynthDigits | Epoch:4 | Val Acc: 0.4662
 Best site-MNIST-M    | Epoch:4 | Val Acc: 0.3311
 Best site-MNIST      | Epoch:4 | Val Acc: 0.8243
 Best site-SVHN       | Epoch:4 | Val Acc: 0.3581
 Best site-USPS       | Epoch:4 | Val Acc: 0.8311
 Best site-SynthDigits | Epoch:4 | Val Acc: 0.3919
 Best site-MNIST-M    | Epoch:4 | Val Acc: 0.3581
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:4 | Test Acc: 0.7807
 Test site-SVHN      | Epoch:4 | Test Acc: 0.2856
 Test site-USPS      | Epoch:4 | Test Acc: 0.8602
 Test site-SynthDigits| Epoch:4 | Test Acc: 0.4487
 Test site-MNIST-M   | Epoch:4 | Test Acc: 0.3536
 Test site-MNIST     | Epoch:4 | Test Acc: 0.7807
 Test site-SVHN      | Epoch:4 | Test Acc: 0.2856
 Test site-USPS      | Epoch:4 | Test Acc: 0.8602
 Test site-SynthDigits| Epoch:4 | Test Acc: 0.4487
 Test site-MNIST-M   | Epoch:4 | Test Acc: 0.3536
Average Test Accuracy: 0.5458
============ Train epoch 25 ============
============ Train epoch 26 ============
============ Train epoch 27 ============
============ Train epoch 28 ============
============ Train epoch 29 ============
 Site-MNIST     | Train Loss: 0.7078 | Train Acc: 0.8559
 Site-SVHN      | Train Loss: 1.9663 | Train Acc: 0.3604
 Site-USPS      | Train Loss: 0.6693 | Train Acc: 0.9054
 Site-SynthDigits| Train Loss: 1.5191 | Train Acc: 0.4955
 Site-MNIST-M   | Train Loss: 1.7464 | Train Acc: 0.4144
 Site-MNIST     | Train Loss: 0.6555 | Train Acc: 0.8834
 Site-SVHN      | Train Loss: 1.7750 | Train Acc: 0.4395
 Site-USPS      | Train Loss: 0.6981 | Train Acc: 0.8700
 Site-SynthDigits| Train Loss: 1.4517 | Train Acc: 0.5247
 Site-MNIST-M   | Train Loss: 1.6403 | Train Acc: 0.4843
 Site-MNIST     | Val  Loss: 0.8485 | Val  Acc: 0.7838
 Site-SVHN      | Val  Loss: 2.0765 | Val  Acc: 0.2568
 Site-USPS      | Val  Loss: 0.7043 | Val  Acc: 0.8581
 Site-SynthDigits| Val  Loss: 1.4451 | Val  Acc: 0.5000
 Site-MNIST-M   | Val  Loss: 1.8996 | Val  Acc: 0.3243
 Site-MNIST     | Val  Loss: 0.6883 | Val  Acc: 0.8581
 Site-SVHN      | Val  Loss: 1.9572 | Val  Acc: 0.3514
 Site-USPS      | Val  Loss: 0.7124 | Val  Acc: 0.8581
 Site-SynthDigits| Val  Loss: 1.5853 | Val  Acc: 0.4257
 Site-MNIST-M   | Val  Loss: 1.8166 | Val  Acc: 0.3851
Average Valid Accuracy: 0.5601
 Best site-MNIST      | Epoch:5 | Val Acc: 0.7838
 Best site-SVHN       | Epoch:5 | Val Acc: 0.2568
 Best site-USPS       | Epoch:5 | Val Acc: 0.8581
 Best site-SynthDigits | Epoch:5 | Val Acc: 0.5000
 Best site-MNIST-M    | Epoch:5 | Val Acc: 0.3243
 Best site-MNIST      | Epoch:5 | Val Acc: 0.8581
 Best site-SVHN       | Epoch:5 | Val Acc: 0.3514
 Best site-USPS       | Epoch:5 | Val Acc: 0.8581
 Best site-SynthDigits | Epoch:5 | Val Acc: 0.4257
 Best site-MNIST-M    | Epoch:5 | Val Acc: 0.3851
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:5 | Test Acc: 0.8064
 Test site-SVHN      | Epoch:5 | Test Acc: 0.2907
 Test site-USPS      | Epoch:5 | Test Acc: 0.8710
 Test site-SynthDigits| Epoch:5 | Test Acc: 0.4669
 Test site-MNIST-M   | Epoch:5 | Test Acc: 0.3636
 Test site-MNIST     | Epoch:5 | Test Acc: 0.8064
 Test site-SVHN      | Epoch:5 | Test Acc: 0.2907
 Test site-USPS      | Epoch:5 | Test Acc: 0.8710
 Test site-SynthDigits| Epoch:5 | Test Acc: 0.4669
 Test site-MNIST-M   | Epoch:5 | Test Acc: 0.3636
Average Test Accuracy: 0.5597
============ Train epoch 30 ============
============ Train epoch 31 ============
============ Train epoch 32 ============
============ Train epoch 33 ============
============ Train epoch 34 ============
 Site-MNIST     | Train Loss: 0.6340 | Train Acc: 0.8784
 Site-SVHN      | Train Loss: 1.9341 | Train Acc: 0.3694
 Site-USPS      | Train Loss: 0.6144 | Train Acc: 0.9054
 Site-SynthDigits| Train Loss: 1.4633 | Train Acc: 0.5135
 Site-MNIST-M   | Train Loss: 1.6907 | Train Acc: 0.4414
 Site-MNIST     | Train Loss: 0.5842 | Train Acc: 0.8879
 Site-SVHN      | Train Loss: 1.7375 | Train Acc: 0.4529
 Site-USPS      | Train Loss: 0.6485 | Train Acc: 0.8700
 Site-SynthDigits| Train Loss: 1.3896 | Train Acc: 0.5650
 Site-MNIST-M   | Train Loss: 1.5835 | Train Acc: 0.5022
 Site-MNIST     | Val  Loss: 0.7757 | Val  Acc: 0.7973
 Site-SVHN      | Val  Loss: 2.0622 | Val  Acc: 0.2568
 Site-USPS      | Val  Loss: 0.6470 | Val  Acc: 0.8581
 Site-SynthDigits| Val  Loss: 1.3990 | Val  Acc: 0.5068
 Site-MNIST-M   | Val  Loss: 1.8778 | Val  Acc: 0.3378
 Site-MNIST     | Val  Loss: 0.6172 | Val  Acc: 0.8851
 Site-SVHN      | Val  Loss: 1.9405 | Val  Acc: 0.3514
 Site-USPS      | Val  Loss: 0.6577 | Val  Acc: 0.8716
 Site-SynthDigits| Val  Loss: 1.5326 | Val  Acc: 0.4527
 Site-MNIST-M   | Val  Loss: 1.7845 | Val  Acc: 0.3919
Average Valid Accuracy: 0.5709
 Best site-MNIST      | Epoch:6 | Val Acc: 0.7973
 Best site-SVHN       | Epoch:6 | Val Acc: 0.2568
 Best site-USPS       | Epoch:6 | Val Acc: 0.8581
 Best site-SynthDigits | Epoch:6 | Val Acc: 0.5068
 Best site-MNIST-M    | Epoch:6 | Val Acc: 0.3378
 Best site-MNIST      | Epoch:6 | Val Acc: 0.8851
 Best site-SVHN       | Epoch:6 | Val Acc: 0.3514
 Best site-USPS       | Epoch:6 | Val Acc: 0.8716
 Best site-SynthDigits | Epoch:6 | Val Acc: 0.4527
 Best site-MNIST-M    | Epoch:6 | Val Acc: 0.3919
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:6 | Test Acc: 0.8257
 Test site-SVHN      | Epoch:6 | Test Acc: 0.2962
 Test site-USPS      | Epoch:6 | Test Acc: 0.8871
 Test site-SynthDigits| Epoch:6 | Test Acc: 0.4861
 Test site-MNIST-M   | Epoch:6 | Test Acc: 0.3771
 Test site-MNIST     | Epoch:6 | Test Acc: 0.8257
 Test site-SVHN      | Epoch:6 | Test Acc: 0.2962
 Test site-USPS      | Epoch:6 | Test Acc: 0.8871
 Test site-SynthDigits| Epoch:6 | Test Acc: 0.4861
 Test site-MNIST-M   | Epoch:6 | Test Acc: 0.3771
Average Test Accuracy: 0.5745
============ Train epoch 35 ============
============ Train epoch 36 ============
============ Train epoch 37 ============
============ Train epoch 38 ============
============ Train epoch 39 ============
 Site-MNIST     | Train Loss: 0.5756 | Train Acc: 0.8784
 Site-SVHN      | Train Loss: 1.9063 | Train Acc: 0.3829
 Site-USPS      | Train Loss: 0.5711 | Train Acc: 0.9009
 Site-SynthDigits| Train Loss: 1.4136 | Train Acc: 0.5315
 Site-MNIST-M   | Train Loss: 1.6300 | Train Acc: 0.4640
 Site-MNIST     | Train Loss: 0.5290 | Train Acc: 0.8969
 Site-SVHN      | Train Loss: 1.7070 | Train Acc: 0.4484
 Site-USPS      | Train Loss: 0.6072 | Train Acc: 0.8744
 Site-SynthDigits| Train Loss: 1.3366 | Train Acc: 0.5919
 Site-MNIST-M   | Train Loss: 1.5319 | Train Acc: 0.5247
 Site-MNIST     | Val  Loss: 0.7218 | Val  Acc: 0.8108
 Site-SVHN      | Val  Loss: 2.0475 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 0.6004 | Val  Acc: 0.8649
 Site-SynthDigits| Val  Loss: 1.3584 | Val  Acc: 0.5203
 Site-MNIST-M   | Val  Loss: 1.8556 | Val  Acc: 0.3581
 Site-MNIST     | Val  Loss: 0.5635 | Val  Acc: 0.8851
 Site-SVHN      | Val  Loss: 1.9269 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.6189 | Val  Acc: 0.8784
 Site-SynthDigits| Val  Loss: 1.4836 | Val  Acc: 0.4459
 Site-MNIST-M   | Val  Loss: 1.7516 | Val  Acc: 0.4054
Average Valid Accuracy: 0.5784
 Best site-MNIST      | Epoch:7 | Val Acc: 0.8108
 Best site-SVHN       | Epoch:7 | Val Acc: 0.2703
 Best site-USPS       | Epoch:7 | Val Acc: 0.8649
 Best site-SynthDigits | Epoch:7 | Val Acc: 0.5203
 Best site-MNIST-M    | Epoch:7 | Val Acc: 0.3581
 Best site-MNIST      | Epoch:7 | Val Acc: 0.8851
 Best site-SVHN       | Epoch:7 | Val Acc: 0.3446
 Best site-USPS       | Epoch:7 | Val Acc: 0.8784
 Best site-SynthDigits | Epoch:7 | Val Acc: 0.4459
 Best site-MNIST-M    | Epoch:7 | Val Acc: 0.4054
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:7 | Test Acc: 0.8371
 Test site-SVHN      | Epoch:7 | Test Acc: 0.3008
 Test site-USPS      | Epoch:7 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:7 | Test Acc: 0.5064
 Test site-MNIST-M   | Epoch:7 | Test Acc: 0.3893
 Test site-MNIST     | Epoch:7 | Test Acc: 0.8371
 Test site-SVHN      | Epoch:7 | Test Acc: 0.3008
 Test site-USPS      | Epoch:7 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:7 | Test Acc: 0.5064
 Test site-MNIST-M   | Epoch:7 | Test Acc: 0.3893
Average Test Accuracy: 0.5852
============ Train epoch 40 ============
============ Train epoch 41 ============
============ Train epoch 42 ============
============ Train epoch 43 ============
============ Train epoch 44 ============
 Site-MNIST     | Train Loss: 0.5239 | Train Acc: 0.8784
 Site-SVHN      | Train Loss: 1.8809 | Train Acc: 0.4189
 Site-USPS      | Train Loss: 0.5359 | Train Acc: 0.9099
 Site-SynthDigits| Train Loss: 1.3661 | Train Acc: 0.5360
 Site-MNIST-M   | Train Loss: 1.5822 | Train Acc: 0.4730
 Site-MNIST     | Train Loss: 0.4809 | Train Acc: 0.9148
 Site-SVHN      | Train Loss: 1.6803 | Train Acc: 0.4574
 Site-USPS      | Train Loss: 0.5747 | Train Acc: 0.8744
 Site-SynthDigits| Train Loss: 1.2825 | Train Acc: 0.6143
 Site-MNIST-M   | Train Loss: 1.4904 | Train Acc: 0.5336
 Site-MNIST     | Val  Loss: 0.6728 | Val  Acc: 0.8311
 Site-SVHN      | Val  Loss: 2.0346 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 0.5649 | Val  Acc: 0.8649
 Site-SynthDigits| Val  Loss: 1.3223 | Val  Acc: 0.5338
 Site-MNIST-M   | Val  Loss: 1.8417 | Val  Acc: 0.3514
 Site-MNIST     | Val  Loss: 0.5155 | Val  Acc: 0.8851
 Site-SVHN      | Val  Loss: 1.9183 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.5857 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.4375 | Val  Acc: 0.4595
 Site-MNIST-M   | Val  Loss: 1.7303 | Val  Acc: 0.3986
Average Valid Accuracy: 0.5824
 Best site-MNIST      | Epoch:8 | Val Acc: 0.8311
 Best site-SVHN       | Epoch:8 | Val Acc: 0.2703
 Best site-USPS       | Epoch:8 | Val Acc: 0.8649
 Best site-SynthDigits | Epoch:8 | Val Acc: 0.5338
 Best site-MNIST-M    | Epoch:8 | Val Acc: 0.3514
 Best site-MNIST      | Epoch:8 | Val Acc: 0.8851
 Best site-SVHN       | Epoch:8 | Val Acc: 0.3446
 Best site-USPS       | Epoch:8 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:8 | Val Acc: 0.4595
 Best site-MNIST-M    | Epoch:8 | Val Acc: 0.3986
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:8 | Test Acc: 0.8457
 Test site-SVHN      | Epoch:8 | Test Acc: 0.2997
 Test site-USPS      | Epoch:8 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:8 | Test Acc: 0.5224
 Test site-MNIST-M   | Epoch:8 | Test Acc: 0.3921
 Test site-MNIST     | Epoch:8 | Test Acc: 0.8457
 Test site-SVHN      | Epoch:8 | Test Acc: 0.2997
 Test site-USPS      | Epoch:8 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:8 | Test Acc: 0.5224
 Test site-MNIST-M   | Epoch:8 | Test Acc: 0.3921
Average Test Accuracy: 0.5905
============ Train epoch 45 ============
============ Train epoch 46 ============
============ Train epoch 47 ============
============ Train epoch 48 ============
============ Train epoch 49 ============
 Site-MNIST     | Train Loss: 0.4919 | Train Acc: 0.8829
 Site-SVHN      | Train Loss: 1.8603 | Train Acc: 0.4234
 Site-USPS      | Train Loss: 0.5060 | Train Acc: 0.9009
 Site-SynthDigits| Train Loss: 1.3258 | Train Acc: 0.5586
 Site-MNIST-M   | Train Loss: 1.5279 | Train Acc: 0.5000
 Site-MNIST     | Train Loss: 0.4457 | Train Acc: 0.9148
 Site-SVHN      | Train Loss: 1.6559 | Train Acc: 0.4574
 Site-USPS      | Train Loss: 0.5464 | Train Acc: 0.8789
 Site-SynthDigits| Train Loss: 1.2389 | Train Acc: 0.6143
 Site-MNIST-M   | Train Loss: 1.4470 | Train Acc: 0.5516
 Site-MNIST     | Val  Loss: 0.6422 | Val  Acc: 0.8446
 Site-SVHN      | Val  Loss: 2.0262 | Val  Acc: 0.2500
 Site-USPS      | Val  Loss: 0.5363 | Val  Acc: 0.8716
 Site-SynthDigits| Val  Loss: 1.2902 | Val  Acc: 0.5338
 Site-MNIST-M   | Val  Loss: 1.8214 | Val  Acc: 0.3649
 Site-MNIST     | Val  Loss: 0.4841 | Val  Acc: 0.8919
 Site-SVHN      | Val  Loss: 1.9085 | Val  Acc: 0.3514
 Site-USPS      | Val  Loss: 0.5598 | Val  Acc: 0.8919
 Site-SynthDigits| Val  Loss: 1.4013 | Val  Acc: 0.4797
 Site-MNIST-M   | Val  Loss: 1.7019 | Val  Acc: 0.3986
Average Valid Accuracy: 0.5878
 Best site-MNIST      | Epoch:9 | Val Acc: 0.8446
 Best site-SVHN       | Epoch:9 | Val Acc: 0.2500
 Best site-USPS       | Epoch:9 | Val Acc: 0.8716
 Best site-SynthDigits | Epoch:9 | Val Acc: 0.5338
 Best site-MNIST-M    | Epoch:9 | Val Acc: 0.3649
 Best site-MNIST      | Epoch:9 | Val Acc: 0.8919
 Best site-SVHN       | Epoch:9 | Val Acc: 0.3514
 Best site-USPS       | Epoch:9 | Val Acc: 0.8919
 Best site-SynthDigits | Epoch:9 | Val Acc: 0.4797
 Best site-MNIST-M    | Epoch:9 | Val Acc: 0.3986
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:9 | Test Acc: 0.8464
 Test site-SVHN      | Epoch:9 | Test Acc: 0.3023
 Test site-USPS      | Epoch:9 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:9 | Test Acc: 0.5353
 Test site-MNIST-M   | Epoch:9 | Test Acc: 0.4036
 Test site-MNIST     | Epoch:9 | Test Acc: 0.8464
 Test site-SVHN      | Epoch:9 | Test Acc: 0.3023
 Test site-USPS      | Epoch:9 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:9 | Test Acc: 0.5353
 Test site-MNIST-M   | Epoch:9 | Test Acc: 0.4036
Average Test Accuracy: 0.5960
===2023-03-21 07:43:45===
===2023-03-22 01:25:19===
===Setting===
    dataset: digit
    lr: 0.01
    batch: 32
    iters: 20
    wk_iters: 5
============ Train epoch 50 ============
============ Train epoch 51 ============
============ Train epoch 52 ============
============ Train epoch 53 ============
============ Train epoch 54 ============
 Site-MNIST     | Train Loss: 0.4410 | Train Acc: 0.8829
 Site-SVHN      | Train Loss: 1.8456 | Train Acc: 0.4189
 Site-USPS      | Train Loss: 0.4628 | Train Acc: 0.9054
 Site-SynthDigits| Train Loss: 1.2799 | Train Acc: 0.5901
 Site-MNIST-M   | Train Loss: 1.4781 | Train Acc: 0.5270
 Site-MNIST     | Train Loss: 0.3978 | Train Acc: 0.9283
 Site-SVHN      | Train Loss: 1.6367 | Train Acc: 0.4664
 Site-USPS      | Train Loss: 0.5072 | Train Acc: 0.8924
 Site-SynthDigits| Train Loss: 1.1915 | Train Acc: 0.6233
 Site-MNIST-M   | Train Loss: 1.3985 | Train Acc: 0.5695
 Site-MNIST     | Val  Loss: 0.5913 | Val  Acc: 0.8581
 Site-SVHN      | Val  Loss: 2.0242 | Val  Acc: 0.2432
 Site-USPS      | Val  Loss: 0.4951 | Val  Acc: 0.8716
 Site-SynthDigits| Val  Loss: 1.2569 | Val  Acc: 0.5405
 Site-MNIST-M   | Val  Loss: 1.7952 | Val  Acc: 0.3716
 Site-MNIST     | Val  Loss: 0.4375 | Val  Acc: 0.8851
 Site-SVHN      | Val  Loss: 1.8998 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.5184 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 1.3636 | Val  Acc: 0.4730
 Site-MNIST-M   | Val  Loss: 1.6699 | Val  Acc: 0.3986
Average Valid Accuracy: 0.5892
 Best site-MNIST      | Epoch:10 | Val Acc: 0.8581
 Best site-SVHN       | Epoch:10 | Val Acc: 0.2432
 Best site-USPS       | Epoch:10 | Val Acc: 0.8716
 Best site-SynthDigits | Epoch:10 | Val Acc: 0.5405
 Best site-MNIST-M    | Epoch:10 | Val Acc: 0.3716
 Best site-MNIST      | Epoch:10 | Val Acc: 0.8851
 Best site-SVHN       | Epoch:10 | Val Acc: 0.3446
 Best site-USPS       | Epoch:10 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:10 | Val Acc: 0.4730
 Best site-MNIST-M    | Epoch:10 | Val Acc: 0.3986
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:10 | Test Acc: 0.8543
 Test site-SVHN      | Epoch:10 | Test Acc: 0.3073
 Test site-USPS      | Epoch:10 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:10 | Test Acc: 0.5503
 Test site-MNIST-M   | Epoch:10 | Test Acc: 0.4164
 Test site-MNIST     | Epoch:10 | Test Acc: 0.8543
 Test site-SVHN      | Epoch:10 | Test Acc: 0.3073
 Test site-USPS      | Epoch:10 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:10 | Test Acc: 0.5503
 Test site-MNIST-M   | Epoch:10 | Test Acc: 0.4164
Average Test Accuracy: 0.6042
============ Train epoch 55 ============
============ Train epoch 56 ============
============ Train epoch 57 ============
============ Train epoch 58 ============
============ Train epoch 59 ============
 Site-MNIST     | Train Loss: 0.4035 | Train Acc: 0.8964
 Site-SVHN      | Train Loss: 1.8321 | Train Acc: 0.4054
 Site-USPS      | Train Loss: 0.4307 | Train Acc: 0.9054
 Site-SynthDigits| Train Loss: 1.2381 | Train Acc: 0.6036
 Site-MNIST-M   | Train Loss: 1.4338 | Train Acc: 0.5360
 Site-MNIST     | Train Loss: 0.3603 | Train Acc: 0.9372
 Site-SVHN      | Train Loss: 1.6216 | Train Acc: 0.4753
 Site-USPS      | Train Loss: 0.4777 | Train Acc: 0.8924
 Site-SynthDigits| Train Loss: 1.1503 | Train Acc: 0.6278
 Site-MNIST-M   | Train Loss: 1.3557 | Train Acc: 0.5785
 Site-MNIST     | Val  Loss: 0.5557 | Val  Acc: 0.8581
 Site-SVHN      | Val  Loss: 2.0198 | Val  Acc: 0.2432
 Site-USPS      | Val  Loss: 0.4624 | Val  Acc: 0.8716
 Site-SynthDigits| Val  Loss: 1.2319 | Val  Acc: 0.5541
 Site-MNIST-M   | Val  Loss: 1.7772 | Val  Acc: 0.3851
 Site-MNIST     | Val  Loss: 0.4016 | Val  Acc: 0.8919
 Site-SVHN      | Val  Loss: 1.8963 | Val  Acc: 0.3514
 Site-USPS      | Val  Loss: 0.4861 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 1.3321 | Val  Acc: 0.5135
 Site-MNIST-M   | Val  Loss: 1.6432 | Val  Acc: 0.4122
Average Valid Accuracy: 0.5986
 Best site-MNIST      | Epoch:11 | Val Acc: 0.8581
 Best site-SVHN       | Epoch:11 | Val Acc: 0.2432
 Best site-USPS       | Epoch:11 | Val Acc: 0.8716
 Best site-SynthDigits | Epoch:11 | Val Acc: 0.5541
 Best site-MNIST-M    | Epoch:11 | Val Acc: 0.3851
 Best site-MNIST      | Epoch:11 | Val Acc: 0.8919
 Best site-SVHN       | Epoch:11 | Val Acc: 0.3514
 Best site-USPS       | Epoch:11 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:11 | Val Acc: 0.5135
 Best site-MNIST-M    | Epoch:11 | Val Acc: 0.4122
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:11 | Test Acc: 0.8636
 Test site-SVHN      | Epoch:11 | Test Acc: 0.3068
 Test site-USPS      | Epoch:11 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:11 | Test Acc: 0.5636
 Test site-MNIST-M   | Epoch:11 | Test Acc: 0.4229
 Test site-MNIST     | Epoch:11 | Test Acc: 0.8636
 Test site-SVHN      | Epoch:11 | Test Acc: 0.3068
 Test site-USPS      | Epoch:11 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:11 | Test Acc: 0.5636
 Test site-MNIST-M   | Epoch:11 | Test Acc: 0.4229
Average Test Accuracy: 0.6099
============ Train epoch 60 ============
============ Train epoch 61 ============
============ Train epoch 62 ============
============ Train epoch 63 ============
============ Train epoch 64 ============
 Site-MNIST     | Train Loss: 0.3744 | Train Acc: 0.9054
 Site-SVHN      | Train Loss: 1.8171 | Train Acc: 0.4144
 Site-USPS      | Train Loss: 0.4058 | Train Acc: 0.9099
 Site-SynthDigits| Train Loss: 1.2034 | Train Acc: 0.6216
 Site-MNIST-M   | Train Loss: 1.3901 | Train Acc: 0.5495
 Site-MNIST     | Train Loss: 0.3312 | Train Acc: 0.9372
 Site-SVHN      | Train Loss: 1.6038 | Train Acc: 0.4753
 Site-USPS      | Train Loss: 0.4556 | Train Acc: 0.8924
 Site-SynthDigits| Train Loss: 1.1139 | Train Acc: 0.6233
 Site-MNIST-M   | Train Loss: 1.3208 | Train Acc: 0.5919
 Site-MNIST     | Val  Loss: 0.5256 | Val  Acc: 0.8716
 Site-SVHN      | Val  Loss: 2.0151 | Val  Acc: 0.2500
 Site-USPS      | Val  Loss: 0.4402 | Val  Acc: 0.8784
 Site-SynthDigits| Val  Loss: 1.2091 | Val  Acc: 0.5541
 Site-MNIST-M   | Val  Loss: 1.7639 | Val  Acc: 0.3851
 Site-MNIST     | Val  Loss: 0.3719 | Val  Acc: 0.9054
 Site-SVHN      | Val  Loss: 1.8928 | Val  Acc: 0.3514
 Site-USPS      | Val  Loss: 0.4627 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 1.3047 | Val  Acc: 0.5270
 Site-MNIST-M   | Val  Loss: 1.6221 | Val  Acc: 0.4392
Average Valid Accuracy: 0.6068
 Best site-MNIST      | Epoch:12 | Val Acc: 0.8716
 Best site-SVHN       | Epoch:12 | Val Acc: 0.2500
 Best site-USPS       | Epoch:12 | Val Acc: 0.8784
 Best site-SynthDigits | Epoch:12 | Val Acc: 0.5541
 Best site-MNIST-M    | Epoch:12 | Val Acc: 0.3851
 Best site-MNIST      | Epoch:12 | Val Acc: 0.9054
 Best site-SVHN       | Epoch:12 | Val Acc: 0.3514
 Best site-USPS       | Epoch:12 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:12 | Val Acc: 0.5270
 Best site-MNIST-M    | Epoch:12 | Val Acc: 0.4392
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:12 | Test Acc: 0.8679
 Test site-SVHN      | Epoch:12 | Test Acc: 0.3113
 Test site-USPS      | Epoch:12 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:12 | Test Acc: 0.5742
 Test site-MNIST-M   | Epoch:12 | Test Acc: 0.4321
 Test site-MNIST     | Epoch:12 | Test Acc: 0.8679
 Test site-SVHN      | Epoch:12 | Test Acc: 0.3113
 Test site-USPS      | Epoch:12 | Test Acc: 0.8925
 Test site-SynthDigits| Epoch:12 | Test Acc: 0.5742
 Test site-MNIST-M   | Epoch:12 | Test Acc: 0.4321
Average Test Accuracy: 0.6156
============ Train epoch 65 ============
============ Train epoch 66 ============
============ Train epoch 67 ============
============ Train epoch 68 ============
============ Train epoch 69 ============
 Site-MNIST     | Train Loss: 0.3488 | Train Acc: 0.9144
 Site-SVHN      | Train Loss: 1.8049 | Train Acc: 0.4099
 Site-USPS      | Train Loss: 0.3852 | Train Acc: 0.9099
 Site-SynthDigits| Train Loss: 1.1659 | Train Acc: 0.6351
 Site-MNIST-M   | Train Loss: 1.3535 | Train Acc: 0.5495
 Site-MNIST     | Train Loss: 0.3069 | Train Acc: 0.9462
 Site-SVHN      | Train Loss: 1.5890 | Train Acc: 0.4798
 Site-USPS      | Train Loss: 0.4334 | Train Acc: 0.8924
 Site-SynthDigits| Train Loss: 1.0739 | Train Acc: 0.6323
 Site-MNIST-M   | Train Loss: 1.2919 | Train Acc: 0.5919
 Site-MNIST     | Val  Loss: 0.5060 | Val  Acc: 0.8716
 Site-SVHN      | Val  Loss: 2.0085 | Val  Acc: 0.2500
 Site-USPS      | Val  Loss: 0.4177 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1869 | Val  Acc: 0.5608
 Site-MNIST-M   | Val  Loss: 1.7551 | Val  Acc: 0.3851
 Site-MNIST     | Val  Loss: 0.3515 | Val  Acc: 0.9189
 Site-SVHN      | Val  Loss: 1.8920 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.4399 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 1.2750 | Val  Acc: 0.5338
 Site-MNIST-M   | Val  Loss: 1.6078 | Val  Acc: 0.4392
Average Valid Accuracy: 0.6095
 Best site-MNIST      | Epoch:13 | Val Acc: 0.8716
 Best site-SVHN       | Epoch:13 | Val Acc: 0.2500
 Best site-USPS       | Epoch:13 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:13 | Val Acc: 0.5608
 Best site-MNIST-M    | Epoch:13 | Val Acc: 0.3851
 Best site-MNIST      | Epoch:13 | Val Acc: 0.9189
 Best site-SVHN       | Epoch:13 | Val Acc: 0.3446
 Best site-USPS       | Epoch:13 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:13 | Val Acc: 0.5338
 Best site-MNIST-M    | Epoch:13 | Val Acc: 0.4392
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:13 | Test Acc: 0.8729
 Test site-SVHN      | Epoch:13 | Test Acc: 0.3113
 Test site-USPS      | Epoch:13 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:13 | Test Acc: 0.5818
 Test site-MNIST-M   | Epoch:13 | Test Acc: 0.4329
 Test site-MNIST     | Epoch:13 | Test Acc: 0.8729
 Test site-SVHN      | Epoch:13 | Test Acc: 0.3113
 Test site-USPS      | Epoch:13 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:13 | Test Acc: 0.5818
 Test site-MNIST-M   | Epoch:13 | Test Acc: 0.4329
Average Test Accuracy: 0.6193
============ Train epoch 70 ============
============ Train epoch 71 ============
============ Train epoch 72 ============
============ Train epoch 73 ============
============ Train epoch 74 ============
 Site-MNIST     | Train Loss: 0.3230 | Train Acc: 0.9234
 Site-SVHN      | Train Loss: 1.7888 | Train Acc: 0.4189
 Site-USPS      | Train Loss: 0.3697 | Train Acc: 0.9144
 Site-SynthDigits| Train Loss: 1.1433 | Train Acc: 0.6532
 Site-MNIST-M   | Train Loss: 1.3070 | Train Acc: 0.5676
 Site-MNIST     | Train Loss: 0.2860 | Train Acc: 0.9417
 Site-SVHN      | Train Loss: 1.5791 | Train Acc: 0.4798
 Site-USPS      | Train Loss: 0.4187 | Train Acc: 0.8924
 Site-SynthDigits| Train Loss: 1.0506 | Train Acc: 0.6457
 Site-MNIST-M   | Train Loss: 1.2536 | Train Acc: 0.6009
 Site-MNIST     | Val  Loss: 0.4841 | Val  Acc: 0.8919
 Site-SVHN      | Val  Loss: 2.0016 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 0.4033 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1700 | Val  Acc: 0.5676
 Site-MNIST-M   | Val  Loss: 1.7355 | Val  Acc: 0.3784
 Site-MNIST     | Val  Loss: 0.3247 | Val  Acc: 0.9257
 Site-SVHN      | Val  Loss: 1.8919 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.4273 | Val  Acc: 0.9054
 Site-SynthDigits| Val  Loss: 1.2589 | Val  Acc: 0.5541
 Site-MNIST-M   | Val  Loss: 1.5798 | Val  Acc: 0.4257
Average Valid Accuracy: 0.6149
 Best site-MNIST      | Epoch:14 | Val Acc: 0.8919
 Best site-SVHN       | Epoch:14 | Val Acc: 0.2703
 Best site-USPS       | Epoch:14 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:14 | Val Acc: 0.5676
 Best site-MNIST-M    | Epoch:14 | Val Acc: 0.3784
 Best site-MNIST      | Epoch:14 | Val Acc: 0.9257
 Best site-SVHN       | Epoch:14 | Val Acc: 0.3446
 Best site-USPS       | Epoch:14 | Val Acc: 0.9054
 Best site-SynthDigits | Epoch:14 | Val Acc: 0.5541
 Best site-MNIST-M    | Epoch:14 | Val Acc: 0.4257
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:14 | Test Acc: 0.8750
 Test site-SVHN      | Epoch:14 | Test Acc: 0.3118
 Test site-USPS      | Epoch:14 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:14 | Test Acc: 0.5901
 Test site-MNIST-M   | Epoch:14 | Test Acc: 0.4421
 Test site-MNIST     | Epoch:14 | Test Acc: 0.8750
 Test site-SVHN      | Epoch:14 | Test Acc: 0.3118
 Test site-USPS      | Epoch:14 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:14 | Test Acc: 0.5901
 Test site-MNIST-M   | Epoch:14 | Test Acc: 0.4421
Average Test Accuracy: 0.6234
============ Train epoch 75 ============
============ Train epoch 76 ============
============ Train epoch 77 ============
============ Train epoch 78 ============
============ Train epoch 79 ============
 Site-MNIST     | Train Loss: 0.3092 | Train Acc: 0.9234
 Site-SVHN      | Train Loss: 1.7846 | Train Acc: 0.4054
 Site-USPS      | Train Loss: 0.3558 | Train Acc: 0.9144
 Site-SynthDigits| Train Loss: 1.0955 | Train Acc: 0.6622
 Site-MNIST-M   | Train Loss: 1.2914 | Train Acc: 0.5811
 Site-MNIST     | Train Loss: 0.2695 | Train Acc: 0.9462
 Site-SVHN      | Train Loss: 1.5674 | Train Acc: 0.4798
 Site-USPS      | Train Loss: 0.4050 | Train Acc: 0.8969
 Site-SynthDigits| Train Loss: 0.9999 | Train Acc: 0.6502
 Site-MNIST-M   | Train Loss: 1.2353 | Train Acc: 0.6054
 Site-MNIST     | Val  Loss: 0.4742 | Val  Acc: 0.8986
 Site-SVHN      | Val  Loss: 1.9963 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 0.3913 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1457 | Val  Acc: 0.5946
 Site-MNIST-M   | Val  Loss: 1.7488 | Val  Acc: 0.3851
 Site-MNIST     | Val  Loss: 0.3161 | Val  Acc: 0.9257
 Site-SVHN      | Val  Loss: 1.8968 | Val  Acc: 0.3378
 Site-USPS      | Val  Loss: 0.4140 | Val  Acc: 0.8919
 Site-SynthDigits| Val  Loss: 1.2203 | Val  Acc: 0.5811
 Site-MNIST-M   | Val  Loss: 1.5864 | Val  Acc: 0.4257
Average Valid Accuracy: 0.6196
 Best site-MNIST      | Epoch:15 | Val Acc: 0.8986
 Best site-SVHN       | Epoch:15 | Val Acc: 0.2703
 Best site-USPS       | Epoch:15 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:15 | Val Acc: 0.5946
 Best site-MNIST-M    | Epoch:15 | Val Acc: 0.3851
 Best site-MNIST      | Epoch:15 | Val Acc: 0.9257
 Best site-SVHN       | Epoch:15 | Val Acc: 0.3378
 Best site-USPS       | Epoch:15 | Val Acc: 0.8919
 Best site-SynthDigits | Epoch:15 | Val Acc: 0.5811
 Best site-MNIST-M    | Epoch:15 | Val Acc: 0.4257
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:15 | Test Acc: 0.8764
 Test site-SVHN      | Epoch:15 | Test Acc: 0.3123
 Test site-USPS      | Epoch:15 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:15 | Test Acc: 0.6024
 Test site-MNIST-M   | Epoch:15 | Test Acc: 0.4457
 Test site-MNIST     | Epoch:15 | Test Acc: 0.8764
 Test site-SVHN      | Epoch:15 | Test Acc: 0.3123
 Test site-USPS      | Epoch:15 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:15 | Test Acc: 0.6024
 Test site-MNIST-M   | Epoch:15 | Test Acc: 0.4457
Average Test Accuracy: 0.6269
============ Train epoch 80 ============
============ Train epoch 81 ============
============ Train epoch 82 ============
============ Train epoch 83 ============
============ Train epoch 84 ============
 Site-MNIST     | Train Loss: 0.2834 | Train Acc: 0.9279
 Site-SVHN      | Train Loss: 1.7696 | Train Acc: 0.4099
 Site-USPS      | Train Loss: 0.3456 | Train Acc: 0.9144
 Site-SynthDigits| Train Loss: 1.1040 | Train Acc: 0.6622
 Site-MNIST-M   | Train Loss: 1.2120 | Train Acc: 0.6036
 Site-MNIST     | Train Loss: 0.2516 | Train Acc: 0.9462
 Site-SVHN      | Train Loss: 1.5614 | Train Acc: 0.4843
 Site-USPS      | Train Loss: 0.3927 | Train Acc: 0.8969
 Site-SynthDigits| Train Loss: 1.0084 | Train Acc: 0.6637
 Site-MNIST-M   | Train Loss: 1.1819 | Train Acc: 0.6368
 Site-MNIST     | Val  Loss: 0.4496 | Val  Acc: 0.8986
 Site-SVHN      | Val  Loss: 1.9912 | Val  Acc: 0.2838
 Site-USPS      | Val  Loss: 0.3796 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1451 | Val  Acc: 0.5743
 Site-MNIST-M   | Val  Loss: 1.6916 | Val  Acc: 0.4189
 Site-MNIST     | Val  Loss: 0.2847 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 1.8979 | Val  Acc: 0.3446
 Site-USPS      | Val  Loss: 0.4045 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.2314 | Val  Acc: 0.5743
 Site-MNIST-M   | Val  Loss: 1.5209 | Val  Acc: 0.4459
Average Valid Accuracy: 0.6243
 Best site-MNIST      | Epoch:16 | Val Acc: 0.8986
 Best site-SVHN       | Epoch:16 | Val Acc: 0.2838
 Best site-USPS       | Epoch:16 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:16 | Val Acc: 0.5743
 Best site-MNIST-M    | Epoch:16 | Val Acc: 0.4189
 Best site-MNIST      | Epoch:16 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:16 | Val Acc: 0.3446
 Best site-USPS       | Epoch:16 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:16 | Val Acc: 0.5743
 Best site-MNIST-M    | Epoch:16 | Val Acc: 0.4459
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:16 | Test Acc: 0.8850
 Test site-SVHN      | Epoch:16 | Test Acc: 0.3139
 Test site-USPS      | Epoch:16 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:16 | Test Acc: 0.5997
 Test site-MNIST-M   | Epoch:16 | Test Acc: 0.4693
 Test site-MNIST     | Epoch:16 | Test Acc: 0.8850
 Test site-SVHN      | Epoch:16 | Test Acc: 0.3139
 Test site-USPS      | Epoch:16 | Test Acc: 0.8978
 Test site-SynthDigits| Epoch:16 | Test Acc: 0.5997
 Test site-MNIST-M   | Epoch:16 | Test Acc: 0.4693
Average Test Accuracy: 0.6331
============ Train epoch 85 ============
============ Train epoch 86 ============
============ Train epoch 87 ============
============ Train epoch 88 ============
============ Train epoch 89 ============
 Site-MNIST     | Train Loss: 0.2886 | Train Acc: 0.9279
 Site-SVHN      | Train Loss: 1.7626 | Train Acc: 0.3964
 Site-USPS      | Train Loss: 0.3380 | Train Acc: 0.9144
 Site-SynthDigits| Train Loss: 1.0198 | Train Acc: 0.6802
 Site-MNIST-M   | Train Loss: 1.2418 | Train Acc: 0.6036
 Site-MNIST     | Train Loss: 0.2468 | Train Acc: 0.9462
 Site-SVHN      | Train Loss: 1.5413 | Train Acc: 0.5112
 Site-USPS      | Train Loss: 0.3866 | Train Acc: 0.9058
 Site-SynthDigits| Train Loss: 0.9109 | Train Acc: 0.6861
 Site-MNIST-M   | Train Loss: 1.1960 | Train Acc: 0.6009
 Site-MNIST     | Val  Loss: 0.4597 | Val  Acc: 0.8851
 Site-SVHN      | Val  Loss: 1.9849 | Val  Acc: 0.2703
 Site-USPS      | Val  Loss: 0.3790 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1013 | Val  Acc: 0.5946
 Site-MNIST-M   | Val  Loss: 1.7521 | Val  Acc: 0.3919
 Site-MNIST     | Val  Loss: 0.2986 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 1.8920 | Val  Acc: 0.3581
 Site-USPS      | Val  Loss: 0.3971 | Val  Acc: 0.8986
 Site-SynthDigits| Val  Loss: 1.1558 | Val  Acc: 0.6081
 Site-MNIST-M   | Val  Loss: 1.5718 | Val  Acc: 0.4392
Average Valid Accuracy: 0.6264
 Best site-MNIST      | Epoch:17 | Val Acc: 0.8851
 Best site-SVHN       | Epoch:17 | Val Acc: 0.2703
 Best site-USPS       | Epoch:17 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:17 | Val Acc: 0.5946
 Best site-MNIST-M    | Epoch:17 | Val Acc: 0.3919
 Best site-MNIST      | Epoch:17 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:17 | Val Acc: 0.3581
 Best site-USPS       | Epoch:17 | Val Acc: 0.8986
 Best site-SynthDigits | Epoch:17 | Val Acc: 0.6081
 Best site-MNIST-M    | Epoch:17 | Val Acc: 0.4392
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:17 | Test Acc: 0.8836
 Test site-SVHN      | Epoch:17 | Test Acc: 0.3194
 Test site-USPS      | Epoch:17 | Test Acc: 0.9032
 Test site-SynthDigits| Epoch:17 | Test Acc: 0.6300
 Test site-MNIST-M   | Epoch:17 | Test Acc: 0.4486
 Test site-MNIST     | Epoch:17 | Test Acc: 0.8836
 Test site-SVHN      | Epoch:17 | Test Acc: 0.3194
 Test site-USPS      | Epoch:17 | Test Acc: 0.9032
 Test site-SynthDigits| Epoch:17 | Test Acc: 0.6300
 Test site-MNIST-M   | Epoch:17 | Test Acc: 0.4486
Average Test Accuracy: 0.6370
============ Train epoch 90 ============
============ Train epoch 91 ============
============ Train epoch 92 ============
============ Train epoch 93 ============
============ Train epoch 94 ============
 Site-MNIST     | Train Loss: 0.2434 | Train Acc: 0.9279
 Site-SVHN      | Train Loss: 1.7473 | Train Acc: 0.4189
 Site-USPS      | Train Loss: 0.3254 | Train Acc: 0.9144
 Site-SynthDigits| Train Loss: 1.0812 | Train Acc: 0.6622
 Site-MNIST-M   | Train Loss: 1.1207 | Train Acc: 0.6396
 Site-MNIST     | Train Loss: 0.2182 | Train Acc: 0.9552
 Site-SVHN      | Train Loss: 1.5521 | Train Acc: 0.4978
 Site-USPS      | Train Loss: 0.3689 | Train Acc: 0.8969
 Site-SynthDigits| Train Loss: 0.9740 | Train Acc: 0.6771
 Site-MNIST-M   | Train Loss: 1.1034 | Train Acc: 0.6547
 Site-MNIST     | Val  Loss: 0.4202 | Val  Acc: 0.8919
 Site-SVHN      | Val  Loss: 1.9851 | Val  Acc: 0.2770
 Site-USPS      | Val  Loss: 0.3598 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.1272 | Val  Acc: 0.5811
 Site-MNIST-M   | Val  Loss: 1.6310 | Val  Acc: 0.4392
 Site-MNIST     | Val  Loss: 0.2427 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 1.8917 | Val  Acc: 0.3378
 Site-USPS      | Val  Loss: 0.3883 | Val  Acc: 0.8986
 Site-SynthDigits| Val  Loss: 1.2135 | Val  Acc: 0.5473
 Site-MNIST-M   | Val  Loss: 1.4596 | Val  Acc: 0.4865
Average Valid Accuracy: 0.6277
 Best site-MNIST      | Epoch:18 | Val Acc: 0.8919
 Best site-SVHN       | Epoch:18 | Val Acc: 0.2770
 Best site-USPS       | Epoch:18 | Val Acc: 0.8851
 Best site-SynthDigits | Epoch:18 | Val Acc: 0.5811
 Best site-MNIST-M    | Epoch:18 | Val Acc: 0.4392
 Best site-MNIST      | Epoch:18 | Val Acc: 0.9324
 Best site-SVHN       | Epoch:18 | Val Acc: 0.3378
 Best site-USPS       | Epoch:18 | Val Acc: 0.8986
 Best site-SynthDigits | Epoch:18 | Val Acc: 0.5473
 Best site-MNIST-M    | Epoch:18 | Val Acc: 0.4865
 Saving the local and server checkpoint to ../checkpoint/fed_digit_2ClientPerDomain/DoPrompt_lsim=False...
 Test site-MNIST     | Epoch:18 | Test Acc: 0.8914
 Test site-SVHN      | Epoch:18 | Test Acc: 0.3154
 Test site-USPS      | Epoch:18 | Test Acc: 0.9032
 Test site-SynthDigits| Epoch:18 | Test Acc: 0.6092
 Test site-MNIST-M   | Epoch:18 | Test Acc: 0.4907
 Test site-MNIST     | Epoch:18 | Test Acc: 0.8914
 Test site-SVHN      | Epoch:18 | Test Acc: 0.3154
 Test site-USPS      | Epoch:18 | Test Acc: 0.9032
 Test site-SynthDigits| Epoch:18 | Test Acc: 0.6092
 Test site-MNIST-M   | Epoch:18 | Test Acc: 0.4907
Average Test Accuracy: 0.6420
============ Train epoch 95 ============
============ Train epoch 96 ============
============ Train epoch 97 ============
============ Train epoch 98 ============
============ Train epoch 99 ============
 Site-MNIST     | Train Loss: 0.2809 | Train Acc: 0.9324
 Site-SVHN      | Train Loss: 1.7532 | Train Acc: 0.3919
 Site-USPS      | Train Loss: 0.3271 | Train Acc: 0.9189
 Site-SynthDigits| Train Loss: 0.9167 | Train Acc: 0.7117
 Site-MNIST-M   | Train Loss: 1.2311 | Train Acc: 0.6126
 Site-MNIST     | Train Loss: 0.2378 | Train Acc: 0.9417
 Site-SVHN      | Train Loss: 1.5190 | Train Acc: 0.4888
 Site-USPS      | Train Loss: 0.3780 | Train Acc: 0.9013
 Site-SynthDigits| Train Loss: 0.7940 | Train Acc: 0.7265
 Site-MNIST-M   | Train Loss: 1.1845 | Train Acc: 0.6054
 Site-MNIST     | Val  Loss: 0.4598 | Val  Acc: 0.8784
 Site-SVHN      | Val  Loss: 1.9654 | Val  Acc: 0.2905
 Site-USPS      | Val  Loss: 0.3799 | Val  Acc: 0.8851
 Site-SynthDigits| Val  Loss: 1.0285 | Val  Acc: 0.6081
 Site-MNIST-M   | Val  Loss: 1.7871 | Val  Acc: 0.3716
 Site-MNIST     | Val  Loss: 0.2901 | Val  Acc: 0.9324
 Site-SVHN      | Val  Loss: 1.8892 | Val  Acc: 0.3378
 Site-USPS      | Val  Loss: 0.3875 | Val  Acc: 0.8986
 Site-SynthDigits| Val  Loss: 1.0777 | Val  Acc: 0.6419
 Site-MNIST-M   | Val  Loss: 1.5878 | Val  Acc: 0.4324
Average Valid Accuracy: 0.6277
===2023-03-22 03:52:44===
