===2023-08-17 07:29:30===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
data_number=[150,450,150,450,150,450,150,450,
client_nums=[2,2,2,2,]
len_dataset=[1000,1000,1000,1000,]
domain number = 4
============ Train epoch 0 ============
 Site-photo                         | Train Loss: 1.6959 | Train Acc: 0.9333
 Site-photo                         | Train Loss: 1.6844 | Train Acc: 0.8956
 Site-art_painting                  | Train Loss: 1.7777 | Train Acc: 0.6467
 Site-art_painting                  | Train Loss: 1.7699 | Train Acc: 0.6333
 Site-cartoon                       | Train Loss: 1.8046 | Train Acc: 0.4667
 Site-cartoon                       | Train Loss: 1.8066 | Train Acc: 0.5044
 Site-sketch                        | Train Loss: 1.7977 | Train Acc: 0.3933
 Site-sketch                        | Train Loss: 1.8347 | Train Acc: 0.2667
Average Train Accuracy: 0.5925
 Best site-photo                     | Epoch:0 | Val Acc: 0.9333
 Best site-photo                     | Epoch:0 | Val Acc: 0.8956
 Best site-art_painting              | Epoch:0 | Val Acc: 0.6467
 Best site-art_painting              | Epoch:0 | Val Acc: 0.6333
 Best site-cartoon                   | Epoch:0 | Val Acc: 0.4667
 Best site-cartoon                   | Epoch:0 | Val Acc: 0.5044
 Best site-sketch                    | Epoch:0 | Val Acc: 0.3933
 Best site-sketch                    | Epoch:0 | Val Acc: 0.2667
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 1 ============
 Site-photo                         | Train Loss: 1.4651 | Train Acc: 0.9800
 Site-photo                         | Train Loss: 1.4505 | Train Acc: 0.9756
 Site-art_painting                  | Train Loss: 1.6343 | Train Acc: 0.7400
 Site-art_painting                  | Train Loss: 1.6175 | Train Acc: 0.7533
 Site-cartoon                       | Train Loss: 1.6573 | Train Acc: 0.6667
 Site-cartoon                       | Train Loss: 1.6628 | Train Acc: 0.6578
 Site-sketch                        | Train Loss: 1.6886 | Train Acc: 0.4333
 Site-sketch                        | Train Loss: 1.7155 | Train Acc: 0.3378
Average Train Accuracy: 0.6931
 Best site-photo                     | Epoch:1 | Val Acc: 0.9800
 Best site-photo                     | Epoch:1 | Val Acc: 0.9756
 Best site-art_painting              | Epoch:1 | Val Acc: 0.7400
 Best site-art_painting              | Epoch:1 | Val Acc: 0.7533
 Best site-cartoon                   | Epoch:1 | Val Acc: 0.6667
 Best site-cartoon                   | Epoch:1 | Val Acc: 0.6578
 Best site-sketch                    | Epoch:1 | Val Acc: 0.4333
 Best site-sketch                    | Epoch:1 | Val Acc: 0.3378
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 2 ============
 Site-photo                         | Train Loss: 1.2462 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 1.2422 | Train Acc: 0.9778
 Site-art_painting                  | Train Loss: 1.4943 | Train Acc: 0.7867
 Site-art_painting                  | Train Loss: 1.4939 | Train Acc: 0.7778
 Site-cartoon                       | Train Loss: 1.5178 | Train Acc: 0.7400
 Site-cartoon                       | Train Loss: 1.5552 | Train Acc: 0.6956
 Site-sketch                        | Train Loss: 1.6130 | Train Acc: 0.4133
 Site-sketch                        | Train Loss: 1.6374 | Train Acc: 0.4089
Average Train Accuracy: 0.7233
 Best site-photo                     | Epoch:2 | Val Acc: 0.9867
 Best site-photo                     | Epoch:2 | Val Acc: 0.9778
 Best site-art_painting              | Epoch:2 | Val Acc: 0.7867
 Best site-art_painting              | Epoch:2 | Val Acc: 0.7778
 Best site-cartoon                   | Epoch:2 | Val Acc: 0.7400
 Best site-cartoon                   | Epoch:2 | Val Acc: 0.6956
 Best site-sketch                    | Epoch:2 | Val Acc: 0.4133
 Best site-sketch                    | Epoch:2 | Val Acc: 0.4089
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 3 ============
 Site-photo                         | Train Loss: 1.0504 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 1.0289 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 1.3777 | Train Acc: 0.7867
 Site-art_painting                  | Train Loss: 1.3424 | Train Acc: 0.8089
 Site-cartoon                       | Train Loss: 1.4187 | Train Acc: 0.7467
 Site-cartoon                       | Train Loss: 1.4362 | Train Acc: 0.7267
 Site-sketch                        | Train Loss: 1.5267 | Train Acc: 0.4400
 Site-sketch                        | Train Loss: 1.5616 | Train Acc: 0.4289
Average Train Accuracy: 0.7397
 Best site-photo                     | Epoch:3 | Val Acc: 0.9933
 Best site-photo                     | Epoch:3 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:3 | Val Acc: 0.7867
 Best site-art_painting              | Epoch:3 | Val Acc: 0.8089
 Best site-cartoon                   | Epoch:3 | Val Acc: 0.7467
 Best site-cartoon                   | Epoch:3 | Val Acc: 0.7267
 Best site-sketch                    | Epoch:3 | Val Acc: 0.4400
 Best site-sketch                    | Epoch:3 | Val Acc: 0.4289
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 4 ============
 Site-photo                         | Train Loss: 0.8723 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.8565 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 1.2609 | Train Acc: 0.8067
 Site-art_painting                  | Train Loss: 1.2074 | Train Acc: 0.8311
 Site-cartoon                       | Train Loss: 1.3219 | Train Acc: 0.7600
 Site-cartoon                       | Train Loss: 1.3110 | Train Acc: 0.7467
 Site-sketch                        | Train Loss: 1.4729 | Train Acc: 0.4800
 Site-sketch                        | Train Loss: 1.5055 | Train Acc: 0.4622
Average Train Accuracy: 0.7572
 Best site-photo                     | Epoch:4 | Val Acc: 0.9867
 Best site-photo                     | Epoch:4 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:4 | Val Acc: 0.8067
 Best site-art_painting              | Epoch:4 | Val Acc: 0.8311
 Best site-cartoon                   | Epoch:4 | Val Acc: 0.7600
 Best site-cartoon                   | Epoch:4 | Val Acc: 0.7467
 Best site-sketch                    | Epoch:4 | Val Acc: 0.4800
 Best site-sketch                    | Epoch:4 | Val Acc: 0.4622
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 5 ============
 Site-photo                         | Train Loss: 0.7163 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.7332 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 1.1774 | Train Acc: 0.8267
 Site-art_painting                  | Train Loss: 1.0957 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 1.2210 | Train Acc: 0.8000
 Site-cartoon                       | Train Loss: 1.2090 | Train Acc: 0.7244
 Site-sketch                        | Train Loss: 1.4114 | Train Acc: 0.5467
 Site-sketch                        | Train Loss: 1.3835 | Train Acc: 0.5044
Average Train Accuracy: 0.7794
 Best site-photo                     | Epoch:5 | Val Acc: 0.9867
 Best site-photo                     | Epoch:5 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:5 | Val Acc: 0.8267
 Best site-art_painting              | Epoch:5 | Val Acc: 0.8600
 Best site-cartoon                   | Epoch:5 | Val Acc: 0.8000
 Best site-cartoon                   | Epoch:5 | Val Acc: 0.7244
 Best site-sketch                    | Epoch:5 | Val Acc: 0.5467
 Best site-sketch                    | Epoch:5 | Val Acc: 0.5044
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 6 ============
 Site-photo                         | Train Loss: 0.5999 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.5982 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 1.1143 | Train Acc: 0.8067
 Site-art_painting                  | Train Loss: 1.0449 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 1.1421 | Train Acc: 0.7800
 Site-cartoon                       | Train Loss: 1.1502 | Train Acc: 0.7644
 Site-sketch                        | Train Loss: 1.3616 | Train Acc: 0.5667
 Site-sketch                        | Train Loss: 1.3842 | Train Acc: 0.5511
Average Train Accuracy: 0.7886
 Best site-photo                     | Epoch:6 | Val Acc: 0.9933
 Best site-photo                     | Epoch:6 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:6 | Val Acc: 0.8067
 Best site-art_painting              | Epoch:6 | Val Acc: 0.8600
 Best site-cartoon                   | Epoch:6 | Val Acc: 0.7800
 Best site-cartoon                   | Epoch:6 | Val Acc: 0.7644
 Best site-sketch                    | Epoch:6 | Val Acc: 0.5667
 Best site-sketch                    | Epoch:6 | Val Acc: 0.5511
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 7 ============
 Site-photo                         | Train Loss: 0.5033 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.4990 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 1.0046 | Train Acc: 0.8333
 Site-art_painting                  | Train Loss: 0.9728 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 1.0783 | Train Acc: 0.8200
 Site-cartoon                       | Train Loss: 1.0819 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 1.3212 | Train Acc: 0.6133
 Site-sketch                        | Train Loss: 1.3394 | Train Acc: 0.5400
Average Train Accuracy: 0.8022
 Best site-photo                     | Epoch:7 | Val Acc: 0.9933
 Best site-photo                     | Epoch:7 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:7 | Val Acc: 0.8333
 Best site-art_painting              | Epoch:7 | Val Acc: 0.8600
 Best site-cartoon                   | Epoch:7 | Val Acc: 0.8200
 Best site-cartoon                   | Epoch:7 | Val Acc: 0.7733
 Best site-sketch                    | Epoch:7 | Val Acc: 0.6133
 Best site-sketch                    | Epoch:7 | Val Acc: 0.5400
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 8 ============
 Site-photo                         | Train Loss: 0.4202 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.4248 | Train Acc: 0.9822
 Site-art_painting                  | Train Loss: 0.9277 | Train Acc: 0.8400
 Site-art_painting                  | Train Loss: 0.8565 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 1.0117 | Train Acc: 0.8000
 Site-cartoon                       | Train Loss: 1.0228 | Train Acc: 0.8022
 Site-sketch                        | Train Loss: 1.2678 | Train Acc: 0.6267
 Site-sketch                        | Train Loss: 1.2602 | Train Acc: 0.5644
Average Train Accuracy: 0.8086
 Best site-photo                     | Epoch:8 | Val Acc: 0.9933
 Best site-photo                     | Epoch:8 | Val Acc: 0.9822
 Best site-art_painting              | Epoch:8 | Val Acc: 0.8400
 Best site-art_painting              | Epoch:8 | Val Acc: 0.8600
 Best site-cartoon                   | Epoch:8 | Val Acc: 0.8000
 Best site-cartoon                   | Epoch:8 | Val Acc: 0.8022
 Best site-sketch                    | Epoch:8 | Val Acc: 0.6267
 Best site-sketch                    | Epoch:8 | Val Acc: 0.5644
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 9 ============
 Site-photo                         | Train Loss: 0.3368 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.3473 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 0.8871 | Train Acc: 0.8333
 Site-art_painting                  | Train Loss: 0.8222 | Train Acc: 0.8889
 Site-cartoon                       | Train Loss: 0.9326 | Train Acc: 0.8200
 Site-cartoon                       | Train Loss: 0.9730 | Train Acc: 0.7867
 Site-sketch                        | Train Loss: 1.2350 | Train Acc: 0.6267
 Site-sketch                        | Train Loss: 1.2568 | Train Acc: 0.5733
Average Train Accuracy: 0.8133
 Best site-photo                     | Epoch:9 | Val Acc: 0.9933
 Best site-photo                     | Epoch:9 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:9 | Val Acc: 0.8333
 Best site-art_painting              | Epoch:9 | Val Acc: 0.8889
 Best site-cartoon                   | Epoch:9 | Val Acc: 0.8200
 Best site-cartoon                   | Epoch:9 | Val Acc: 0.7867
 Best site-sketch                    | Epoch:9 | Val Acc: 0.6267
 Best site-sketch                    | Epoch:9 | Val Acc: 0.5733
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 10 ============
 Site-photo                         | Train Loss: 0.3064 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.2980 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.8367 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.7503 | Train Acc: 0.8667
 Site-cartoon                       | Train Loss: 0.9127 | Train Acc: 0.7933
 Site-cartoon                       | Train Loss: 0.9283 | Train Acc: 0.7911
 Site-sketch                        | Train Loss: 1.2065 | Train Acc: 0.6000
 Site-sketch                        | Train Loss: 1.1787 | Train Acc: 0.5800
Average Train Accuracy: 0.8081
============ Train epoch 11 ============
 Site-photo                         | Train Loss: 0.2466 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.2497 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.7828 | Train Acc: 0.8400
 Site-art_painting                  | Train Loss: 0.7386 | Train Acc: 0.8778
 Site-cartoon                       | Train Loss: 0.8676 | Train Acc: 0.8267
 Site-cartoon                       | Train Loss: 0.8800 | Train Acc: 0.8000
 Site-sketch                        | Train Loss: 1.1856 | Train Acc: 0.6200
 Site-sketch                        | Train Loss: 1.1682 | Train Acc: 0.6178
Average Train Accuracy: 0.8203
 Best site-photo                     | Epoch:11 | Val Acc: 0.9933
 Best site-photo                     | Epoch:11 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:11 | Val Acc: 0.8400
 Best site-art_painting              | Epoch:11 | Val Acc: 0.8778
 Best site-cartoon                   | Epoch:11 | Val Acc: 0.8267
 Best site-cartoon                   | Epoch:11 | Val Acc: 0.8000
 Best site-sketch                    | Epoch:11 | Val Acc: 0.6200
 Best site-sketch                    | Epoch:11 | Val Acc: 0.6178
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 12 ============
 Site-photo                         | Train Loss: 0.2178 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.2085 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 0.7323 | Train Acc: 0.8600
 Site-art_painting                  | Train Loss: 0.6229 | Train Acc: 0.8956
 Site-cartoon                       | Train Loss: 0.8175 | Train Acc: 0.8400
 Site-cartoon                       | Train Loss: 0.8306 | Train Acc: 0.8200
 Site-sketch                        | Train Loss: 1.1682 | Train Acc: 0.5933
 Site-sketch                        | Train Loss: 1.1876 | Train Acc: 0.6044
Average Train Accuracy: 0.8231
 Best site-photo                     | Epoch:12 | Val Acc: 0.9867
 Best site-photo                     | Epoch:12 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:12 | Val Acc: 0.8600
 Best site-art_painting              | Epoch:12 | Val Acc: 0.8956
 Best site-cartoon                   | Epoch:12 | Val Acc: 0.8400
 Best site-cartoon                   | Epoch:12 | Val Acc: 0.8200
 Best site-sketch                    | Epoch:12 | Val Acc: 0.5933
 Best site-sketch                    | Epoch:12 | Val Acc: 0.6044
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 13 ============
 Site-photo                         | Train Loss: 0.1834 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.1899 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.7217 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.6703 | Train Acc: 0.8911
 Site-cartoon                       | Train Loss: 0.8090 | Train Acc: 0.8067
 Site-cartoon                       | Train Loss: 0.8498 | Train Acc: 0.7978
 Site-sketch                        | Train Loss: 1.1220 | Train Acc: 0.6467
 Site-sketch                        | Train Loss: 1.1506 | Train Acc: 0.6222
Average Train Accuracy: 0.8256
 Best site-photo                     | Epoch:13 | Val Acc: 1.0000
 Best site-photo                     | Epoch:13 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:13 | Val Acc: 0.8533
 Best site-art_painting              | Epoch:13 | Val Acc: 0.8911
 Best site-cartoon                   | Epoch:13 | Val Acc: 0.8067
 Best site-cartoon                   | Epoch:13 | Val Acc: 0.7978
 Best site-sketch                    | Epoch:13 | Val Acc: 0.6467
 Best site-sketch                    | Epoch:13 | Val Acc: 0.6222
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 14 ============
 Site-photo                         | Train Loss: 0.1626 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.1591 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.6585 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.6631 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.7579 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.7621 | Train Acc: 0.8289
 Site-sketch                        | Train Loss: 1.1074 | Train Acc: 0.6200
 Site-sketch                        | Train Loss: 1.0936 | Train Acc: 0.6622
Average Train Accuracy: 0.8372
 Best site-photo                     | Epoch:14 | Val Acc: 0.9933
 Best site-photo                     | Epoch:14 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:14 | Val Acc: 0.8667
 Best site-art_painting              | Epoch:14 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:14 | Val Acc: 0.8533
 Best site-cartoon                   | Epoch:14 | Val Acc: 0.8289
 Best site-sketch                    | Epoch:14 | Val Acc: 0.6200
 Best site-sketch                    | Epoch:14 | Val Acc: 0.6622
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 15 ============
 Site-photo                         | Train Loss: 0.1283 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.1411 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.6910 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.5527 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.7525 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.7277 | Train Acc: 0.8244
 Site-sketch                        | Train Loss: 1.1286 | Train Acc: 0.6200
 Site-sketch                        | Train Loss: 1.0883 | Train Acc: 0.6667
Average Train Accuracy: 0.8422
 Best site-photo                     | Epoch:15 | Val Acc: 1.0000
 Best site-photo                     | Epoch:15 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:15 | Val Acc: 0.8533
 Best site-art_painting              | Epoch:15 | Val Acc: 0.9000
 Best site-cartoon                   | Epoch:15 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:15 | Val Acc: 0.8244
 Best site-sketch                    | Epoch:15 | Val Acc: 0.6200
 Best site-sketch                    | Epoch:15 | Val Acc: 0.6667
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 16 ============
 Site-photo                         | Train Loss: 0.1252 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.1378 | Train Acc: 0.9822
 Site-art_painting                  | Train Loss: 0.6379 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.5896 | Train Acc: 0.9089
 Site-cartoon                       | Train Loss: 0.7088 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 0.7599 | Train Acc: 0.8378
 Site-sketch                        | Train Loss: 1.0836 | Train Acc: 0.6400
 Site-sketch                        | Train Loss: 1.0783 | Train Acc: 0.6489
Average Train Accuracy: 0.8422
============ Train epoch 17 ============
 Site-photo                         | Train Loss: 0.1051 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.1574 | Train Acc: 0.9889
 Site-art_painting                  | Train Loss: 0.6123 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.4903 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.7078 | Train Acc: 0.8467
 Site-cartoon                       | Train Loss: 0.6889 | Train Acc: 0.8089
 Site-sketch                        | Train Loss: 1.0527 | Train Acc: 0.6200
 Site-sketch                        | Train Loss: 1.0557 | Train Acc: 0.6778
Average Train Accuracy: 0.8369
============ Train epoch 18 ============
 Site-photo                         | Train Loss: 0.0962 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.1080 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.6153 | Train Acc: 0.8600
 Site-art_painting                  | Train Loss: 0.5201 | Train Acc: 0.8822
 Site-cartoon                       | Train Loss: 0.7019 | Train Acc: 0.8200
 Site-cartoon                       | Train Loss: 0.7293 | Train Acc: 0.8467
 Site-sketch                        | Train Loss: 1.0519 | Train Acc: 0.6400
 Site-sketch                        | Train Loss: 1.0148 | Train Acc: 0.6756
Average Train Accuracy: 0.8381
============ Train epoch 19 ============
 Site-photo                         | Train Loss: 0.0785 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0957 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 0.5840 | Train Acc: 0.8467
 Site-art_painting                  | Train Loss: 0.4691 | Train Acc: 0.9044
 Site-cartoon                       | Train Loss: 0.6608 | Train Acc: 0.8467
 Site-cartoon                       | Train Loss: 0.7097 | Train Acc: 0.8156
 Site-sketch                        | Train Loss: 1.0620 | Train Acc: 0.6133
 Site-sketch                        | Train Loss: 0.9959 | Train Acc: 0.6933
Average Train Accuracy: 0.8372
============ Train epoch 20 ============
 Site-photo                         | Train Loss: 0.0724 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0865 | Train Acc: 0.9889
 Site-art_painting                  | Train Loss: 0.5920 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.4915 | Train Acc: 0.9089
 Site-cartoon                       | Train Loss: 0.6717 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.6728 | Train Acc: 0.8244
 Site-sketch                        | Train Loss: 1.0167 | Train Acc: 0.6867
 Site-sketch                        | Train Loss: 1.0083 | Train Acc: 0.6711
Average Train Accuracy: 0.8475
 Best site-photo                     | Epoch:20 | Val Acc: 0.9933
 Best site-photo                     | Epoch:20 | Val Acc: 0.9889
 Best site-art_painting              | Epoch:20 | Val Acc: 0.8533
 Best site-art_painting              | Epoch:20 | Val Acc: 0.9089
 Best site-cartoon                   | Epoch:20 | Val Acc: 0.8533
 Best site-cartoon                   | Epoch:20 | Val Acc: 0.8244
 Best site-sketch                    | Epoch:20 | Val Acc: 0.6867
 Best site-sketch                    | Epoch:20 | Val Acc: 0.6711
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 21 ============
 Site-photo                         | Train Loss: 0.0595 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0939 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.5715 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.4624 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.6603 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 0.6367 | Train Acc: 0.8400
 Site-sketch                        | Train Loss: 1.0007 | Train Acc: 0.6200
 Site-sketch                        | Train Loss: 0.9665 | Train Acc: 0.6933
Average Train Accuracy: 0.8492
 Best site-photo                     | Epoch:21 | Val Acc: 1.0000
 Best site-photo                     | Epoch:21 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:21 | Val Acc: 0.8800
 Best site-art_painting              | Epoch:21 | Val Acc: 0.9133
 Best site-cartoon                   | Epoch:21 | Val Acc: 0.8600
 Best site-cartoon                   | Epoch:21 | Val Acc: 0.8400
 Best site-sketch                    | Epoch:21 | Val Acc: 0.6200
 Best site-sketch                    | Epoch:21 | Val Acc: 0.6933
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 22 ============
 Site-photo                         | Train Loss: 0.0710 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.0815 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 0.5873 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.4232 | Train Acc: 0.9044
 Site-cartoon                       | Train Loss: 0.5762 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.6053 | Train Acc: 0.8511
 Site-sketch                        | Train Loss: 0.9575 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.9430 | Train Acc: 0.6800
Average Train Accuracy: 0.8542
 Best site-photo                     | Epoch:22 | Val Acc: 0.9867
 Best site-photo                     | Epoch:22 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:22 | Val Acc: 0.8533
 Best site-art_painting              | Epoch:22 | Val Acc: 0.9044
 Best site-cartoon                   | Epoch:22 | Val Acc: 0.8733
 Best site-cartoon                   | Epoch:22 | Val Acc: 0.8511
 Best site-sketch                    | Epoch:22 | Val Acc: 0.7000
 Best site-sketch                    | Epoch:22 | Val Acc: 0.6800
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 23 ============
 Site-photo                         | Train Loss: 0.0596 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0638 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.5054 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.4539 | Train Acc: 0.8978
 Site-cartoon                       | Train Loss: 0.5825 | Train Acc: 0.8667
 Site-cartoon                       | Train Loss: 0.6101 | Train Acc: 0.8422
 Site-sketch                        | Train Loss: 0.9873 | Train Acc: 0.6467
 Site-sketch                        | Train Loss: 0.9503 | Train Acc: 0.6956
Average Train Accuracy: 0.8514
============ Train epoch 24 ============
 Site-photo                         | Train Loss: 0.0550 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0903 | Train Acc: 0.9822
 Site-art_painting                  | Train Loss: 0.5461 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.4576 | Train Acc: 0.8978
 Site-cartoon                       | Train Loss: 0.5724 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.5825 | Train Acc: 0.8489
 Site-sketch                        | Train Loss: 0.9615 | Train Acc: 0.6733
 Site-sketch                        | Train Loss: 0.9694 | Train Acc: 0.7311
Average Train Accuracy: 0.8600
 Best site-photo                     | Epoch:24 | Val Acc: 1.0000
 Best site-photo                     | Epoch:24 | Val Acc: 0.9822
 Best site-art_painting              | Epoch:24 | Val Acc: 0.8733
 Best site-art_painting              | Epoch:24 | Val Acc: 0.8978
 Best site-cartoon                   | Epoch:24 | Val Acc: 0.8733
 Best site-cartoon                   | Epoch:24 | Val Acc: 0.8489
 Best site-sketch                    | Epoch:24 | Val Acc: 0.6733
 Best site-sketch                    | Epoch:24 | Val Acc: 0.7311
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 25 ============
 Site-photo                         | Train Loss: 0.0496 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0551 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.5383 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.4075 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.5870 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.5929 | Train Acc: 0.8400
 Site-sketch                        | Train Loss: 0.9370 | Train Acc: 0.6400
 Site-sketch                        | Train Loss: 0.9157 | Train Acc: 0.7089
Average Train Accuracy: 0.8519
============ Train epoch 26 ============
 Site-photo                         | Train Loss: 0.0585 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.0530 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4832 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.4188 | Train Acc: 0.9089
 Site-cartoon                       | Train Loss: 0.5612 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.5593 | Train Acc: 0.8533
 Site-sketch                        | Train Loss: 0.9621 | Train Acc: 0.6400
 Site-sketch                        | Train Loss: 0.8866 | Train Acc: 0.6822
Average Train Accuracy: 0.8494
============ Train epoch 27 ============
 Site-photo                         | Train Loss: 0.0458 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0721 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.4683 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3588 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.5580 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.6301 | Train Acc: 0.8489
 Site-sketch                        | Train Loss: 0.9489 | Train Acc: 0.6800
 Site-sketch                        | Train Loss: 0.9026 | Train Acc: 0.7222
Average Train Accuracy: 0.8656
 Best site-photo                     | Epoch:27 | Val Acc: 1.0000
 Best site-photo                     | Epoch:27 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:27 | Val Acc: 0.8867
 Best site-art_painting              | Epoch:27 | Val Acc: 0.9267
 Best site-cartoon                   | Epoch:27 | Val Acc: 0.8733
 Best site-cartoon                   | Epoch:27 | Val Acc: 0.8489
 Best site-sketch                    | Epoch:27 | Val Acc: 0.6800
 Best site-sketch                    | Epoch:27 | Val Acc: 0.7222
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 28 ============
 Site-photo                         | Train Loss: 0.0379 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0608 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 0.4843 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3780 | Train Acc: 0.9089
 Site-cartoon                       | Train Loss: 0.5501 | Train Acc: 0.8667
 Site-cartoon                       | Train Loss: 0.5242 | Train Acc: 0.8800
 Site-sketch                        | Train Loss: 0.9245 | Train Acc: 0.6800
 Site-sketch                        | Train Loss: 0.9409 | Train Acc: 0.7000
Average Train Accuracy: 0.8633
============ Train epoch 29 ============
 Site-photo                         | Train Loss: 0.0382 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0505 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.5263 | Train Acc: 0.8533
 Site-art_painting                  | Train Loss: 0.3955 | Train Acc: 0.9022
 Site-cartoon                       | Train Loss: 0.5075 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.5432 | Train Acc: 0.8356
 Site-sketch                        | Train Loss: 0.9481 | Train Acc: 0.6800
 Site-sketch                        | Train Loss: 0.8885 | Train Acc: 0.7111
Average Train Accuracy: 0.8597
============ Train epoch 30 ============
 Site-photo                         | Train Loss: 0.0429 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0497 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.5078 | Train Acc: 0.8600
 Site-art_painting                  | Train Loss: 0.3365 | Train Acc: 0.9356
 Site-cartoon                       | Train Loss: 0.5239 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.5070 | Train Acc: 0.8711
 Site-sketch                        | Train Loss: 0.9460 | Train Acc: 0.6533
 Site-sketch                        | Train Loss: 0.8787 | Train Acc: 0.6889
Average Train Accuracy: 0.8608
============ Train epoch 31 ============
 Site-photo                         | Train Loss: 0.0443 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.0559 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.4662 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3756 | Train Acc: 0.9311
 Site-cartoon                       | Train Loss: 0.5256 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.5000 | Train Acc: 0.8533
 Site-sketch                        | Train Loss: 0.9332 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.9163 | Train Acc: 0.7200
Average Train Accuracy: 0.8672
 Best site-photo                     | Epoch:31 | Val Acc: 0.9867
 Best site-photo                     | Epoch:31 | Val Acc: 0.9867
 Best site-art_painting              | Epoch:31 | Val Acc: 0.8867
 Best site-art_painting              | Epoch:31 | Val Acc: 0.9311
 Best site-cartoon                   | Epoch:31 | Val Acc: 0.8733
 Best site-cartoon                   | Epoch:31 | Val Acc: 0.8533
 Best site-sketch                    | Epoch:31 | Val Acc: 0.7000
 Best site-sketch                    | Epoch:31 | Val Acc: 0.7200
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 32 ============
 Site-photo                         | Train Loss: 0.0329 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0456 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4637 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3880 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.5155 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.5356 | Train Acc: 0.8511
 Site-sketch                        | Train Loss: 0.9398 | Train Acc: 0.6733
 Site-sketch                        | Train Loss: 0.8494 | Train Acc: 0.7311
Average Train Accuracy: 0.8667
============ Train epoch 33 ============
 Site-photo                         | Train Loss: 0.0307 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0438 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4660 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.3367 | Train Acc: 0.9089
 Site-cartoon                       | Train Loss: 0.4869 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.5778 | Train Acc: 0.8733
 Site-sketch                        | Train Loss: 0.9271 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.8791 | Train Acc: 0.7200
Average Train Accuracy: 0.8708
 Best site-photo                     | Epoch:33 | Val Acc: 1.0000
 Best site-photo                     | Epoch:33 | Val Acc: 0.9911
 Best site-art_painting              | Epoch:33 | Val Acc: 0.8733
 Best site-art_painting              | Epoch:33 | Val Acc: 0.9089
 Best site-cartoon                   | Epoch:33 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:33 | Val Acc: 0.8733
 Best site-sketch                    | Epoch:33 | Val Acc: 0.7133
 Best site-sketch                    | Epoch:33 | Val Acc: 0.7200
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 34 ============
 Site-photo                         | Train Loss: 0.0338 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0503 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4863 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.3672 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.4604 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.5003 | Train Acc: 0.8489
 Site-sketch                        | Train Loss: 0.8859 | Train Acc: 0.6600
 Site-sketch                        | Train Loss: 0.8207 | Train Acc: 0.7467
Average Train Accuracy: 0.8692
============ Train epoch 35 ============
 Site-photo                         | Train Loss: 0.0325 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0369 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.4487 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.3300 | Train Acc: 0.9378
 Site-cartoon                       | Train Loss: 0.4637 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.4867 | Train Acc: 0.8711
 Site-sketch                        | Train Loss: 0.9174 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.8578 | Train Acc: 0.7133
Average Train Accuracy: 0.8769
 Best site-photo                     | Epoch:35 | Val Acc: 1.0000
 Best site-photo                     | Epoch:35 | Val Acc: 0.9933
 Best site-art_painting              | Epoch:35 | Val Acc: 0.8800
 Best site-art_painting              | Epoch:35 | Val Acc: 0.9378
 Best site-cartoon                   | Epoch:35 | Val Acc: 0.9067
 Best site-cartoon                   | Epoch:35 | Val Acc: 0.8711
 Best site-sketch                    | Epoch:35 | Val Acc: 0.7133
 Best site-sketch                    | Epoch:35 | Val Acc: 0.7133
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 36 ============
 Site-photo                         | Train Loss: 0.0279 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0541 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4405 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.3883 | Train Acc: 0.9111
 Site-cartoon                       | Train Loss: 0.4716 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.4903 | Train Acc: 0.8667
 Site-sketch                        | Train Loss: 0.9411 | Train Acc: 0.6600
 Site-sketch                        | Train Loss: 0.8481 | Train Acc: 0.7311
Average Train Accuracy: 0.8642
============ Train epoch 37 ============
 Site-photo                         | Train Loss: 0.0284 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0354 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4456 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3520 | Train Acc: 0.9178
 Site-cartoon                       | Train Loss: 0.4643 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.5215 | Train Acc: 0.8600
 Site-sketch                        | Train Loss: 0.8829 | Train Acc: 0.6600
 Site-sketch                        | Train Loss: 0.8210 | Train Acc: 0.7400
Average Train Accuracy: 0.8686
============ Train epoch 38 ============
 Site-photo                         | Train Loss: 0.0331 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0300 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3680 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3388 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.4673 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.5510 | Train Acc: 0.8689
 Site-sketch                        | Train Loss: 0.9061 | Train Acc: 0.6667
 Site-sketch                        | Train Loss: 0.7730 | Train Acc: 0.7289
Average Train Accuracy: 0.8706
============ Train epoch 39 ============
 Site-photo                         | Train Loss: 0.0250 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0968 | Train Acc: 0.9889
 Site-art_painting                  | Train Loss: 0.4614 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.3338 | Train Acc: 0.9244
 Site-cartoon                       | Train Loss: 0.4623 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.4637 | Train Acc: 0.8822
 Site-sketch                        | Train Loss: 0.8823 | Train Acc: 0.6600
 Site-sketch                        | Train Loss: 0.7960 | Train Acc: 0.7133
Average Train Accuracy: 0.8661
============ Train epoch 40 ============
 Site-photo                         | Train Loss: 0.0287 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0341 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4704 | Train Acc: 0.8600
 Site-art_painting                  | Train Loss: 0.3921 | Train Acc: 0.9222
 Site-cartoon                       | Train Loss: 0.4173 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.4335 | Train Acc: 0.8778
 Site-sketch                        | Train Loss: 0.8613 | Train Acc: 0.6667
 Site-sketch                        | Train Loss: 0.8405 | Train Acc: 0.7267
Average Train Accuracy: 0.8697
============ Train epoch 41 ============
 Site-photo                         | Train Loss: 0.0385 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0315 | Train Acc: 0.9889
 Site-art_painting                  | Train Loss: 0.4055 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.3569 | Train Acc: 0.9178
 Site-cartoon                       | Train Loss: 0.4442 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.4618 | Train Acc: 0.8933
 Site-sketch                        | Train Loss: 0.8602 | Train Acc: 0.7067
 Site-sketch                        | Train Loss: 0.7877 | Train Acc: 0.7489
Average Train Accuracy: 0.8794
 Best site-photo                     | Epoch:41 | Val Acc: 0.9933
 Best site-photo                     | Epoch:41 | Val Acc: 0.9889
 Best site-art_painting              | Epoch:41 | Val Acc: 0.9000
 Best site-art_painting              | Epoch:41 | Val Acc: 0.9178
 Best site-cartoon                   | Epoch:41 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:41 | Val Acc: 0.8933
 Best site-sketch                    | Epoch:41 | Val Acc: 0.7067
 Best site-sketch                    | Epoch:41 | Val Acc: 0.7489
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 42 ============
 Site-photo                         | Train Loss: 0.0232 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0421 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.3881 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.3155 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.4421 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.4939 | Train Acc: 0.8733
 Site-sketch                        | Train Loss: 0.8696 | Train Acc: 0.6733
 Site-sketch                        | Train Loss: 0.7618 | Train Acc: 0.7578
Average Train Accuracy: 0.8714
============ Train epoch 43 ============
 Site-photo                         | Train Loss: 0.0286 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0320 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4209 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.3282 | Train Acc: 0.9244
 Site-cartoon                       | Train Loss: 0.4489 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.4558 | Train Acc: 0.8600
 Site-sketch                        | Train Loss: 0.8471 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.7607 | Train Acc: 0.7467
Average Train Accuracy: 0.8711
============ Train epoch 44 ============
 Site-photo                         | Train Loss: 0.0204 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0373 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.3891 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.3040 | Train Acc: 0.9311
 Site-cartoon                       | Train Loss: 0.4230 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.4255 | Train Acc: 0.8733
 Site-sketch                        | Train Loss: 0.8157 | Train Acc: 0.7067
 Site-sketch                        | Train Loss: 0.7658 | Train Acc: 0.7644
Average Train Accuracy: 0.8867
 Best site-photo                     | Epoch:44 | Val Acc: 1.0000
 Best site-photo                     | Epoch:44 | Val Acc: 0.9911
 Best site-art_painting              | Epoch:44 | Val Acc: 0.9000
 Best site-art_painting              | Epoch:44 | Val Acc: 0.9311
 Best site-cartoon                   | Epoch:44 | Val Acc: 0.9267
 Best site-cartoon                   | Epoch:44 | Val Acc: 0.8733
 Best site-sketch                    | Epoch:44 | Val Acc: 0.7067
 Best site-sketch                    | Epoch:44 | Val Acc: 0.7644
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/fedmix...
============ Train epoch 45 ============
 Site-photo                         | Train Loss: 0.0196 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0360 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4165 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.3021 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.4137 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.4467 | Train Acc: 0.8578
 Site-sketch                        | Train Loss: 0.8467 | Train Acc: 0.7067
 Site-sketch                        | Train Loss: 0.8317 | Train Acc: 0.7267
Average Train Accuracy: 0.8719
============ Train epoch 46 ============
 Site-photo                         | Train Loss: 0.0329 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0274 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.4071 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.3150 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.4149 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.4336 | Train Acc: 0.8889
 Site-sketch                        | Train Loss: 0.8288 | Train Acc: 0.6867
 Site-sketch                        | Train Loss: 0.7733 | Train Acc: 0.7289
Average Train Accuracy: 0.8756
============ Train epoch 47 ============
 Site-photo                         | Train Loss: 0.0174 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0269 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4103 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2958 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.4313 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.4693 | Train Acc: 0.8822
 Site-sketch                        | Train Loss: 0.8447 | Train Acc: 0.6733
 Site-sketch                        | Train Loss: 0.7475 | Train Acc: 0.7467
Average Train Accuracy: 0.8800
============ Train epoch 48 ============
 Site-photo                         | Train Loss: 0.0179 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0660 | Train Acc: 0.9867
 Site-art_painting                  | Train Loss: 0.4048 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3218 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.3932 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.4143 | Train Acc: 0.8889
 Site-sketch                        | Train Loss: 0.8510 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.7603 | Train Acc: 0.7600
Average Train Accuracy: 0.8853
============ Train epoch 49 ============
 Site-photo                         | Train Loss: 0.0213 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0290 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.4052 | Train Acc: 0.9067
 Site-art_painting                  | Train Loss: 0.3019 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.4219 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.4232 | Train Acc: 0.8733
 Site-sketch                        | Train Loss: 0.8392 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.7919 | Train Acc: 0.7244
Average Train Accuracy: 0.8772
 Test site-photo                     | Epoch:44 | Test Acc: 1.0000
 Test site-art_painting              | Epoch:44 | Test Acc: 0.9160
 Test site-cartoon                   | Epoch:44 | Test Acc: 0.8553
 Test site-sketch                    | Epoch:44 | Test Acc: 0.7344
photo: 1.0000, art_painting: 0.9160, cartoon: 0.8553, sketch: 0.7344, 
Average Test Accuracy(group): 0.8764, Average Test Accuracy(individual): 0.8764,
domain std=0.0967, cluster std=-1.0000, individual std=0.0967, 
===2023-08-17 08:25:29===
===2023-08-17 08:25:32===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
data_number=[150,450,150,450,150,450,150,450,
client_nums=[2,2,2,2,]
len_dataset=[1000,1000,1000,1000,]
domain number = 4
Loading snapshots...
 Test site-photo                     | Epoch:44 | Test Acc: 1.0000
 Test site-art_painting              | Epoch:44 | Test Acc: 0.9135
 Test site-cartoon                   | Epoch:44 | Test Acc: 0.8500
 Test site-sketch                    | Epoch:44 | Test Acc: 0.7236
photo: 1.0000, art_painting: 0.9135, cartoon: 0.8500, sketch: 0.7236, 
Average Test Accuracy(group): 0.8718, Average Test Accuracy(individual): 0.8718,
domain std=0.1008, cluster std=-1.0000, individual std=0.1008, 
