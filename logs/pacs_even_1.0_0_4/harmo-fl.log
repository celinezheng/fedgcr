===2023-08-17 02:53:49===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
===2023-08-17 02:53:51===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
===2023-08-17 04:40:35===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
data_number=[150,450,150,450,150,450,150,450,
client_nums=[2,2,2,2,]
len_dataset=[1000,1000,1000,1000,]
domain number = 4
============ Train epoch 0 ============
 Site-photo                         | Train Loss: 0.4372 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.4695 | Train Acc: 0.9844
 Site-art_painting                  | Train Loss: 1.0160 | Train Acc: 0.7867
 Site-art_painting                  | Train Loss: 0.9276 | Train Acc: 0.8267
 Site-cartoon                       | Train Loss: 1.0497 | Train Acc: 0.7800
 Site-cartoon                       | Train Loss: 1.0920 | Train Acc: 0.7200
 Site-sketch                        | Train Loss: 1.3816 | Train Acc: 0.5467
 Site-sketch                        | Train Loss: 1.3826 | Train Acc: 0.5111
Average Train Accuracy: 0.7686
 Best site-photo                     | Epoch:0 | Val Acc: 0.9933
 Best site-photo                     | Epoch:0 | Val Acc: 0.9844
 Best site-art_painting              | Epoch:0 | Val Acc: 0.7867
 Best site-art_painting              | Epoch:0 | Val Acc: 0.8267
 Best site-cartoon                   | Epoch:0 | Val Acc: 0.7800
 Best site-cartoon                   | Epoch:0 | Val Acc: 0.7200
 Best site-sketch                    | Epoch:0 | Val Acc: 0.5467
 Best site-sketch                    | Epoch:0 | Val Acc: 0.5111
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 1 ============
 Site-photo                         | Train Loss: 0.1311 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.1407 | Train Acc: 0.9822
 Site-art_painting                  | Train Loss: 0.6580 | Train Acc: 0.8467
 Site-art_painting                  | Train Loss: 0.6021 | Train Acc: 0.8800
 Site-cartoon                       | Train Loss: 0.7219 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.7504 | Train Acc: 0.7689
 Site-sketch                        | Train Loss: 1.2258 | Train Acc: 0.5067
 Site-sketch                        | Train Loss: 1.1887 | Train Acc: 0.5578
Average Train Accuracy: 0.7994
 Best site-photo                     | Epoch:1 | Val Acc: 1.0000
 Best site-photo                     | Epoch:1 | Val Acc: 0.9822
 Best site-art_painting              | Epoch:1 | Val Acc: 0.8467
 Best site-art_painting              | Epoch:1 | Val Acc: 0.8800
 Best site-cartoon                   | Epoch:1 | Val Acc: 0.8533
 Best site-cartoon                   | Epoch:1 | Val Acc: 0.7689
 Best site-sketch                    | Epoch:1 | Val Acc: 0.5067
 Best site-sketch                    | Epoch:1 | Val Acc: 0.5578
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 2 ============
 Site-photo                         | Train Loss: 0.0496 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0688 | Train Acc: 0.9889
 Site-art_painting                  | Train Loss: 0.5316 | Train Acc: 0.8600
 Site-art_painting                  | Train Loss: 0.4832 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.5804 | Train Acc: 0.8267
 Site-cartoon                       | Train Loss: 0.6017 | Train Acc: 0.8133
 Site-sketch                        | Train Loss: 1.0710 | Train Acc: 0.5533
 Site-sketch                        | Train Loss: 1.0467 | Train Acc: 0.6156
Average Train Accuracy: 0.8181
 Best site-photo                     | Epoch:2 | Val Acc: 1.0000
 Best site-photo                     | Epoch:2 | Val Acc: 0.9889
 Best site-art_painting              | Epoch:2 | Val Acc: 0.8600
 Best site-art_painting              | Epoch:2 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:2 | Val Acc: 0.8267
 Best site-cartoon                   | Epoch:2 | Val Acc: 0.8133
 Best site-sketch                    | Epoch:2 | Val Acc: 0.5533
 Best site-sketch                    | Epoch:2 | Val Acc: 0.6156
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 3 ============
 Site-photo                         | Train Loss: 0.0305 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0418 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.4627 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.3747 | Train Acc: 0.9156
 Site-cartoon                       | Train Loss: 0.5253 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.5325 | Train Acc: 0.8311
 Site-sketch                        | Train Loss: 0.9795 | Train Acc: 0.6267
 Site-sketch                        | Train Loss: 0.9379 | Train Acc: 0.6867
Average Train Accuracy: 0.8506
 Best site-photo                     | Epoch:3 | Val Acc: 1.0000
 Best site-photo                     | Epoch:3 | Val Acc: 0.9911
 Best site-art_painting              | Epoch:3 | Val Acc: 0.8667
 Best site-art_painting              | Epoch:3 | Val Acc: 0.9156
 Best site-cartoon                   | Epoch:3 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:3 | Val Acc: 0.8311
 Best site-sketch                    | Epoch:3 | Val Acc: 0.6267
 Best site-sketch                    | Epoch:3 | Val Acc: 0.6867
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 4 ============
 Site-photo                         | Train Loss: 0.0186 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0308 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.4785 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.3200 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.5111 | Train Acc: 0.8267
 Site-cartoon                       | Train Loss: 0.5074 | Train Acc: 0.8311
 Site-sketch                        | Train Loss: 0.9127 | Train Acc: 0.6867
 Site-sketch                        | Train Loss: 0.9187 | Train Acc: 0.6644
Average Train Accuracy: 0.8497
============ Train epoch 5 ============
 Site-photo                         | Train Loss: 0.0177 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0287 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.5037 | Train Acc: 0.8400
 Site-art_painting                  | Train Loss: 0.3329 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.4919 | Train Acc: 0.8800
 Site-cartoon                       | Train Loss: 0.4418 | Train Acc: 0.8778
 Site-sketch                        | Train Loss: 0.9197 | Train Acc: 0.6400
 Site-sketch                        | Train Loss: 0.8371 | Train Acc: 0.6778
Average Train Accuracy: 0.8525
 Best site-photo                     | Epoch:5 | Val Acc: 1.0000
 Best site-photo                     | Epoch:5 | Val Acc: 0.9911
 Best site-art_painting              | Epoch:5 | Val Acc: 0.8400
 Best site-art_painting              | Epoch:5 | Val Acc: 0.9133
 Best site-cartoon                   | Epoch:5 | Val Acc: 0.8800
 Best site-cartoon                   | Epoch:5 | Val Acc: 0.8778
 Best site-sketch                    | Epoch:5 | Val Acc: 0.6400
 Best site-sketch                    | Epoch:5 | Val Acc: 0.6778
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 6 ============
 Site-photo                         | Train Loss: 0.0137 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0151 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.4048 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.3371 | Train Acc: 0.9222
 Site-cartoon                       | Train Loss: 0.4136 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.4708 | Train Acc: 0.8622
 Site-sketch                        | Train Loss: 0.8493 | Train Acc: 0.6800
 Site-sketch                        | Train Loss: 0.8157 | Train Acc: 0.6556
Average Train Accuracy: 0.8614
 Best site-photo                     | Epoch:6 | Val Acc: 1.0000
 Best site-photo                     | Epoch:6 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:6 | Val Acc: 0.8867
 Best site-art_painting              | Epoch:6 | Val Acc: 0.9222
 Best site-cartoon                   | Epoch:6 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:6 | Val Acc: 0.8622
 Best site-sketch                    | Epoch:6 | Val Acc: 0.6800
 Best site-sketch                    | Epoch:6 | Val Acc: 0.6556
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 7 ============
 Site-photo                         | Train Loss: 0.0166 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0202 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.4079 | Train Acc: 0.8667
 Site-art_painting                  | Train Loss: 0.2496 | Train Acc: 0.9356
 Site-cartoon                       | Train Loss: 0.4172 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.4695 | Train Acc: 0.8667
 Site-sketch                        | Train Loss: 0.8248 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.7423 | Train Acc: 0.7200
Average Train Accuracy: 0.8731
 Best site-photo                     | Epoch:7 | Val Acc: 1.0000
 Best site-photo                     | Epoch:7 | Val Acc: 0.9956
 Best site-art_painting              | Epoch:7 | Val Acc: 0.8667
 Best site-art_painting              | Epoch:7 | Val Acc: 0.9356
 Best site-cartoon                   | Epoch:7 | Val Acc: 0.8867
 Best site-cartoon                   | Epoch:7 | Val Acc: 0.8667
 Best site-sketch                    | Epoch:7 | Val Acc: 0.7133
 Best site-sketch                    | Epoch:7 | Val Acc: 0.7200
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 8 ============
 Site-photo                         | Train Loss: 0.0329 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0256 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3639 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2840 | Train Acc: 0.9244
 Site-cartoon                       | Train Loss: 0.4481 | Train Acc: 0.8533
 Site-cartoon                       | Train Loss: 0.3850 | Train Acc: 0.8578
 Site-sketch                        | Train Loss: 0.8000 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.7240 | Train Acc: 0.7422
Average Train Accuracy: 0.8697
============ Train epoch 9 ============
 Site-photo                         | Train Loss: 0.0099 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0147 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3916 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2220 | Train Acc: 0.9422
 Site-cartoon                       | Train Loss: 0.3801 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.3595 | Train Acc: 0.8978
 Site-sketch                        | Train Loss: 0.8008 | Train Acc: 0.6733
 Site-sketch                        | Train Loss: 0.7327 | Train Acc: 0.7222
Average Train Accuracy: 0.8775
 Best site-photo                     | Epoch:9 | Val Acc: 1.0000
 Best site-photo                     | Epoch:9 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:9 | Val Acc: 0.8933
 Best site-art_painting              | Epoch:9 | Val Acc: 0.9422
 Best site-cartoon                   | Epoch:9 | Val Acc: 0.8933
 Best site-cartoon                   | Epoch:9 | Val Acc: 0.8978
 Best site-sketch                    | Epoch:9 | Val Acc: 0.6733
 Best site-sketch                    | Epoch:9 | Val Acc: 0.7222
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 10 ============
 Site-photo                         | Train Loss: 0.0113 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0145 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3698 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2309 | Train Acc: 0.9422
 Site-cartoon                       | Train Loss: 0.3677 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.3688 | Train Acc: 0.8867
 Site-sketch                        | Train Loss: 0.7383 | Train Acc: 0.7200
 Site-sketch                        | Train Loss: 0.6634 | Train Acc: 0.7467
Average Train Accuracy: 0.8825
 Best site-photo                     | Epoch:10 | Val Acc: 1.0000
 Best site-photo                     | Epoch:10 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:10 | Val Acc: 0.8933
 Best site-art_painting              | Epoch:10 | Val Acc: 0.9422
 Best site-cartoon                   | Epoch:10 | Val Acc: 0.8733
 Best site-cartoon                   | Epoch:10 | Val Acc: 0.8867
 Best site-sketch                    | Epoch:10 | Val Acc: 0.7200
 Best site-sketch                    | Epoch:10 | Val Acc: 0.7467
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 11 ============
 Site-photo                         | Train Loss: 0.0132 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0189 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3574 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.2884 | Train Acc: 0.9289
 Site-cartoon                       | Train Loss: 0.3993 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.3566 | Train Acc: 0.8822
 Site-sketch                        | Train Loss: 0.7979 | Train Acc: 0.7067
 Site-sketch                        | Train Loss: 0.6716 | Train Acc: 0.7489
Average Train Accuracy: 0.8761
============ Train epoch 12 ============
 Site-photo                         | Train Loss: 0.0062 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0138 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3308 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.2237 | Train Acc: 0.9378
 Site-cartoon                       | Train Loss: 0.3518 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.3092 | Train Acc: 0.9022
 Site-sketch                        | Train Loss: 0.7503 | Train Acc: 0.7067
 Site-sketch                        | Train Loss: 0.6210 | Train Acc: 0.7600
Average Train Accuracy: 0.8861
 Best site-photo                     | Epoch:12 | Val Acc: 1.0000
 Best site-photo                     | Epoch:12 | Val Acc: 0.9956
 Best site-art_painting              | Epoch:12 | Val Acc: 0.8867
 Best site-art_painting              | Epoch:12 | Val Acc: 0.9378
 Best site-cartoon                   | Epoch:12 | Val Acc: 0.9000
 Best site-cartoon                   | Epoch:12 | Val Acc: 0.9022
 Best site-sketch                    | Epoch:12 | Val Acc: 0.7067
 Best site-sketch                    | Epoch:12 | Val Acc: 0.7600
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 13 ============
 Site-photo                         | Train Loss: 0.0074 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0222 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3594 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.1949 | Train Acc: 0.9489
 Site-cartoon                       | Train Loss: 0.2945 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.3033 | Train Acc: 0.9067
 Site-sketch                        | Train Loss: 0.7056 | Train Acc: 0.7200
 Site-sketch                        | Train Loss: 0.6443 | Train Acc: 0.7622
Average Train Accuracy: 0.8933
 Best site-photo                     | Epoch:13 | Val Acc: 1.0000
 Best site-photo                     | Epoch:13 | Val Acc: 0.9956
 Best site-art_painting              | Epoch:13 | Val Acc: 0.9000
 Best site-art_painting              | Epoch:13 | Val Acc: 0.9489
 Best site-cartoon                   | Epoch:13 | Val Acc: 0.9133
 Best site-cartoon                   | Epoch:13 | Val Acc: 0.9067
 Best site-sketch                    | Epoch:13 | Val Acc: 0.7200
 Best site-sketch                    | Epoch:13 | Val Acc: 0.7622
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 14 ============
 Site-photo                         | Train Loss: 0.0046 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0131 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3286 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.2064 | Train Acc: 0.9533
 Site-cartoon                       | Train Loss: 0.3391 | Train Acc: 0.9267
 Site-cartoon                       | Train Loss: 0.2998 | Train Acc: 0.9000
 Site-sketch                        | Train Loss: 0.7437 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.6588 | Train Acc: 0.7689
Average Train Accuracy: 0.8931
============ Train epoch 15 ============
 Site-photo                         | Train Loss: 0.0206 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0106 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3467 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.1881 | Train Acc: 0.9467
 Site-cartoon                       | Train Loss: 0.3012 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.3041 | Train Acc: 0.9067
 Site-sketch                        | Train Loss: 0.7508 | Train Acc: 0.6933
 Site-sketch                        | Train Loss: 0.5880 | Train Acc: 0.7756
Average Train Accuracy: 0.8892
============ Train epoch 16 ============
 Site-photo                         | Train Loss: 0.0093 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0157 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.4445 | Train Acc: 0.8733
 Site-art_painting                  | Train Loss: 0.2032 | Train Acc: 0.9489
 Site-cartoon                       | Train Loss: 0.3305 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.2750 | Train Acc: 0.9222
 Site-sketch                        | Train Loss: 0.6637 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 0.5860 | Train Acc: 0.7889
Average Train Accuracy: 0.9014
 Best site-photo                     | Epoch:16 | Val Acc: 1.0000
 Best site-photo                     | Epoch:16 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:16 | Val Acc: 0.8733
 Best site-art_painting              | Epoch:16 | Val Acc: 0.9489
 Best site-cartoon                   | Epoch:16 | Val Acc: 0.9067
 Best site-cartoon                   | Epoch:16 | Val Acc: 0.9222
 Best site-sketch                    | Epoch:16 | Val Acc: 0.7733
 Best site-sketch                    | Epoch:16 | Val Acc: 0.7889
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 17 ============
 Site-photo                         | Train Loss: 0.0043 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0099 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3759 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.1905 | Train Acc: 0.9578
 Site-cartoon                       | Train Loss: 0.3368 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.3206 | Train Acc: 0.9022
 Site-sketch                        | Train Loss: 0.6887 | Train Acc: 0.7600
 Site-sketch                        | Train Loss: 0.5740 | Train Acc: 0.7844
Average Train Accuracy: 0.8978
============ Train epoch 18 ============
 Site-photo                         | Train Loss: 0.0042 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0180 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3528 | Train Acc: 0.8467
 Site-art_painting                  | Train Loss: 0.2080 | Train Acc: 0.9400
 Site-cartoon                       | Train Loss: 0.2826 | Train Acc: 0.8800
 Site-cartoon                       | Train Loss: 0.3104 | Train Acc: 0.9044
 Site-sketch                        | Train Loss: 0.6445 | Train Acc: 0.7867
 Site-sketch                        | Train Loss: 0.5054 | Train Acc: 0.8200
Average Train Accuracy: 0.8964
============ Train epoch 19 ============
 Site-photo                         | Train Loss: 0.0051 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0198 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3673 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1990 | Train Acc: 0.9422
 Site-cartoon                       | Train Loss: 0.3361 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.2910 | Train Acc: 0.8956
 Site-sketch                        | Train Loss: 0.6728 | Train Acc: 0.7400
 Site-sketch                        | Train Loss: 0.5821 | Train Acc: 0.7867
Average Train Accuracy: 0.8939
============ Train epoch 20 ============
 Site-photo                         | Train Loss: 0.0048 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0149 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3664 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2139 | Train Acc: 0.9489
 Site-cartoon                       | Train Loss: 0.3216 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.2523 | Train Acc: 0.9200
 Site-sketch                        | Train Loss: 0.7079 | Train Acc: 0.7267
 Site-sketch                        | Train Loss: 0.7044 | Train Acc: 0.7756
Average Train Accuracy: 0.8961
============ Train epoch 21 ============
 Site-photo                         | Train Loss: 0.0061 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0163 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3370 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.1658 | Train Acc: 0.9622
 Site-cartoon                       | Train Loss: 0.3390 | Train Acc: 0.8733
 Site-cartoon                       | Train Loss: 0.2510 | Train Acc: 0.9133
 Site-sketch                        | Train Loss: 0.6556 | Train Acc: 0.7867
 Site-sketch                        | Train Loss: 0.6037 | Train Acc: 0.7889
Average Train Accuracy: 0.8997
============ Train epoch 22 ============
 Site-photo                         | Train Loss: 0.0033 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0104 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3611 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.1688 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.3201 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.2953 | Train Acc: 0.9289
 Site-sketch                        | Train Loss: 0.6511 | Train Acc: 0.7400
 Site-sketch                        | Train Loss: 0.5768 | Train Acc: 0.7822
Average Train Accuracy: 0.9014
============ Train epoch 23 ============
 Site-photo                         | Train Loss: 0.0073 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0050 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3867 | Train Acc: 0.9067
 Site-art_painting                  | Train Loss: 0.2275 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.2852 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.2777 | Train Acc: 0.9133
 Site-sketch                        | Train Loss: 0.6825 | Train Acc: 0.7533
 Site-sketch                        | Train Loss: 0.5133 | Train Acc: 0.7956
Average Train Accuracy: 0.9064
 Best site-photo                     | Epoch:23 | Val Acc: 1.0000
 Best site-photo                     | Epoch:23 | Val Acc: 1.0000
 Best site-art_painting              | Epoch:23 | Val Acc: 0.9067
 Best site-art_painting              | Epoch:23 | Val Acc: 0.9689
 Best site-cartoon                   | Epoch:23 | Val Acc: 0.9133
 Best site-cartoon                   | Epoch:23 | Val Acc: 0.9133
 Best site-sketch                    | Epoch:23 | Val Acc: 0.7533
 Best site-sketch                    | Epoch:23 | Val Acc: 0.7956
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 24 ============
 Site-photo                         | Train Loss: 0.0071 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0073 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3786 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1766 | Train Acc: 0.9511
 Site-cartoon                       | Train Loss: 0.3097 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.2355 | Train Acc: 0.9267
 Site-sketch                        | Train Loss: 0.6409 | Train Acc: 0.7400
 Site-sketch                        | Train Loss: 0.5320 | Train Acc: 0.8178
Average Train Accuracy: 0.9033
============ Train epoch 25 ============
 Site-photo                         | Train Loss: 0.0070 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0051 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3590 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1792 | Train Acc: 0.9533
 Site-cartoon                       | Train Loss: 0.2568 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.2960 | Train Acc: 0.9289
 Site-sketch                        | Train Loss: 0.6734 | Train Acc: 0.7667
 Site-sketch                        | Train Loss: 0.5118 | Train Acc: 0.8289
Average Train Accuracy: 0.9106
 Best site-photo                     | Epoch:25 | Val Acc: 1.0000
 Best site-photo                     | Epoch:25 | Val Acc: 1.0000
 Best site-art_painting              | Epoch:25 | Val Acc: 0.8867
 Best site-art_painting              | Epoch:25 | Val Acc: 0.9533
 Best site-cartoon                   | Epoch:25 | Val Acc: 0.9200
 Best site-cartoon                   | Epoch:25 | Val Acc: 0.9289
 Best site-sketch                    | Epoch:25 | Val Acc: 0.7667
 Best site-sketch                    | Epoch:25 | Val Acc: 0.8289
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 26 ============
 Site-photo                         | Train Loss: 0.0032 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0048 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3565 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.1775 | Train Acc: 0.9533
 Site-cartoon                       | Train Loss: 0.3012 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.3328 | Train Acc: 0.9222
 Site-sketch                        | Train Loss: 0.6084 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 0.5145 | Train Acc: 0.8311
Average Train Accuracy: 0.9108
 Best site-photo                     | Epoch:26 | Val Acc: 1.0000
 Best site-photo                     | Epoch:26 | Val Acc: 1.0000
 Best site-art_painting              | Epoch:26 | Val Acc: 0.9000
 Best site-art_painting              | Epoch:26 | Val Acc: 0.9533
 Best site-cartoon                   | Epoch:26 | Val Acc: 0.9067
 Best site-cartoon                   | Epoch:26 | Val Acc: 0.9222
 Best site-sketch                    | Epoch:26 | Val Acc: 0.7733
 Best site-sketch                    | Epoch:26 | Val Acc: 0.8311
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 27 ============
 Site-photo                         | Train Loss: 0.0023 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0063 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3519 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2015 | Train Acc: 0.9578
 Site-cartoon                       | Train Loss: 0.2610 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.3086 | Train Acc: 0.9067
 Site-sketch                        | Train Loss: 0.6528 | Train Acc: 0.7467
 Site-sketch                        | Train Loss: 0.5129 | Train Acc: 0.8067
Average Train Accuracy: 0.9050
============ Train epoch 28 ============
 Site-photo                         | Train Loss: 0.0027 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0148 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3285 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.2088 | Train Acc: 0.9511
 Site-cartoon                       | Train Loss: 0.3389 | Train Acc: 0.9067
 Site-cartoon                       | Train Loss: 0.2837 | Train Acc: 0.9133
 Site-sketch                        | Train Loss: 0.6555 | Train Acc: 0.7200
 Site-sketch                        | Train Loss: 0.6149 | Train Acc: 0.8022
Average Train Accuracy: 0.8961
============ Train epoch 29 ============
 Site-photo                         | Train Loss: 0.0023 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0140 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3556 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1672 | Train Acc: 0.9556
 Site-cartoon                       | Train Loss: 0.3279 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.2815 | Train Acc: 0.9244
 Site-sketch                        | Train Loss: 0.8018 | Train Acc: 0.7000
 Site-sketch                        | Train Loss: 0.5300 | Train Acc: 0.8022
Average Train Accuracy: 0.8956
============ Train epoch 30 ============
 Site-photo                         | Train Loss: 0.0042 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0241 | Train Acc: 0.9911
 Site-art_painting                  | Train Loss: 0.3655 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1837 | Train Acc: 0.9422
 Site-cartoon                       | Train Loss: 0.3305 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.2613 | Train Acc: 0.9222
 Site-sketch                        | Train Loss: 0.6747 | Train Acc: 0.7533
 Site-sketch                        | Train Loss: 0.5167 | Train Acc: 0.8022
Average Train Accuracy: 0.8981
============ Train epoch 31 ============
 Site-photo                         | Train Loss: 0.0071 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0080 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3661 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.1620 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.3286 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.2357 | Train Acc: 0.9311
 Site-sketch                        | Train Loss: 0.6829 | Train Acc: 0.7467
 Site-sketch                        | Train Loss: 0.5441 | Train Acc: 0.8267
Average Train Accuracy: 0.9072
============ Train epoch 32 ============
 Site-photo                         | Train Loss: 0.0036 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0162 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.3252 | Train Acc: 0.9200
 Site-art_painting                  | Train Loss: 0.1453 | Train Acc: 0.9644
 Site-cartoon                       | Train Loss: 0.3762 | Train Acc: 0.8600
 Site-cartoon                       | Train Loss: 0.2307 | Train Acc: 0.9311
 Site-sketch                        | Train Loss: 0.5760 | Train Acc: 0.7867
 Site-sketch                        | Train Loss: 0.4850 | Train Acc: 0.8156
Average Train Accuracy: 0.9092
============ Train epoch 33 ============
 Site-photo                         | Train Loss: 0.0049 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0112 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3109 | Train Acc: 0.9200
 Site-art_painting                  | Train Loss: 0.1427 | Train Acc: 0.9800
 Site-cartoon                       | Train Loss: 0.3288 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.3151 | Train Acc: 0.9222
 Site-sketch                        | Train Loss: 0.6643 | Train Acc: 0.7800
 Site-sketch                        | Train Loss: 0.5695 | Train Acc: 0.8044
Average Train Accuracy: 0.9131
 Best site-photo                     | Epoch:33 | Val Acc: 1.0000
 Best site-photo                     | Epoch:33 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:33 | Val Acc: 0.9200
 Best site-art_painting              | Epoch:33 | Val Acc: 0.9800
 Best site-cartoon                   | Epoch:33 | Val Acc: 0.9000
 Best site-cartoon                   | Epoch:33 | Val Acc: 0.9222
 Best site-sketch                    | Epoch:33 | Val Acc: 0.7800
 Best site-sketch                    | Epoch:33 | Val Acc: 0.8044
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 34 ============
 Site-photo                         | Train Loss: 0.0081 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0088 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.2791 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.1593 | Train Acc: 0.9578
 Site-cartoon                       | Train Loss: 0.2774 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.2629 | Train Acc: 0.9289
 Site-sketch                        | Train Loss: 0.6684 | Train Acc: 0.7533
 Site-sketch                        | Train Loss: 0.4891 | Train Acc: 0.8289
Average Train Accuracy: 0.9125
============ Train epoch 35 ============
 Site-photo                         | Train Loss: 0.0050 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0127 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3499 | Train Acc: 0.8800
 Site-art_painting                  | Train Loss: 0.1446 | Train Acc: 0.9711
 Site-cartoon                       | Train Loss: 0.3251 | Train Acc: 0.8867
 Site-cartoon                       | Train Loss: 0.2372 | Train Acc: 0.9133
 Site-sketch                        | Train Loss: 0.6858 | Train Acc: 0.7133
 Site-sketch                        | Train Loss: 0.4804 | Train Acc: 0.8333
Average Train Accuracy: 0.8994
============ Train epoch 36 ============
 Site-photo                         | Train Loss: 0.0083 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0036 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3173 | Train Acc: 0.9067
 Site-art_painting                  | Train Loss: 0.2116 | Train Acc: 0.9600
 Site-cartoon                       | Train Loss: 0.3109 | Train Acc: 0.8933
 Site-cartoon                       | Train Loss: 0.2569 | Train Acc: 0.9289
 Site-sketch                        | Train Loss: 0.6741 | Train Acc: 0.7467
 Site-sketch                        | Train Loss: 0.5169 | Train Acc: 0.7978
Average Train Accuracy: 0.9042
============ Train epoch 37 ============
 Site-photo                         | Train Loss: 0.0090 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0023 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3372 | Train Acc: 0.9200
 Site-art_painting                  | Train Loss: 0.1429 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.2849 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.1956 | Train Acc: 0.9422
 Site-sketch                        | Train Loss: 0.6817 | Train Acc: 0.7667
 Site-sketch                        | Train Loss: 0.5020 | Train Acc: 0.8089
Average Train Accuracy: 0.9175
 Best site-photo                     | Epoch:37 | Val Acc: 1.0000
 Best site-photo                     | Epoch:37 | Val Acc: 1.0000
 Best site-art_painting              | Epoch:37 | Val Acc: 0.9200
 Best site-art_painting              | Epoch:37 | Val Acc: 0.9689
 Best site-cartoon                   | Epoch:37 | Val Acc: 0.9333
 Best site-cartoon                   | Epoch:37 | Val Acc: 0.9422
 Best site-sketch                    | Epoch:37 | Val Acc: 0.7667
 Best site-sketch                    | Epoch:37 | Val Acc: 0.8089
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 38 ============
 Site-photo                         | Train Loss: 0.0037 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0048 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.2550 | Train Acc: 0.9267
 Site-art_painting                  | Train Loss: 0.1516 | Train Acc: 0.9533
 Site-cartoon                       | Train Loss: 0.3114 | Train Acc: 0.9133
 Site-cartoon                       | Train Loss: 0.2243 | Train Acc: 0.9267
 Site-sketch                        | Train Loss: 0.6105 | Train Acc: 0.7800
 Site-sketch                        | Train Loss: 0.5425 | Train Acc: 0.8444
Average Train Accuracy: 0.9178
 Best site-photo                     | Epoch:38 | Val Acc: 1.0000
 Best site-photo                     | Epoch:38 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:38 | Val Acc: 0.9267
 Best site-art_painting              | Epoch:38 | Val Acc: 0.9533
 Best site-cartoon                   | Epoch:38 | Val Acc: 0.9133
 Best site-cartoon                   | Epoch:38 | Val Acc: 0.9267
 Best site-sketch                    | Epoch:38 | Val Acc: 0.7800
 Best site-sketch                    | Epoch:38 | Val Acc: 0.8444
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 39 ============
 Site-photo                         | Train Loss: 0.0248 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0244 | Train Acc: 0.9933
 Site-art_painting                  | Train Loss: 0.3662 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.1367 | Train Acc: 0.9622
 Site-cartoon                       | Train Loss: 0.2856 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.1970 | Train Acc: 0.9533
 Site-sketch                        | Train Loss: 0.6819 | Train Acc: 0.7600
 Site-sketch                        | Train Loss: 0.4923 | Train Acc: 0.8444
Average Train Accuracy: 0.9167
============ Train epoch 40 ============
 Site-photo                         | Train Loss: 0.0034 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0089 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3281 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1650 | Train Acc: 0.9578
 Site-cartoon                       | Train Loss: 0.2920 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.2170 | Train Acc: 0.9244
 Site-sketch                        | Train Loss: 0.6496 | Train Acc: 0.7533
 Site-sketch                        | Train Loss: 0.5108 | Train Acc: 0.8200
Average Train Accuracy: 0.9075
============ Train epoch 41 ============
 Site-photo                         | Train Loss: 0.0041 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0125 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.2939 | Train Acc: 0.9200
 Site-art_painting                  | Train Loss: 0.1545 | Train Acc: 0.9800
 Site-cartoon                       | Train Loss: 0.2398 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.2123 | Train Acc: 0.9356
 Site-sketch                        | Train Loss: 0.6577 | Train Acc: 0.7400
 Site-sketch                        | Train Loss: 0.4440 | Train Acc: 0.8400
Average Train Accuracy: 0.9181
 Best site-photo                     | Epoch:41 | Val Acc: 1.0000
 Best site-photo                     | Epoch:41 | Val Acc: 0.9956
 Best site-art_painting              | Epoch:41 | Val Acc: 0.9200
 Best site-art_painting              | Epoch:41 | Val Acc: 0.9800
 Best site-cartoon                   | Epoch:41 | Val Acc: 0.9333
 Best site-cartoon                   | Epoch:41 | Val Acc: 0.9356
 Best site-sketch                    | Epoch:41 | Val Acc: 0.7400
 Best site-sketch                    | Epoch:41 | Val Acc: 0.8400
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 42 ============
 Site-photo                         | Train Loss: 0.0037 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0037 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.2593 | Train Acc: 0.9200
 Site-art_painting                  | Train Loss: 0.1726 | Train Acc: 0.9600
 Site-cartoon                       | Train Loss: 0.2315 | Train Acc: 0.9467
 Site-cartoon                       | Train Loss: 0.1977 | Train Acc: 0.9489
 Site-sketch                        | Train Loss: 0.6566 | Train Acc: 0.7400
 Site-sketch                        | Train Loss: 0.4672 | Train Acc: 0.8267
Average Train Accuracy: 0.9178
============ Train epoch 43 ============
 Site-photo                         | Train Loss: 0.0049 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0073 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3251 | Train Acc: 0.9133
 Site-art_painting                  | Train Loss: 0.1564 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.2602 | Train Acc: 0.9400
 Site-cartoon                       | Train Loss: 0.2170 | Train Acc: 0.9333
 Site-sketch                        | Train Loss: 0.5735 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 0.4933 | Train Acc: 0.8378
Average Train Accuracy: 0.9206
 Best site-photo                     | Epoch:43 | Val Acc: 1.0000
 Best site-photo                     | Epoch:43 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:43 | Val Acc: 0.9133
 Best site-art_painting              | Epoch:43 | Val Acc: 0.9689
 Best site-cartoon                   | Epoch:43 | Val Acc: 0.9400
 Best site-cartoon                   | Epoch:43 | Val Acc: 0.9333
 Best site-sketch                    | Epoch:43 | Val Acc: 0.7733
 Best site-sketch                    | Epoch:43 | Val Acc: 0.8378
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 44 ============
 Site-photo                         | Train Loss: 0.0092 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0045 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3059 | Train Acc: 0.9067
 Site-art_painting                  | Train Loss: 0.1711 | Train Acc: 0.9622
 Site-cartoon                       | Train Loss: 0.2706 | Train Acc: 0.9400
 Site-cartoon                       | Train Loss: 0.1907 | Train Acc: 0.9467
 Site-sketch                        | Train Loss: 0.6052 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 0.4680 | Train Acc: 0.8244
Average Train Accuracy: 0.9189
============ Train epoch 45 ============
 Site-photo                         | Train Loss: 0.0372 | Train Acc: 0.9867
 Site-photo                         | Train Loss: 0.0053 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3020 | Train Acc: 0.9267
 Site-art_painting                  | Train Loss: 0.1393 | Train Acc: 0.9689
 Site-cartoon                       | Train Loss: 0.2513 | Train Acc: 0.9533
 Site-cartoon                       | Train Loss: 0.1994 | Train Acc: 0.9400
 Site-sketch                        | Train Loss: 0.6435 | Train Acc: 0.7733
 Site-sketch                        | Train Loss: 0.4694 | Train Acc: 0.8111
Average Train Accuracy: 0.9200
============ Train epoch 46 ============
 Site-photo                         | Train Loss: 0.0018 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0035 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3354 | Train Acc: 0.8933
 Site-art_painting                  | Train Loss: 0.2285 | Train Acc: 0.9600
 Site-cartoon                       | Train Loss: 0.2834 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.2468 | Train Acc: 0.9378
 Site-sketch                        | Train Loss: 0.5789 | Train Acc: 0.7600
 Site-sketch                        | Train Loss: 0.4685 | Train Acc: 0.8333
Average Train Accuracy: 0.9131
============ Train epoch 47 ============
 Site-photo                         | Train Loss: 0.0108 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0047 | Train Acc: 0.9978
 Site-art_painting                  | Train Loss: 0.3120 | Train Acc: 0.9000
 Site-art_painting                  | Train Loss: 0.1472 | Train Acc: 0.9667
 Site-cartoon                       | Train Loss: 0.2747 | Train Acc: 0.9200
 Site-cartoon                       | Train Loss: 0.2347 | Train Acc: 0.9489
 Site-sketch                        | Train Loss: 0.6313 | Train Acc: 0.7933
 Site-sketch                        | Train Loss: 0.4545 | Train Acc: 0.8400
Average Train Accuracy: 0.9208
 Best site-photo                     | Epoch:47 | Val Acc: 1.0000
 Best site-photo                     | Epoch:47 | Val Acc: 0.9978
 Best site-art_painting              | Epoch:47 | Val Acc: 0.9000
 Best site-art_painting              | Epoch:47 | Val Acc: 0.9667
 Best site-cartoon                   | Epoch:47 | Val Acc: 0.9200
 Best site-cartoon                   | Epoch:47 | Val Acc: 0.9489
 Best site-sketch                    | Epoch:47 | Val Acc: 0.7933
 Best site-sketch                    | Epoch:47 | Val Acc: 0.8400
 Saving the local and server checkpoint to ../checkpoint/fed_pacs_even_1.0_0/harmo-fl...
============ Train epoch 48 ============
 Site-photo                         | Train Loss: 0.0130 | Train Acc: 0.9933
 Site-photo                         | Train Loss: 0.0054 | Train Acc: 1.0000
 Site-art_painting                  | Train Loss: 0.3639 | Train Acc: 0.8867
 Site-art_painting                  | Train Loss: 0.1702 | Train Acc: 0.9644
 Site-cartoon                       | Train Loss: 0.3167 | Train Acc: 0.9000
 Site-cartoon                       | Train Loss: 0.2355 | Train Acc: 0.9400
 Site-sketch                        | Train Loss: 0.6606 | Train Acc: 0.7667
 Site-sketch                        | Train Loss: 0.4564 | Train Acc: 0.8422
Average Train Accuracy: 0.9117
============ Train epoch 49 ============
 Site-photo                         | Train Loss: 0.0024 | Train Acc: 1.0000
 Site-photo                         | Train Loss: 0.0108 | Train Acc: 0.9956
 Site-art_painting                  | Train Loss: 0.2984 | Train Acc: 0.9267
 Site-art_painting                  | Train Loss: 0.1737 | Train Acc: 0.9600
 Site-cartoon                       | Train Loss: 0.2648 | Train Acc: 0.9333
 Site-cartoon                       | Train Loss: 0.2474 | Train Acc: 0.9311
 Site-sketch                        | Train Loss: 0.6619 | Train Acc: 0.7667
 Site-sketch                        | Train Loss: 0.4835 | Train Acc: 0.8378
Average Train Accuracy: 0.9189
 Test site-photo                     | Epoch:47 | Test Acc: 0.9970
 Test site-art_painting              | Epoch:47 | Test Acc: 0.9220
 Test site-cartoon                   | Epoch:47 | Test Acc: 0.8660
 Test site-sketch                    | Epoch:47 | Test Acc: 0.7865
photo: 0.9970, art_painting: 0.9220, cartoon: 0.8660, sketch: 0.7865, 
Average Test Accuracy(group): 0.8929, Average Test Accuracy(individual): 0.8929,
domain std=0.0770, cluster std=-1.0000, individual std=0.0770, 
===2023-08-17 06:36:38===
===2023-08-17 06:36:43===
===Setting===
    dataset: pacs
    lr: 0.01
    batch: 32
    iters: 50
    wk_iters: 1
    domain_num: 4
data_number=[150,450,150,450,150,450,150,450,
client_nums=[2,2,2,2,]
len_dataset=[1000,1000,1000,1000,]
domain number = 4
Loading snapshots...
 Test site-photo                     | Epoch:47 | Test Acc: 0.9985
 Test site-art_painting              | Epoch:47 | Test Acc: 0.9245
 Test site-cartoon                   | Epoch:47 | Test Acc: 0.8638
 Test site-sketch                    | Epoch:47 | Test Acc: 0.7814
photo: 0.9985, art_painting: 0.9245, cartoon: 0.8638, sketch: 0.7814, 
Average Test Accuracy(group): 0.8921, Average Test Accuracy(individual): 0.8921,
domain std=0.0797, cluster std=-1.0000, individual std=0.0797, 
